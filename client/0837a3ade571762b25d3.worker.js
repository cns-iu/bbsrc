!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="v1qZ")}({v1qZ:function(e,t){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=274)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);Object.defineProperty(t,"GraphQLError",{enumerable:!0,get:function(){return r.GraphQLError}});var i=n(302);Object.defineProperty(t,"syntaxError",{enumerable:!0,get:function(){return i.syntaxError}});var o=n(167);Object.defineProperty(t,"locatedError",{enumerable:!0,get:function(){return o.locatedError}});var a=n(164);Object.defineProperty(t,"printError",{enumerable:!0,get:function(){return a.printError}});var u=n(303);Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return u.formatError}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLInputObjectType=t.GraphQLEnumType=t.GraphQLUnionType=t.GraphQLInterfaceType=t.GraphQLObjectType=t.GraphQLScalarType=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isType=p,t.assertType=d,t.isScalarType=h,t.assertScalarType=function(e){return h(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Scalar type."),e},t.isObjectType=y,t.assertObjectType=function(e){return y(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Object type."),e},t.isInterfaceType=v,t.assertInterfaceType=function(e){return v(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Interface type."),e},t.isUnionType=m,t.assertUnionType=function(e){return m(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Union type."),e},t.isEnumType=b,t.assertEnumType=function(e){return b(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Enum type."),e},t.isInputObjectType=g,t.assertInputObjectType=function(e){return g(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Input Object type."),e},t.isListType=_,t.assertListType=function(e){return _(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL List type."),e},t.isNonNullType=w,t.assertNonNullType=function(e){return w(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Non-Null type."),e},t.isInputType=E,t.assertInputType=function(e){return E(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL input type."),e},t.isOutputType=O,t.assertOutputType=function(e){return O(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL output type."),e},t.isLeafType=T,t.assertLeafType=function(e){return T(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL leaf type."),e},t.isCompositeType=S,t.assertCompositeType=function(e){return S(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL composite type."),e},t.isAbstractType=k,t.assertAbstractType=function(e){return k(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL abstract type."),e},t.GraphQLList=x,t.GraphQLNonNull=N,t.isWrappingType=A,t.assertWrappingType=function(e){return A(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL wrapping type."),e},t.isNullableType=L,t.assertNullableType=D,t.getNullableType=function(e){if(e)return w(e)?e.ofType:e},t.isNamedType=P,t.assertNamedType=function(e){return P(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL named type."),e},t.getNamedType=function(e){if(e){for(var t=e;A(t);)t=t.ofType;return t}};var o=f(n(111)),a=f(n(18)),u=f(n(23)),s=n(3),c=n(163);function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return h(e)||y(e)||v(e)||m(e)||b(e)||g(e)||_(e)||w(e)}function d(e){return p(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL type."),e}function h(e){return(0,o.default)(e,C)}function y(e){return(0,o.default)(e,M)}function v(e){return(0,o.default)(e,U)}function m(e){return(0,o.default)(e,B)}function b(e){return(0,o.default)(e,G)}function g(e){return(0,o.default)(e,Q)}function _(e){return(0,o.default)(e,x)}function w(e){return(0,o.default)(e,N)}function E(e){return h(e)||b(e)||g(e)||A(e)&&E(e.ofType)}function O(e){return h(e)||y(e)||v(e)||m(e)||b(e)||A(e)&&O(e.ofType)}function T(e){return h(e)||b(e)}function S(e){return y(e)||v(e)||m(e)}function k(e){return v(e)||m(e)}function x(e){if(!(this instanceof x))return new x(e);this.ofType=d(e)}var j=x.prototype;function N(e){if(!(this instanceof N))return new N(e);this.ofType=D(e)}j.toString=j.toJSON=j.inspect=function(){return"["+String(this.ofType)+"]"};var I=N.prototype;function A(e){return _(e)||w(e)}function L(e){return p(e)&&!w(e)}function D(e){return L(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL nullable type."),e}function P(e){return h(e)||y(e)||v(e)||m(e)||b(e)||g(e)}function R(e){return"function"==typeof e?e():e}I.toString=I.toJSON=I.inspect=function(){return String(this.ofType)+"!"};var C=t.GraphQLScalarType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._scalarConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name."),"function"!=typeof t.serialize&&(0,a.default)(0,this.name+' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.'),(t.parseValue||t.parseLiteral)&&("function"!=typeof t.parseValue||"function"!=typeof t.parseLiteral)&&(0,a.default)(0,this.name+' must provide both "parseValue" and "parseLiteral" functions.')}return e.prototype.serialize=function(e){return(0,this._scalarConfig.serialize)(e)},e.prototype.parseValue=function(e){var t=this._scalarConfig.parseValue;if(!(0,u.default)(e))return t?t(e):e},e.prototype.parseLiteral=function(e,t){var n=this._scalarConfig.parseLiteral;return n?n(e,t):(0,c.valueFromASTUntyped)(e,t)},e.prototype.toString=function(){return this.name},e}();C.prototype.toJSON=C.prototype.inspect=C.prototype.toString;var M=t.GraphQLObjectType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.extensionASTNodes=t.extensionASTNodes,this.isTypeOf=t.isTypeOf,this._typeConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name."),t.isTypeOf&&"function"!=typeof t.isTypeOf&&(0,a.default)(0,this.name+' must provide "isTypeOf" as a function.')}return e.prototype.getFields=function(){return this._fields||(this._fields=F(this,this._typeConfig.fields))},e.prototype.getInterfaces=function(){return this._interfaces||(this._interfaces=(e=R(this._typeConfig.interfaces)||[],Array.isArray(e)||(0,a.default)(0,this.name+" interfaces must be an Array or a function which returns an Array."),e));var e},e.prototype.toString=function(){return this.name},e}();function F(e,t){var n=R(t)||{};q(n)||(0,a.default)(0,e.name+" fields must be an object with field names as keys or a function which returns such an object.");var r=Object.create(null);return Object.keys(n).forEach(function(t){var o=n[t];q(o)||(0,a.default)(0,e.name+"."+t+" field config must be an object"),o.hasOwnProperty("isDeprecated")&&(0,a.default)(0,e.name+"."+t+' should provide "deprecationReason" instead of "isDeprecated".');var u,s=i({},o,{isDeprecated:Boolean(o.deprecationReason),name:t});null!=(u=s.resolve)&&"function"!=typeof u&&(0,a.default)(0,e.name+"."+t+" field resolver must be a function if provided, but got: "+String(s.resolve)+".");var c=o.args;c?(q(c)||(0,a.default)(0,e.name+"."+t+" args must be an object with argument names as keys."),s.args=Object.keys(c).map(function(e){var t=c[e];return{name:e,description:void 0===t.description?null:t.description,type:t.type,defaultValue:t.defaultValue,astNode:t.astNode}})):s.args=[],r[t]=s}),r}function q(e){return e&&"object"===("undefined"==typeof e?"undefined":r(e))&&!Array.isArray(e)}M.prototype.toJSON=M.prototype.inspect=M.prototype.toString;var U=t.GraphQLInterfaceType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.extensionASTNodes=t.extensionASTNodes,this.resolveType=t.resolveType,this._typeConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name."),t.resolveType&&"function"!=typeof t.resolveType&&(0,a.default)(0,this.name+' must provide "resolveType" as a function.')}return e.prototype.getFields=function(){return this._fields||(this._fields=F(this,this._typeConfig.fields))},e.prototype.toString=function(){return this.name},e}();U.prototype.toJSON=U.prototype.inspect=U.prototype.toString;var B=t.GraphQLUnionType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.resolveType=t.resolveType,this._typeConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name."),t.resolveType&&"function"!=typeof t.resolveType&&(0,a.default)(0,this.name+' must provide "resolveType" as a function.')}return e.prototype.getTypes=function(){return this._types||(this._types=(e=R(this._typeConfig.types)||[],Array.isArray(e)||(0,a.default)(0,"Must provide Array of types or a function which returns such an array for Union "+this.name+"."),e));var e},e.prototype.toString=function(){return this.name},e}();B.prototype.toJSON=B.prototype.inspect=B.prototype.toString;var G=t.GraphQLEnumType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._enumConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name.")}return e.prototype.getValues=function(){return this._values||(this._values=(e=this,q(t=this._enumConfig.values)||(0,a.default)(0,e.name+" values must be an object with value names as keys."),Object.keys(t).map(function(n){var r=t[n];return q(r)||(0,a.default)(0,e.name+"."+n+' must refer to an object with a "value" key representing an internal value but got: '+String(r)+"."),r.hasOwnProperty("isDeprecated")&&(0,a.default)(0,e.name+"."+n+' should provide "deprecationReason" instead of "isDeprecated".'),{name:n,description:r.description,isDeprecated:Boolean(r.deprecationReason),deprecationReason:r.deprecationReason,astNode:r.astNode,value:r.hasOwnProperty("value")?r.value:n}})));var e,t},e.prototype.getValue=function(e){return this._getNameLookup()[e]},e.prototype.serialize=function(e){var t=this._getValueLookup().get(e);if(t)return t.name},e.prototype.parseValue=function(e){if("string"==typeof e){var t=this._getNameLookup()[e];if(t)return t.value}},e.prototype.parseLiteral=function(e,t){if(e.kind===s.Kind.ENUM){var n=this._getNameLookup()[e.value];if(n)return n.value}},e.prototype._getValueLookup=function(){if(!this._valueLookup){var e=new Map;this.getValues().forEach(function(t){e.set(t.value,t)}),this._valueLookup=e}return this._valueLookup},e.prototype._getNameLookup=function(){if(!this._nameLookup){var e=Object.create(null);this.getValues().forEach(function(t){e[t.name]=t}),this._nameLookup=e}return this._nameLookup},e.prototype.toString=function(){return this.name},e}();G.prototype.toJSON=G.prototype.inspect=G.prototype.toString;var Q=t.GraphQLInputObjectType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._typeConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name.")}return e.prototype.getFields=function(){return this._fields||(this._fields=this._defineFieldMap())},e.prototype._defineFieldMap=function(){var e=this,t=R(this._typeConfig.fields)||{};q(t)||(0,a.default)(0,this.name+" fields must be an object with field names as keys or a function which returns such an object.");var n=Object.create(null);return Object.keys(t).forEach(function(r){var o=i({},t[r],{name:r});o.hasOwnProperty("resolve")&&(0,a.default)(0,e.name+"."+r+" field type has a resolve property, but Input Types cannot define resolvers."),n[r]=o}),n},e.prototype.toString=function(){return this.name},e}();Q.prototype.toJSON=Q.prototype.toString,Q.prototype.inspect=Q.prototype.toString},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kind=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",VARIABLE:"Variable",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension",DIRECTIVE_DEFINITION:"DirectiveDefinition"})},function(e,t,n){"use strict";t.f=function(e){if(!e||"function"!=typeof e.super_)throw l.a.newRxError("UT4",{adapter:e})},t.c=function(e){"string"!=typeof e&&(e=JSON.stringify(e));var t,n=0,r=void 0;if(0===e.length)return n;for(r=0,t=e.length;r<t;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return n<0&&(n*=-1),n},t.e=function(e){var t=e;return"string"!=typeof e&&(t=JSON.stringify(e)),y.a.hash(t)},t.d=function(){return f()(10)+":"+(new Date).getTime()},t.g=function(){return new Promise(function(e){return setTimeout(e,0)})},n.d(t,"j",function(){return v}),n.d(t,"m",function(){return m}),t.l=function(e){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(e)},t.q=function(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)},t.h=function(e){var t=[];do{t.push(e%g),e=Math.floor(e/g)}while(e-- >0);return t.reverse().map(function(e){return b[e]}).join("")},t.p=function(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e},t.r=function(e){if("string"!=typeof e||0===e.length)throw l.a.newRxTypeError("UT1",{name:e});if(e.includes("/")||e.includes("\\"))return!0;var t=new RegExp("^[a-z][a-z0-9]*$");if(!e.match(t))throw new l.a.newRxError("UT2",{regex:"^[a-z][a-z0-9]*$",givenName:e});return!0},t.n=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return t;if(!n&&Array.isArray(t))return t.sort(function(e,t){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t):"object"==typeof e?1:-1}).map(function(t){return e(t)});if("object"==typeof t){if(t instanceof RegExp)return t;var r={};return Object.keys(t).sort(function(e,t){return e.localeCompare(t)}).forEach(function(n){r[n]=e(t[n])}),r}return t},t.o=function(e,t){return t instanceof RegExp?t.toString():t},t.i=function(e,t){var n=t.pull,r=void 0===n||n,i=t.push,o=void 0===i||i;if(r&&o)return e.sync.bind(e);if(!r&&o)return e.replicate.to.bind(e);if(r&&!o)return e.replicate.from.bind(e);if(!r&&!o)throw l.a.newRxError("UT3",{pull:r,push:o})},t.k=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},t.a=function(e){var t={db:e};return"string"==typeof e&&(t={adapter:e}),t},n.d(t,"b",function(){return _});var r,i,o=n(8),a=n.n(o),u=n(9),s=n.n(u),c=n(223),f=n.n(c),l=n(5),p=n(229),d=n.n(p),h=n(224),y=n.n(h),v=(r=s()(a.a.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,t)}));case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),m=(i=s()(a.a.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("object"!=typeof window||!window.requestIdleCallback){e.next=4;break}return e.abrupt("return",new Promise(function(e){return window.requestIdleCallback(e,{timeout:t})}));case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),b="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",g=b.length,_=function(e){return e?d()(e,!1):e}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(19),a=n.n(o),u=n(134),s=n.n(u),c=n(138),f=n.n(c),l=n(4),p=n(70),d=function(e,t){return"RxError:\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length?t:(t+="Given parameters: {\n",t+=Object.keys(e).map(function(t){var n="[object Object]";try{n=JSON.stringify(e[t],function(e,t){return void 0===t?null:t},2)}catch(e){}return t+":"+n}).join("\n"),t+="}")}(t)},h=function(e){function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i()(this,t);var a=d(r,o),u=s()(this,e.call(this,a));return u.code=n,u.message=a,u.parameters=o,u.rxdb=!0,u}return f()(t,e),t.prototype.toString=function(){return this.message},a()(t,[{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!1}}]),t}(Error),y=function(e){function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i()(this,t);var a=d(r,o),u=s()(this,e.call(this,a));return u.code=n,u.message=a,u.parameters=o,u.rxdb=!0,u}return f()(t,e),t.prototype.toString=function(){return this.message},a()(t,[{key:"name",get:function(){return"RxError"}},{key:"typeError",get:function(){return!0}}]),t}(TypeError);t.a={newRxError:function(e,t){return new h(e,p.a.tunnelErrorMessage(e),t)},newRxTypeError:function(e,t){return new y(e,p.a.tunnelErrorMessage(e),t)},pluginMissing:function(e){return new h("PU","You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n          - es5-require:\n            RxDB.plugin(require('rxdb/plugins/"+e+"'))\n          - es6-import:\n            import "+l.q(e)+"Plugin from 'rxdb/plugins/"+e+"';\n            RxDB.plugin("+l.q(e)+"Plugin);\n        ",{pluginKey:e})}}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(355)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(357))&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,n){return function r(o,a){try{var u=t[o](a),s=u.value}catch(e){return void n(e)}if(!u.done)return i.default.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(301);n.n(r),n.o(r,"graphql")&&n.d(t,"graphql",function(){return r.graphql}),n.o(r,"graphqlSync")&&n.d(t,"graphqlSync",function(){return r.graphqlSync});var i=n(308);n.n(i),n.o(i,"GraphQLSchema")&&n.d(t,"GraphQLSchema",function(){return i.GraphQLSchema}),n.o(i,"GraphQLScalarType")&&n.d(t,"GraphQLScalarType",function(){return i.GraphQLScalarType}),n.o(i,"GraphQLObjectType")&&n.d(t,"GraphQLObjectType",function(){return i.GraphQLObjectType}),n.o(i,"GraphQLInterfaceType")&&n.d(t,"GraphQLInterfaceType",function(){return i.GraphQLInterfaceType}),n.o(i,"GraphQLUnionType")&&n.d(t,"GraphQLUnionType",function(){return i.GraphQLUnionType}),n.o(i,"GraphQLEnumType")&&n.d(t,"GraphQLEnumType",function(){return i.GraphQLEnumType}),n.o(i,"GraphQLInputObjectType")&&n.d(t,"GraphQLInputObjectType",function(){return i.GraphQLInputObjectType}),n.o(i,"GraphQLList")&&n.d(t,"GraphQLList",function(){return i.GraphQLList}),n.o(i,"GraphQLNonNull")&&n.d(t,"GraphQLNonNull",function(){return i.GraphQLNonNull}),n.o(i,"GraphQLDirective")&&n.d(t,"GraphQLDirective",function(){return i.GraphQLDirective}),n.o(i,"TypeKind")&&n.d(t,"TypeKind",function(){return i.TypeKind}),n.o(i,"specifiedScalarTypes")&&n.d(t,"specifiedScalarTypes",function(){return i.specifiedScalarTypes}),n.o(i,"GraphQLInt")&&n.d(t,"GraphQLInt",function(){return i.GraphQLInt}),n.o(i,"GraphQLFloat")&&n.d(t,"GraphQLFloat",function(){return i.GraphQLFloat}),n.o(i,"GraphQLString")&&n.d(t,"GraphQLString",function(){return i.GraphQLString}),n.o(i,"GraphQLBoolean")&&n.d(t,"GraphQLBoolean",function(){return i.GraphQLBoolean}),n.o(i,"GraphQLID")&&n.d(t,"GraphQLID",function(){return i.GraphQLID}),n.o(i,"specifiedDirectives")&&n.d(t,"specifiedDirectives",function(){return i.specifiedDirectives}),n.o(i,"GraphQLIncludeDirective")&&n.d(t,"GraphQLIncludeDirective",function(){return i.GraphQLIncludeDirective}),n.o(i,"GraphQLSkipDirective")&&n.d(t,"GraphQLSkipDirective",function(){return i.GraphQLSkipDirective}),n.o(i,"GraphQLDeprecatedDirective")&&n.d(t,"GraphQLDeprecatedDirective",function(){return i.GraphQLDeprecatedDirective}),n.o(i,"DEFAULT_DEPRECATION_REASON")&&n.d(t,"DEFAULT_DEPRECATION_REASON",function(){return i.DEFAULT_DEPRECATION_REASON}),n.o(i,"SchemaMetaFieldDef")&&n.d(t,"SchemaMetaFieldDef",function(){return i.SchemaMetaFieldDef}),n.o(i,"TypeMetaFieldDef")&&n.d(t,"TypeMetaFieldDef",function(){return i.TypeMetaFieldDef}),n.o(i,"TypeNameMetaFieldDef")&&n.d(t,"TypeNameMetaFieldDef",function(){return i.TypeNameMetaFieldDef}),n.o(i,"introspectionTypes")&&n.d(t,"introspectionTypes",function(){return i.introspectionTypes}),n.o(i,"__Schema")&&n.d(t,"__Schema",function(){return i.__Schema}),n.o(i,"__Directive")&&n.d(t,"__Directive",function(){return i.__Directive}),n.o(i,"__DirectiveLocation")&&n.d(t,"__DirectiveLocation",function(){return i.__DirectiveLocation}),n.o(i,"__Type")&&n.d(t,"__Type",function(){return i.__Type}),n.o(i,"__Field")&&n.d(t,"__Field",function(){return i.__Field}),n.o(i,"__InputValue")&&n.d(t,"__InputValue",function(){return i.__InputValue}),n.o(i,"__EnumValue")&&n.d(t,"__EnumValue",function(){return i.__EnumValue}),n.o(i,"__TypeKind")&&n.d(t,"__TypeKind",function(){return i.__TypeKind}),n.o(i,"isSchema")&&n.d(t,"isSchema",function(){return i.isSchema}),n.o(i,"isDirective")&&n.d(t,"isDirective",function(){return i.isDirective}),n.o(i,"isType")&&n.d(t,"isType",function(){return i.isType}),n.o(i,"isScalarType")&&n.d(t,"isScalarType",function(){return i.isScalarType}),n.o(i,"isObjectType")&&n.d(t,"isObjectType",function(){return i.isObjectType}),n.o(i,"isInterfaceType")&&n.d(t,"isInterfaceType",function(){return i.isInterfaceType}),n.o(i,"isUnionType")&&n.d(t,"isUnionType",function(){return i.isUnionType}),n.o(i,"isEnumType")&&n.d(t,"isEnumType",function(){return i.isEnumType}),n.o(i,"isInputObjectType")&&n.d(t,"isInputObjectType",function(){return i.isInputObjectType}),n.o(i,"isListType")&&n.d(t,"isListType",function(){return i.isListType}),n.o(i,"isNonNullType")&&n.d(t,"isNonNullType",function(){return i.isNonNullType}),n.o(i,"isInputType")&&n.d(t,"isInputType",function(){return i.isInputType}),n.o(i,"isOutputType")&&n.d(t,"isOutputType",function(){return i.isOutputType}),n.o(i,"isLeafType")&&n.d(t,"isLeafType",function(){return i.isLeafType}),n.o(i,"isCompositeType")&&n.d(t,"isCompositeType",function(){return i.isCompositeType}),n.o(i,"isAbstractType")&&n.d(t,"isAbstractType",function(){return i.isAbstractType}),n.o(i,"isWrappingType")&&n.d(t,"isWrappingType",function(){return i.isWrappingType}),n.o(i,"isNullableType")&&n.d(t,"isNullableType",function(){return i.isNullableType}),n.o(i,"isNamedType")&&n.d(t,"isNamedType",function(){return i.isNamedType}),n.o(i,"isSpecifiedScalarType")&&n.d(t,"isSpecifiedScalarType",function(){return i.isSpecifiedScalarType}),n.o(i,"isIntrospectionType")&&n.d(t,"isIntrospectionType",function(){return i.isIntrospectionType}),n.o(i,"isSpecifiedDirective")&&n.d(t,"isSpecifiedDirective",function(){return i.isSpecifiedDirective}),n.o(i,"assertType")&&n.d(t,"assertType",function(){return i.assertType}),n.o(i,"assertScalarType")&&n.d(t,"assertScalarType",function(){return i.assertScalarType}),n.o(i,"assertObjectType")&&n.d(t,"assertObjectType",function(){return i.assertObjectType}),n.o(i,"assertInterfaceType")&&n.d(t,"assertInterfaceType",function(){return i.assertInterfaceType}),n.o(i,"assertUnionType")&&n.d(t,"assertUnionType",function(){return i.assertUnionType}),n.o(i,"assertEnumType")&&n.d(t,"assertEnumType",function(){return i.assertEnumType}),n.o(i,"assertInputObjectType")&&n.d(t,"assertInputObjectType",function(){return i.assertInputObjectType}),n.o(i,"assertListType")&&n.d(t,"assertListType",function(){return i.assertListType}),n.o(i,"assertNonNullType")&&n.d(t,"assertNonNullType",function(){return i.assertNonNullType}),n.o(i,"assertInputType")&&n.d(t,"assertInputType",function(){return i.assertInputType}),n.o(i,"assertOutputType")&&n.d(t,"assertOutputType",function(){return i.assertOutputType}),n.o(i,"assertLeafType")&&n.d(t,"assertLeafType",function(){return i.assertLeafType}),n.o(i,"assertCompositeType")&&n.d(t,"assertCompositeType",function(){return i.assertCompositeType}),n.o(i,"assertAbstractType")&&n.d(t,"assertAbstractType",function(){return i.assertAbstractType}),n.o(i,"assertWrappingType")&&n.d(t,"assertWrappingType",function(){return i.assertWrappingType}),n.o(i,"assertNullableType")&&n.d(t,"assertNullableType",function(){return i.assertNullableType}),n.o(i,"assertNamedType")&&n.d(t,"assertNamedType",function(){return i.assertNamedType}),n.o(i,"getNullableType")&&n.d(t,"getNullableType",function(){return i.getNullableType}),n.o(i,"getNamedType")&&n.d(t,"getNamedType",function(){return i.getNamedType}),n.o(i,"validateSchema")&&n.d(t,"validateSchema",function(){return i.validateSchema}),n.o(i,"assertValidSchema")&&n.d(t,"assertValidSchema",function(){return i.assertValidSchema});var o=n(309);n.n(o),n.o(o,"Source")&&n.d(t,"Source",function(){return o.Source}),n.o(o,"getLocation")&&n.d(t,"getLocation",function(){return o.getLocation}),n.o(o,"parse")&&n.d(t,"parse",function(){return o.parse}),n.o(o,"parseValue")&&n.d(t,"parseValue",function(){return o.parseValue}),n.o(o,"parseType")&&n.d(t,"parseType",function(){return o.parseType}),n.o(o,"print")&&n.d(t,"print",function(){return o.print}),n.o(o,"visit")&&n.d(t,"visit",function(){return o.visit}),n.o(o,"visitInParallel")&&n.d(t,"visitInParallel",function(){return o.visitInParallel}),n.o(o,"visitWithTypeInfo")&&n.d(t,"visitWithTypeInfo",function(){return o.visitWithTypeInfo}),n.o(o,"getVisitFn")&&n.d(t,"getVisitFn",function(){return o.getVisitFn}),n.o(o,"Kind")&&n.d(t,"Kind",function(){return o.Kind}),n.o(o,"TokenKind")&&n.d(t,"TokenKind",function(){return o.TokenKind}),n.o(o,"DirectiveLocation")&&n.d(t,"DirectiveLocation",function(){return o.DirectiveLocation}),n.o(o,"BREAK")&&n.d(t,"BREAK",function(){return o.BREAK});var a=n(310);n.n(a),n.o(a,"execute")&&n.d(t,"execute",function(){return a.execute}),n.o(a,"defaultFieldResolver")&&n.d(t,"defaultFieldResolver",function(){return a.defaultFieldResolver}),n.o(a,"responsePathAsArray")&&n.d(t,"responsePathAsArray",function(){return a.responsePathAsArray}),n.o(a,"getDirectiveValues")&&n.d(t,"getDirectiveValues",function(){return a.getDirectiveValues});var u=n(311);n.n(u),n.o(u,"subscribe")&&n.d(t,"subscribe",function(){return u.subscribe}),n.o(u,"createSourceEventStream")&&n.d(t,"createSourceEventStream",function(){return u.createSourceEventStream});var s=n(314);n.n(s),n.o(s,"validate")&&n.d(t,"validate",function(){return s.validate}),n.o(s,"ValidationContext")&&n.d(t,"ValidationContext",function(){return s.ValidationContext}),n.o(s,"specifiedRules")&&n.d(t,"specifiedRules",function(){return s.specifiedRules}),n.o(s,"FieldsOnCorrectTypeRule")&&n.d(t,"FieldsOnCorrectTypeRule",function(){return s.FieldsOnCorrectTypeRule}),n.o(s,"FragmentsOnCompositeTypesRule")&&n.d(t,"FragmentsOnCompositeTypesRule",function(){return s.FragmentsOnCompositeTypesRule}),n.o(s,"KnownArgumentNamesRule")&&n.d(t,"KnownArgumentNamesRule",function(){return s.KnownArgumentNamesRule}),n.o(s,"KnownDirectivesRule")&&n.d(t,"KnownDirectivesRule",function(){return s.KnownDirectivesRule}),n.o(s,"KnownFragmentNamesRule")&&n.d(t,"KnownFragmentNamesRule",function(){return s.KnownFragmentNamesRule}),n.o(s,"KnownTypeNamesRule")&&n.d(t,"KnownTypeNamesRule",function(){return s.KnownTypeNamesRule}),n.o(s,"LoneAnonymousOperationRule")&&n.d(t,"LoneAnonymousOperationRule",function(){return s.LoneAnonymousOperationRule}),n.o(s,"NoFragmentCyclesRule")&&n.d(t,"NoFragmentCyclesRule",function(){return s.NoFragmentCyclesRule}),n.o(s,"NoUndefinedVariablesRule")&&n.d(t,"NoUndefinedVariablesRule",function(){return s.NoUndefinedVariablesRule}),n.o(s,"NoUnusedFragmentsRule")&&n.d(t,"NoUnusedFragmentsRule",function(){return s.NoUnusedFragmentsRule}),n.o(s,"NoUnusedVariablesRule")&&n.d(t,"NoUnusedVariablesRule",function(){return s.NoUnusedVariablesRule}),n.o(s,"OverlappingFieldsCanBeMergedRule")&&n.d(t,"OverlappingFieldsCanBeMergedRule",function(){return s.OverlappingFieldsCanBeMergedRule}),n.o(s,"PossibleFragmentSpreadsRule")&&n.d(t,"PossibleFragmentSpreadsRule",function(){return s.PossibleFragmentSpreadsRule}),n.o(s,"ProvidedNonNullArgumentsRule")&&n.d(t,"ProvidedNonNullArgumentsRule",function(){return s.ProvidedNonNullArgumentsRule}),n.o(s,"ScalarLeafsRule")&&n.d(t,"ScalarLeafsRule",function(){return s.ScalarLeafsRule}),n.o(s,"SingleFieldSubscriptionsRule")&&n.d(t,"SingleFieldSubscriptionsRule",function(){return s.SingleFieldSubscriptionsRule}),n.o(s,"UniqueArgumentNamesRule")&&n.d(t,"UniqueArgumentNamesRule",function(){return s.UniqueArgumentNamesRule}),n.o(s,"UniqueDirectivesPerLocationRule")&&n.d(t,"UniqueDirectivesPerLocationRule",function(){return s.UniqueDirectivesPerLocationRule}),n.o(s,"UniqueFragmentNamesRule")&&n.d(t,"UniqueFragmentNamesRule",function(){return s.UniqueFragmentNamesRule}),n.o(s,"UniqueInputFieldNamesRule")&&n.d(t,"UniqueInputFieldNamesRule",function(){return s.UniqueInputFieldNamesRule}),n.o(s,"UniqueOperationNamesRule")&&n.d(t,"UniqueOperationNamesRule",function(){return s.UniqueOperationNamesRule}),n.o(s,"UniqueVariableNamesRule")&&n.d(t,"UniqueVariableNamesRule",function(){return s.UniqueVariableNamesRule}),n.o(s,"ValuesOfCorrectTypeRule")&&n.d(t,"ValuesOfCorrectTypeRule",function(){return s.ValuesOfCorrectTypeRule}),n.o(s,"VariablesAreInputTypesRule")&&n.d(t,"VariablesAreInputTypesRule",function(){return s.VariablesAreInputTypesRule}),n.o(s,"VariablesDefaultValueAllowedRule")&&n.d(t,"VariablesDefaultValueAllowedRule",function(){return s.VariablesDefaultValueAllowedRule}),n.o(s,"VariablesInAllowedPositionRule")&&n.d(t,"VariablesInAllowedPositionRule",function(){return s.VariablesInAllowedPositionRule});var c=n(0);n.n(c),n.o(c,"GraphQLError")&&n.d(t,"GraphQLError",function(){return c.GraphQLError}),n.o(c,"formatError")&&n.d(t,"formatError",function(){return c.formatError}),n.o(c,"printError")&&n.d(t,"printError",function(){return c.printError});var f=n(315);n.n(f),n.o(f,"getIntrospectionQuery")&&n.d(t,"getIntrospectionQuery",function(){return f.getIntrospectionQuery}),n.o(f,"introspectionQuery")&&n.d(t,"introspectionQuery",function(){return f.introspectionQuery}),n.o(f,"getOperationAST")&&n.d(t,"getOperationAST",function(){return f.getOperationAST}),n.o(f,"introspectionFromSchema")&&n.d(t,"introspectionFromSchema",function(){return f.introspectionFromSchema}),n.o(f,"buildClientSchema")&&n.d(t,"buildClientSchema",function(){return f.buildClientSchema}),n.o(f,"buildASTSchema")&&n.d(t,"buildASTSchema",function(){return f.buildASTSchema}),n.o(f,"buildSchema")&&n.d(t,"buildSchema",function(){return f.buildSchema}),n.o(f,"getDescription")&&n.d(t,"getDescription",function(){return f.getDescription}),n.o(f,"extendSchema")&&n.d(t,"extendSchema",function(){return f.extendSchema}),n.o(f,"lexicographicSortSchema")&&n.d(t,"lexicographicSortSchema",function(){return f.lexicographicSortSchema}),n.o(f,"printSchema")&&n.d(t,"printSchema",function(){return f.printSchema}),n.o(f,"printIntrospectionSchema")&&n.d(t,"printIntrospectionSchema",function(){return f.printIntrospectionSchema}),n.o(f,"printType")&&n.d(t,"printType",function(){return f.printType}),n.o(f,"typeFromAST")&&n.d(t,"typeFromAST",function(){return f.typeFromAST}),n.o(f,"valueFromAST")&&n.d(t,"valueFromAST",function(){return f.valueFromAST}),n.o(f,"valueFromASTUntyped")&&n.d(t,"valueFromASTUntyped",function(){return f.valueFromASTUntyped}),n.o(f,"astFromValue")&&n.d(t,"astFromValue",function(){return f.astFromValue}),n.o(f,"TypeInfo")&&n.d(t,"TypeInfo",function(){return f.TypeInfo}),n.o(f,"coerceValue")&&n.d(t,"coerceValue",function(){return f.coerceValue}),n.o(f,"isValidJSValue")&&n.d(t,"isValidJSValue",function(){return f.isValidJSValue}),n.o(f,"isValidLiteralValue")&&n.d(t,"isValidLiteralValue",function(){return f.isValidLiteralValue}),n.o(f,"concatAST")&&n.d(t,"concatAST",function(){return f.concatAST}),n.o(f,"separateOperations")&&n.d(t,"separateOperations",function(){return f.separateOperations}),n.o(f,"isEqualType")&&n.d(t,"isEqualType",function(){return f.isEqualType}),n.o(f,"isTypeSubTypeOf")&&n.d(t,"isTypeSubTypeOf",function(){return f.isTypeSubTypeOf}),n.o(f,"doTypesOverlap")&&n.d(t,"doTypesOverlap",function(){return f.doTypesOverlap}),n.o(f,"assertValidName")&&n.d(t,"assertValidName",function(){return f.assertValidName}),n.o(f,"isValidNameError")&&n.d(t,"isValidNameError",function(){return f.isValidNameError}),n.o(f,"findBreakingChanges")&&n.d(t,"findBreakingChanges",function(){return f.findBreakingChanges}),n.o(f,"findDangerousChanges")&&n.d(t,"findDangerousChanges",function(){return f.findDangerousChanges}),n.o(f,"BreakingChangeType")&&n.d(t,"BreakingChangeType",function(){return f.BreakingChangeType}),n.o(f,"DangerousChangeType")&&n.d(t,"DangerousChangeType",function(){return f.DangerousChangeType}),n.o(f,"findDeprecatedUsages")&&n.d(t,"findDeprecatedUsages",function(){return f.findDeprecatedUsages})},function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return D}),n.d(t,"c",function(){return k}),n.d(t,"d",function(){return N}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return A}),n.d(t,"g",function(){return L}),n.d(t,"h",function(){return P}),n.d(t,"i",function(){return R}),n.d(t,"j",function(){return C}),n.d(t,"k",function(){return I}),n.d(t,"l",function(){return j}),n.d(t,"m",function(){return M}),n.d(t,"n",function(){return F}),n.d(t,"o",function(){return q}),n.d(t,"q",function(){return B}),n.d(t,"r",function(){return b}),n.d(t,"s",function(){return U}),n.d(t,"t",function(){return w}),n.d(t,"u",function(){return V}),n.d(t,"v",function(){return G}),n.d(t,"w",function(){return g}),n.d(t,"x",function(){return Q}),n.d(t,"y",function(){return K});var r=n(95),i=n.n(r),o=n(26),a=n(42),u=n(110),s=n.n(u),c=n(29),f=(n.n(c),n(12)),l=n.n(f),p=n(43),d=n(201),h=n.n(d);n.d(t,"p",function(){return s.a});var y=Function.prototype.toString,v=y.call(Object);function m(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=m(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(t){var n=Object.getPrototypeOf(e);if(null===n)return!0;var r=n.constructor;return"function"==typeof r&&r instanceof r&&y.call(r)==v}())return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=m(e[n]);"undefined"!=typeof i&&(t[n]=i)}return t}function b(e){var t=!1;return i()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function g(e){return i()(function(t){var n=this,r="function"==typeof(t=m(t))[t.length-1]&&t.pop(),i=new o.a(function(r,i){var o;try{var a=b(function(e,t){e?i(e):r(t)});t.push(a),(o=e.apply(n,t))&&"function"==typeof o.then&&r(o)}catch(e){i(e)}});return r&&i.then(function(e){r(null,e)},r),i})}function _(e,t){return g(i()(function(n){if(this._closed)return o.a.reject(new Error("database is closed"));if(this._destroyed)return o.a.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],i=0;i<n.length-1;i++)r.push(n[i]);e.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=["api",e.name,t];i=i.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",i),o(n,r)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new o.a(function(t,i){r.taskqueue.addTask(function(o){o?i(o):t(r[e].apply(r,n))})})}))}function w(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}var E,O=6;function T(e){return e}function S(e){return[{ok:e}]}function k(e,t,n){var r=t.docs,i=new a.a;r.forEach(function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])});var o=i.size,u=0,s=new Array(o),c=[];i.forEach(function(e,t){c.push(t)});var f=0;!function r(){if(!(f>=c.length)){var a=Math.min(f+O,c.length),l=c.slice(f,a);!function(a,c){a.forEach(function(a,f){var l=c+f,p=i.get(a),d=w(p[0],["atts_since","attachments"]);d.open_revs=p.map(function(e){return e.rev}),d.open_revs=d.open_revs.filter(T);var h=T;0===d.open_revs.length&&(delete d.open_revs,h=S),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(d[e]=t[e])}),e.get(a,d,function(e,t){var i,c;i=e?[{error:e}]:h(t),s[l]={id:a,docs:i},++u===o&&(c=[],s.forEach(function(e){e.docs.forEach(function(t){c.push({id:e.id,docs:[t]})})}),n(null,{results:c})),r()})})}(l,f),f+=l.length}}()}function x(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}if(x())E=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),E=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){E=!1}function j(){return E}function N(){var e;c.EventEmitter.call(this),this._listeners={},e=this,x()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):j()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function I(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function A(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function L(e,t){I("info","The above "+e+" is totally normal. "+t)}l()(N,c.EventEmitter),N.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var i=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(i._listeners[t])if(o)o="waiting";else{o=!0;var e=w(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===o&&s()(a),o=!1}).on("error",function(){o=!1})}}},N.prototype.removeListener=function(e,t){t in this._listeners&&(c.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},N.prototype.notifyLocalWindows=function(e){x()?chrome.storage.local.set({dbName:e}):j()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},N.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var D="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};function P(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&function(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return Object(p.r)(p.b,r)}}(e.filter,r.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function R(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}var C=(function(){}).name?function(e){return e.name}:function(e){return e.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};function M(e){var t;if(e?"string"!=typeof e?t=Object(p.r)(p.e):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Object(p.r)(p.n)):t=Object(p.r)(p.i),t)throw t}function F(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(I("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function q(e,t){return"listenerCount"in e?e.listenerCount(t):c.EventEmitter.listenerCount(e,t)}function U(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function B(e){var t=U(e);return t?t.join("/"):null}function G(e,t){var n=[],r=[];for(var i in t)t.hasOwnProperty(i)&&(n.push(i),r.push(t[i]));return n.push(e),Function.apply(null,n).apply(null,r)}function Q(e,t,n){return new o.a(function(r,i){e.get(t,function(o,a){if(o){if(404!==o.status)return i(o);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(function(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return Q(e,t._id,n)})}(e,s,n))})})}function V(){return h.a.v4().replace(/-/g,"").toLowerCase()}var K=h.a.v4},function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLSchema=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isSchema=function(e){return(0,s.default)(e,p)};var i=n(1),o=n(24),a=n(25),u=l(n(53)),s=l(n(111)),c=l(n(18)),f=l(n(35));function l(e){return e&&e.__esModule?e:{default:e}}var p=t.GraphQLSchema=function(){function e(t){var n=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t&&t.assumeValid?this.__validationErrors=[]:("object"!==("undefined"==typeof t?"undefined":r(t))&&(0,c.default)(0,"Must provide configuration object."),t.types&&!Array.isArray(t.types)&&(0,c.default)(0,'"types" must be Array if provided but got: '+String(t.types)+"."),t.directives&&!Array.isArray(t.directives)&&(0,c.default)(0,'"directives" must be Array if provided but got: '+String(t.directives)+"."),t.allowedLegacyNames&&!Array.isArray(t.allowedLegacyNames)&&(0,c.default)(0,'"allowedLegacyNames" must be Array if provided but got: '+String(t.allowedLegacyNames)+".")),this.__allowedLegacyNames=t.allowedLegacyNames,this._queryType=t.query,this._mutationType=t.mutation,this._subscriptionType=t.subscription,this._directives=t.directives||o.specifiedDirectives,this.astNode=t.astNode;var u=[this.getQueryType(),this.getMutationType(),this.getSubscriptionType(),a.__Schema],s=t.types;s&&(u=u.concat(s));var f=Object.create(null);f=u.reduce(d,f),f=this._directives.reduce(h,f),this._typeMap=f,this._implementations=Object.create(null),Object.keys(this._typeMap).forEach(function(e){var t=n._typeMap[e];(0,i.isObjectType)(t)&&t.getInterfaces().forEach(function(e){if((0,i.isInterfaceType)(e)){var r=n._implementations[e.name];r?r.push(t):n._implementations[e.name]=[t]}})})}return e.prototype.getQueryType=function(){return this._queryType},e.prototype.getMutationType=function(){return this._mutationType},e.prototype.getSubscriptionType=function(){return this._subscriptionType},e.prototype.getTypeMap=function(){return this._typeMap},e.prototype.getType=function(e){return this.getTypeMap()[e]},e.prototype.getPossibleTypes=function(e){return(0,i.isUnionType)(e)?e.getTypes():this._implementations[e.name]},e.prototype.isPossibleType=function(e,t){var n=this._possibleTypeMap;if(n||(this._possibleTypeMap=n=Object.create(null)),!n[e.name]){var r=this.getPossibleTypes(e);Array.isArray(r)||(0,c.default)(0,"Could not find possible implementing types for "+e.name+" in schema. Check that schema.types is defined and is an array of all possible types in the schema."),n[e.name]=r.reduce(function(e,t){return e[t.name]=!0,e},Object.create(null))}return Boolean(n[e.name][t.name])},e.prototype.getDirectives=function(){return this._directives},e.prototype.getDirective=function(e){return(0,u.default)(this.getDirectives(),function(t){return t.name===e})},e}();function d(e,t){if(!t)return e;if((0,i.isWrappingType)(t))return d(e,t.ofType);if(e[t.name])return e[t.name]!==t&&(0,c.default)(0,'Schema must contain unique named types but contains multiple types named "'+t.name+'".'),e;e[t.name]=t;var n=e;return(0,i.isUnionType)(t)&&(n=t.getTypes().reduce(d,n)),(0,i.isObjectType)(t)&&(n=t.getInterfaces().reduce(d,n)),((0,i.isObjectType)(t)||(0,i.isInterfaceType)(t))&&(0,f.default)(t.getFields()).forEach(function(e){if(e.args){var t=e.args.map(function(e){return e.type});n=t.reduce(d,n)}n=d(n,e.type)}),(0,i.isInputObjectType)(t)&&(0,f.default)(t.getFields()).forEach(function(e){n=d(n,e.type)}),n}function h(e,t){return(0,o.isDirective)(t)?t.args.reduce(function(e,t){return d(e,t.type)},e):e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(130)("wks"),i=n(92),o=n(14).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])y(s)||!_(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(n,i){if(b(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,a={};function u(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),f(r,e,r.depth)}function s(e,t){var n=u.styles[t];return n?"\x1b["+u.colors[n][0]+"m"+e+"\x1b["+u.colors[n][1]+"m":e}function c(e,t){return e}function f(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return m(i)||(i=f(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a,u=Object.keys(n),s=(a={},u.forEach(function(e,t){a[e]=!0}),a);if(e.showHidden&&(u=Object.getOwnPropertyNames(n)),E(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return l(n);if(0===u.length){if(O(n))return e.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(g(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return l(n)}var c,_="",T=!1,S=["{","}"];return d(n)&&(T=!0,S=["[","]"]),O(n)&&(_=" [Function"+(n.name?": "+n.name:"")+"]"),g(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),E(n)&&(_=" "+l(n)),0!==u.length||T&&0!=n.length?r<0?g(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=T?function(e,t,n,r,i){for(var o=[],a=0,u=t.length;a<u;++a)x(t,String(a))?o.push(p(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}(e,n,r,s,u):u.map(function(t){return p(e,n,r,s,t,T)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,S)):S[0]+_+S[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,o){var a,u,s;if((s=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=e.stylize(s.set?"[Getter/Setter]":"[Getter]","special"):s.set&&(u=e.stylize("[Setter]","special")),x(r,i)||(a="["+i+"]"),u||(e.seen.indexOf(s.value)<0?(u=y(n)?f(e,s.value,null):f(e,s.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function b(e){return void 0===e}function g(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===T(e)}function E(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function O(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=g,t.isObject=_,t.isDate=w,t.isError=E,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e},t.isBuffer=n(448);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(n=[S((e=new Date).getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(12),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(7),n(6))},function(e,t,n){t.AbstractLevelDOWN=n(488),t.AbstractIterator=n(244),t.AbstractChainedBatch=n(245)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t)}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(383))&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";(function(e){var r=n(413),i=n(414),o=n(230);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=p(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=u(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|d(t.length);return 0===(e=u(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?u(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=u(e,t<0?0:0|d(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|d(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=n;o<u;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(n+s>u&&(n=u-s),o=n;o>=0;o--){for(var l=!0,p=0;p<s;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function g(e,t,n,r){return B(q(t,e.length-n),e,n,r)}function _(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function E(e,t,n,r){return B(U(t),e,n,r)}function O(e,t,n,r){return B(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,u,s,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:a=e[i+2],u=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(r.push((f-=65536)>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return c(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?u(null,t):void 0!==n?"string"==typeof r?u(null,t).fill(n,r):u(null,t).fill(n):u(null,t)}(0,e,t,n)},s.allocUnsafe=function(e){return l(null,e)},s.allocUnsafeSlow=function(e){return l(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):(function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}).apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,u=Math.min(o,a),c=this.slice(r,i),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return g(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,u=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return C(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return C(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:q(new s(e,r).toString()),u=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(t,n(7))},function(e,t){var n=e.exports={version:"2.5.4"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:i})};var r=n(47),i={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return a(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=s("(",a(e.variableDefinitions,", "),")"),i=a(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?a([t,a([n,r]),i,o]," "):o},VariableDefinition:function(e){return e.variable+": "+e.type+s(" = ",e.defaultValue)},SelectionSet:function(e){return u(e.selections)},Field:function(e){var t=e.name,n=e.arguments,r=e.directives,i=e.selectionSet;return a([s("",e.alias,": ")+t+s("(",a(n,", "),")"),a(r," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+s(" ",a(e.directives," "))},InlineFragment:function(e){var t=e.directives,n=e.selectionSet;return a(["...",s("on ",e.typeCondition),a(t," "),n]," ")},FragmentDefinition:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return"fragment "+e.name+s("(",a(e.variableDefinitions,", "),")")+" on "+t+" "+s("",a(n," ")," ")+r},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){var n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?'"""\n'+(t?n:c(n))+'\n"""':'"""'+n.replace(/"$/,'"\n')+'"""'}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+a(e.values,", ")+"]"},ObjectValue:function(e){return"{"+a(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+s("(",a(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.operationTypes;return a(["schema",a(e.directives," "),u(t)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o(function(e){return a(["scalar",e.name,a(e.directives," ")]," ")}),ObjectTypeDefinition:o(function(e){var t=e.directives,n=e.fields;return a(["type",e.name,s("implements ",a(e.interfaces," & ")),a(t," "),u(n)]," ")}),FieldDefinition:o(function(e){var t=e.type,n=e.directives;return e.name+s("(",a(e.arguments,", "),")")+": "+t+s(" ",a(n," "))}),InputValueDefinition:o(function(e){var t=e.directives;return a([e.name+": "+e.type,s("= ",e.defaultValue),a(t," ")]," ")}),InterfaceTypeDefinition:o(function(e){var t=e.fields;return a(["interface",e.name,a(e.directives," "),u(t)]," ")}),UnionTypeDefinition:o(function(e){var t=e.types;return a(["union",e.name,a(e.directives," "),t&&0!==t.length?"= "+a(t," | "):""]," ")}),EnumTypeDefinition:o(function(e){var t=e.values;return a(["enum",e.name,a(e.directives," "),u(t)]," ")}),EnumValueDefinition:o(function(e){return a([e.name,a(e.directives," ")]," ")}),InputObjectTypeDefinition:o(function(e){var t=e.fields;return a(["input",e.name,a(e.directives," "),u(t)]," ")}),ScalarTypeExtension:function(e){return a(["extend scalar",e.name,a(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.directives,n=e.fields;return a(["extend type",e.name,s("implements ",a(e.interfaces," & ")),a(t," "),u(n)]," ")},InterfaceTypeExtension:function(e){var t=e.fields;return a(["extend interface",e.name,a(e.directives," "),u(t)]," ")},UnionTypeExtension:function(e){var t=e.types;return a(["extend union",e.name,a(e.directives," "),t&&0!==t.length?"= "+a(t," | "):""]," ")},EnumTypeExtension:function(e){var t=e.values;return a(["extend enum",e.name,a(e.directives," "),u(t)]," ")},InputObjectTypeExtension:function(e){var t=e.fields;return a(["extend input",e.name,a(e.directives," "),u(t)]," ")},DirectiveDefinition:o(function(e){var t=e.locations;return"directive @"+e.name+s("(",a(e.arguments,", "),")")+" on "+a(t," | ")})};function o(e){return function(t){return a([t.description,e(t)],"\n")}}function a(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function u(e){return e&&0!==e.length?"{\n"+c(a(e,"\n"))+"\n}":""}function s(e,t,n){return t?e+t+(n||""):""}function c(e){return e&&"  "+e.replace(/\n/g,"\n  ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e||e!=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifiedDirectives=t.GraphQLDeprecatedDirective=t.DEFAULT_DEPRECATION_REASON=t.GraphQLSkipDirective=t.GraphQLIncludeDirective=t.GraphQLDirective=void 0,t.isDirective=function(e){return(0,o.default)(e,c)},t.isSpecifiedDirective=function(e){return h.some(function(t){return t.name===e.name})};var r=n(1),i=n(34),o=s(n(111)),a=s(n(18)),u=n(52);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.GraphQLDirective=function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.name=t.name,this.description=t.description,this.locations=t.locations,this.astNode=t.astNode,t.name||(0,a.default)(0,"Directive must be named."),Array.isArray(t.locations)||(0,a.default)(0,"Must provide locations for directive.");var n=t.args;n?(Array.isArray(n)&&(0,a.default)(0,"@"+t.name+" args must be an object with argument names as keys."),this.args=Object.keys(n).map(function(e){var t=n[e];return{name:e,description:void 0===t.description?null:t.description,type:t.type,defaultValue:t.defaultValue,astNode:t.astNode}})):this.args=[]},f=t.GraphQLIncludeDirective=new c({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[u.DirectiveLocation.FIELD,u.DirectiveLocation.FRAGMENT_SPREAD,u.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:(0,r.GraphQLNonNull)(i.GraphQLBoolean),description:"Included when true."}}}),l=t.GraphQLSkipDirective=new c({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[u.DirectiveLocation.FIELD,u.DirectiveLocation.FRAGMENT_SPREAD,u.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:(0,r.GraphQLNonNull)(i.GraphQLBoolean),description:"Skipped when true."}}}),p=t.DEFAULT_DEPRECATION_REASON="No longer supported",d=t.GraphQLDeprecatedDirective=new c({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[u.DirectiveLocation.FIELD_DEFINITION,u.DirectiveLocation.ENUM_VALUE],args:{reason:{type:i.GraphQLString,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).",defaultValue:p}}}),h=t.specifiedDirectives=[f,l,d]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.introspectionTypes=t.TypeNameMetaFieldDef=t.TypeMetaFieldDef=t.SchemaMetaFieldDef=t.__TypeKind=t.TypeKind=t.__EnumValue=t.__InputValue=t.__Field=t.__Type=t.__DirectiveLocation=t.__Directive=t.__Schema=void 0,t.isIntrospectionType=function(e){return(0,u.isNamedType)(e)&&(e.name===l.name||e.name===p.name||e.name===d.name||e.name===h.name||e.name===y.name||e.name===v.name||e.name===m.name||e.name===g.name)};var r=f(n(23)),i=f(n(35)),o=n(112),a=n(22),u=n(1),s=n(34),c=n(52);function f(e){return e&&e.__esModule?e:{default:e}}var l=t.__Schema=new u.GraphQLObjectType({name:"__Schema",isIntrospection:!0,description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(h))),resolve:function(e){return(0,i.default)(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:(0,u.GraphQLNonNull)(h),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:h,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:h,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(p))),resolve:function(e){return e.getDirectives()}}}}}),p=t.__Directive=new u.GraphQLObjectType({name:"__Directive",isIntrospection:!0,description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:(0,u.GraphQLNonNull)(s.GraphQLString)},description:{type:s.GraphQLString},locations:{type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(d)))},args:{type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(v))),resolve:function(e){return e.args||[]}},onOperation:{deprecationReason:"Use `locations`.",type:(0,u.GraphQLNonNull)(s.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(c.DirectiveLocation.QUERY)||-1!==e.locations.indexOf(c.DirectiveLocation.MUTATION)||-1!==e.locations.indexOf(c.DirectiveLocation.SUBSCRIPTION)}},onFragment:{deprecationReason:"Use `locations`.",type:(0,u.GraphQLNonNull)(s.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(c.DirectiveLocation.FRAGMENT_SPREAD)||-1!==e.locations.indexOf(c.DirectiveLocation.INLINE_FRAGMENT)||-1!==e.locations.indexOf(c.DirectiveLocation.FRAGMENT_DEFINITION)}},onField:{deprecationReason:"Use `locations`.",type:(0,u.GraphQLNonNull)(s.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(c.DirectiveLocation.FIELD)}}}}}),d=t.__DirectiveLocation=new u.GraphQLEnumType({name:"__DirectiveLocation",isIntrospection:!0,description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:c.DirectiveLocation.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:c.DirectiveLocation.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:c.DirectiveLocation.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:c.DirectiveLocation.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:c.DirectiveLocation.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:c.DirectiveLocation.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:c.DirectiveLocation.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},SCHEMA:{value:c.DirectiveLocation.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:c.DirectiveLocation.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:c.DirectiveLocation.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:c.DirectiveLocation.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:c.DirectiveLocation.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:c.DirectiveLocation.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:c.DirectiveLocation.UNION,description:"Location adjacent to a union definition."},ENUM:{value:c.DirectiveLocation.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:c.DirectiveLocation.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:c.DirectiveLocation.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:c.DirectiveLocation.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),h=t.__Type=new u.GraphQLObjectType({name:"__Type",isIntrospection:!0,description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:(0,u.GraphQLNonNull)(g),resolve:function(e){if((0,u.isScalarType)(e))return b.SCALAR;if((0,u.isObjectType)(e))return b.OBJECT;if((0,u.isInterfaceType)(e))return b.INTERFACE;if((0,u.isUnionType)(e))return b.UNION;if((0,u.isEnumType)(e))return b.ENUM;if((0,u.isInputObjectType)(e))return b.INPUT_OBJECT;if((0,u.isListType)(e))return b.LIST;if((0,u.isNonNullType)(e))return b.NON_NULL;throw new Error("Unknown kind of type: "+e)}},name:{type:s.GraphQLString},description:{type:s.GraphQLString},fields:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(y)),args:{includeDeprecated:{type:s.GraphQLBoolean,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if((0,u.isObjectType)(e)||(0,u.isInterfaceType)(e)){var r=(0,i.default)(e.getFields());return n||(r=r.filter(function(e){return!e.deprecationReason})),r}return null}},interfaces:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(h)),resolve:function(e){if((0,u.isObjectType)(e))return e.getInterfaces()}},possibleTypes:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(h)),resolve:function(e,t,n,r){var i=r.schema;if((0,u.isAbstractType)(e))return i.getPossibleTypes(e)}},enumValues:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(m)),args:{includeDeprecated:{type:s.GraphQLBoolean,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if((0,u.isEnumType)(e)){var r=e.getValues();return n||(r=r.filter(function(e){return!e.deprecationReason})),r}}},inputFields:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(v)),resolve:function(e){if((0,u.isInputObjectType)(e))return(0,i.default)(e.getFields())}},ofType:{type:h}}}}),y=t.__Field=new u.GraphQLObjectType({name:"__Field",isIntrospection:!0,description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:(0,u.GraphQLNonNull)(s.GraphQLString)},description:{type:s.GraphQLString},args:{type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(v))),resolve:function(e){return e.args||[]}},type:{type:(0,u.GraphQLNonNull)(h)},isDeprecated:{type:(0,u.GraphQLNonNull)(s.GraphQLBoolean)},deprecationReason:{type:s.GraphQLString}}}}),v=t.__InputValue=new u.GraphQLObjectType({name:"__InputValue",isIntrospection:!0,description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:(0,u.GraphQLNonNull)(s.GraphQLString)},description:{type:s.GraphQLString},type:{type:(0,u.GraphQLNonNull)(h)},defaultValue:{type:s.GraphQLString,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){return(0,r.default)(e.defaultValue)?null:(0,a.print)((0,o.astFromValue)(e.defaultValue,e.type))}}}}}),m=t.__EnumValue=new u.GraphQLObjectType({name:"__EnumValue",isIntrospection:!0,description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:(0,u.GraphQLNonNull)(s.GraphQLString)},description:{type:s.GraphQLString},isDeprecated:{type:(0,u.GraphQLNonNull)(s.GraphQLBoolean)},deprecationReason:{type:s.GraphQLString}}}}),b=t.TypeKind={SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"},g=t.__TypeKind=new u.GraphQLEnumType({name:"__TypeKind",isIntrospection:!0,description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:b.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:b.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:b.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:b.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:b.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:b.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:b.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:b.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});t.SchemaMetaFieldDef={name:"__schema",type:(0,u.GraphQLNonNull)(l),description:"Access the current type schema of this server.",args:[],resolve:function(e,t,n,r){return r.schema}},t.TypeMetaFieldDef={name:"__type",type:h,description:"Request the type information of a single type.",args:[{name:"name",type:(0,u.GraphQLNonNull)(s.GraphQLString)}],resolve:function(e,t,n,r){return r.schema.getType(t.name)}},t.TypeNameMetaFieldDef={name:"__typename",type:(0,u.GraphQLNonNull)(s.GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,t,n,r){return r.parentType.name}},t.introspectionTypes=[l,p,d,h,y,v,m,g]},function(e,t,n){"use strict";var r=n(162),i=n.n(r),o="function"==typeof Promise?Promise:i.a;t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"$$iterator",function(){return o}),t.isIterable=a,t.isArrayLike=u,t.isCollection=function(e){return Object(e)===e&&(u(e)||a(e))},t.getIterator=s,t.getIteratorMethod=c,t.createIterator=f,t.forEach=function(e,t,n){if(null!=e){if("function"==typeof e.forEach)return e.forEach(t,n);var r=0,i=s(e);if(i){for(var o;!(o=i.next()).done;)if(t.call(n,o.value,r++,e),r>9999999)throw new TypeError("Near-infinite iteration.")}else if(u(e))for(;r<e.length;r++)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}},n.d(t,"$$asyncIterator",function(){return d}),t.isAsyncIterable=function(e){return!!y(e)},t.getAsyncIterator=h,t.getAsyncIteratorMethod=y,t.createAsyncIterator=v,t.forAwaitEach=function(e,t,n){var r=v(e);if(r){var i=0;return new Promise(function(o,a){!function u(){return r.next().then(function(r){return r.done?o():Promise.resolve(t.call(n,r.value,i++,e)).then(u).catch(a),null}).catch(a),null}()})}};var r="function"==typeof Symbol?Symbol:void 0,i=r&&r.iterator,o=i||"@@iterator";function a(e){return!!c(e)}function u(e){var t=null!=e&&e.length;return"number"==typeof t&&t>=0&&t%1==0}function s(e){var t=c(e);if(t)return t.call(e)}function c(e){if(null!=e){var t=i&&e[i]||e["@@iterator"];if("function"==typeof t)return t}}function f(e){if(null!=e){var t=s(e);if(t)return t;if(u(e))return new l(e)}}function l(e){this._o=e,this._i=0}l.prototype[o]=function(){return this},l.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}};var p=r&&r.asyncIterator,d=p||"@@asyncIterator";function h(e){var t=y(e);if(t)return t.call(e)}function y(e){if(null!=e){var t=p&&e[p]||e["@@asyncIterator"];if("function"==typeof t)return t}}function v(e){if(null!=e){var t=h(e);if(t)return t;var n=f(e);if(n)return new m(n)}}function m(e){this._i=e}m.prototype[d]=function(){return this},m.prototype.next=function(){var e=this._i.next();return Promise.resolve(e.value).then(function(t){return{value:t,done:e.done}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeFromAST=function e(t,n){var o=void 0;if(n.kind===r.Kind.LIST_TYPE)return(o=e(t,n.type))&&(0,i.GraphQLList)(o);if(n.kind===r.Kind.NON_NULL_TYPE)return(o=e(t,n.type))&&(0,i.GraphQLNonNull)(o);if(n.kind===r.Kind.NAMED_TYPE)return t.getType(n.name.value);throw new Error("Unexpected type kind: "+n.kind+".")};var r=n(3),i=n(1)},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,s=0;s<a;s++)c[s].apply(this,u);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var r=n(40);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(139),o=n(71),a=n(232),u=n(141),s=function(e){function t(t,n,r){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!t){this.destination=a.empty;break}if("object"==typeof t){if(f(t)){var i=t[u.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new c(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,n,r)}}return r(t,e),t.prototype[u.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(o.Subscription);t.Subscriber=s;var c=function(e){function t(t,n,r,o){var u;e.call(this),this._parentSubscriber=t;var s=this;i.isFunction(n)?u=n:n&&(u=n.next,r=n.error,o=n.complete,n!==a.empty&&(s=Object.create(n),i.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=u,this._error=r,this._complete=o}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(s);function f(e){return e instanceof s||"syncErrorThrowable"in e&&e[u.rxSubscriber]}},function(e,t,n){"use strict";var r=n(59),i=n(419),o=n(233),a=n(420);t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(r?r.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i;i=n.subscribe(function(t){if(i)try{e(t)}catch(e){r(e),i.unsubscribe()}else e(t)},r,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}()},function(e,t,n){"use strict";e.exports={Array:[].constructor,Boolean:(!0).constructor,Function:(function(){}).constructor,Number:(0).constructor,Object:{}.constructor,RegExp:/(?:)/.constructor,String:"".constructor}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifiedScalarTypes=t.GraphQLID=t.GraphQLBoolean=t.GraphQLString=t.GraphQLFloat=t.GraphQLInt=void 0,t.isSpecifiedScalarType=function(e){return(0,r.isNamedType)(e)&&(e.name===p.name||e.name===s.name||e.name===f.name||e.name===d.name||e.name===h.name)};var r=n(1),i=n(3),o=2147483647,a=-2147483648;function u(e){if(""===e)throw new TypeError("Int cannot represent non 32-bit signed integer value: (empty string)");var t=Number(e);if(t!=t||t>o||t<a)throw new TypeError("Int cannot represent non 32-bit signed integer value: "+String(e));var n=Math.floor(t);if(n!==t)throw new TypeError("Int cannot represent non-integer value: "+String(e));return n}var s=t.GraphQLInt=new r.GraphQLScalarType({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1. ",serialize:u,parseValue:u,parseLiteral:function(e){if(e.kind===i.Kind.INT){var t=parseInt(e.value,10);if(t<=o&&t>=a)return t}}});function c(e){if(""===e)throw new TypeError("Float cannot represent non numeric value: (empty string)");var t=Number(e);if(t==t)return t;throw new TypeError("Float cannot represent non numeric value: "+String(e))}var f=t.GraphQLFloat=new r.GraphQLScalarType({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point). ",serialize:c,parseValue:c,parseLiteral:function(e){return e.kind===i.Kind.FLOAT||e.kind===i.Kind.INT?parseFloat(e.value):void 0}});function l(e){if(Array.isArray(e))throw new TypeError("String cannot represent an array value: ["+String(e)+"]");return String(e)}var p=t.GraphQLString=new r.GraphQLScalarType({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:l,parseValue:l,parseLiteral:function(e){return e.kind===i.Kind.STRING?e.value:void 0}}),d=t.GraphQLBoolean=new r.GraphQLScalarType({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:Boolean,parseValue:Boolean,parseLiteral:function(e){return e.kind===i.Kind.BOOLEAN?e.value:void 0}}),h=t.GraphQLID=new r.GraphQLScalarType({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===i.Kind.STRING||e.kind===i.Kind.INT?e.value:void 0}});t.specifiedScalarTypes=[p,s,f,d,h]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLError=o;var r=n(164),i=n(113);function o(e,t,n,r,a,u,s){var c=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,f=n;if(!f&&c){var l=c[0];f=l&&l.loc&&l.loc.source}var p=r;!p&&c&&(p=c.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),p&&0===p.length&&(p=void 0);var d=void 0;r&&n?d=r.map(function(e){return(0,i.getLocation)(n,e)}):c&&(d=c.reduce(function(e,t){return t.loc&&e.push((0,i.getLocation)(t.loc.source,t.loc.start)),e},[])),Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:d||void 0,enumerable:!0},path:{value:a||void 0,enumerable:!0},nodes:{value:c||void 0},source:{value:f||void 0},positions:{value:p||void 0},originalError:{value:u},extensions:{value:s||u&&u.extensions}}),u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}o.prototype=Object.create(Error.prototype,{constructor:{value:o},name:{value:"GraphQLError"},toString:{value:function(){return(0,r.printError)(this)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.reduce(function(e,n){return e[t(n)]=n,e},Object.create(null))}},function(e,t,n){var r=n(14),i=n(21),o=n(65),a=n(48),u=n(49),s=function(e,t,n){var c,f,l,p=e&s.F,d=e&s.G,h=e&s.S,y=e&s.P,v=e&s.B,m=e&s.W,b=d?i:i[t]||(i[t]={}),g=b.prototype,_=d?r:h?r[t]:(r[t]||{}).prototype;for(c in d&&(n=t),n)(f=!p&&_&&void 0!==_[c])&&u(b,c)||(l=f?_[c]:n[c],b[c]=d&&"function"!=typeof _[c]?n[c]:v&&f?o(l,r):m&&_[c]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):y&&"function"==typeof l?o(Function.call,l):l,y&&((b.virtual||(b.virtual={}))[c]=l,e&s.R&&g&&!g[c]&&a(g,c,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var r=n(30),i=n(212),o=n(126),a=Object.defineProperty;t.f=n(41)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(90)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e){return"$"+e}function i(e){return e.substring(1)}function o(){this._store={}}function a(e){if(this._store=new o,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}var u,s;n.d(t,"b",function(){return u}),n.d(t,"a",function(){return s}),o.prototype.get=function(e){var t=r(e);return this._store[t]},o.prototype.set=function(e,t){var n=r(e);return this._store[n]=t,!0},o.prototype.has=function(e){return r(e)in this._store},o.prototype.delete=function(e){var t=r(e),n=t in this._store;return delete this._store[t],n},o.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n];e(this._store[o],o=i(o))}},Object.defineProperty(o.prototype,"size",{get:function(){return Object.keys(this._store).length}}),a.prototype.add=function(e){return this._store.set(e,!0)},a.prototype.has=function(e){return this._store.has(e)},a.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(a.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(u=Set,s=Map):(u=a,s=o)},function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"o",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"n",function(){return f}),n.d(t,"l",function(){return l}),n.d(t,"p",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"m",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"k",function(){return m}),n.d(t,"q",function(){return g}),n.d(t,"f",function(){return _}),n.d(t,"j",function(){return w}),n.d(t,"d",function(){return b}),n.d(t,"r",function(){return E}),n.d(t,"s",function(){return O});var r=n(12);function i(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}n.n(r)()(i,Error),i.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new i(401,"unauthorized","Name or password is incorrect.");var o=new i(400,"bad_request","Missing JSON list of 'docs'"),a=new i(404,"not_found","missing"),u=new i(409,"conflict","Document update conflict"),s=new i(400,"bad_request","_id field must contain a string"),c=new i(412,"missing_id","_id is required for puts"),f=new i(400,"bad_request","Only reserved document ids may start with underscore."),l=new i(412,"precondition_failed","Database not open"),p=new i(500,"unknown_error","Database encountered an unknown error"),d=new i(500,"badarg","Some query argument is invalid"),h=(new i(400,"invalid_request","Request was invalid"),new i(400,"query_parse_error","Some query parameter is invalid")),y=new i(500,"doc_validation","Bad special document member"),v=new i(400,"bad_request","Something wrong with the request"),m=new i(400,"bad_request","Document must be a JSON object"),b=(new i(404,"not_found","Database not found"),new i(500,"indexed_db_went_bad","unknown")),g=new i(500,"web_sql_went_bad","unknown"),_=(new i(500,"levelDB_went_went_bad","unknown"),new i(403,"forbidden","Forbidden by design doc validate_doc_update function"),new i(400,"bad_request","Invalid rev format")),w=(new i(412,"file_exists","The database could not be created, the file already exists."),new i(412,"missing_stub","A pre-existing attachment stub wasn't found"));function E(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=i.prototype,new n(t)}function O(e){if("object"!=typeof e){var t=e;(e=p).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new i(413,"invalid_url","Provided URL is invalid")},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(31);t.filter=function(e,t){return function(n){return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){e.call(this,t),this.predicate=n,this.thisArg=r,this.count=0}return r(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(19),a=n.n(o),u=n(4),s=function(){function e(t){i()(this,e),this.data=t}return e.prototype.toJSON=function(){var e={op:this.data.op,t:this.data.t,db:this.data.db,it:this.data.it,isLocal:this.data.isLocal};return this.data.col&&(e.col=this.data.col),this.data.doc&&(e.doc=this.data.doc),this.data.v&&(e.v=this.data.v),e},e.prototype.isIntern=function(){return!(!this.data.col||"_"!==this.data.col.charAt(0))},e.prototype.isSocket=function(){return!(!this.data.col||"_socket"!==this.data.col)},a()(e,[{key:"hash",get:function(){return this._hash||(this._hash=u.e(this.data)),this._hash}}]),e}();t.a={fromJSON:function(e){return new s(e)},fromPouchChange:function(e,t){var n=e._rev.startsWith("1-")?"INSERT":"UPDATE";e._deleted&&(n="REMOVE"),e=t._handleFromPouch(e);var r={op:n,t:(new Date).getTime(),db:"remote",col:t.name,it:t.database.token,doc:e[t.schema.primaryPath],v:e};return new s(r)},create:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a={op:e,t:(new Date).getTime(),db:t.name,it:t.token,isLocal:o};return n&&(a.col=n.name),r&&(a.doc=r.primary),i&&(a.v=i),new s(a)},isInstanceOf:function(e){return e instanceof s}}},function(e,t,n){var r;e.exports=r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var u=i(4294967296*(n||e.random()));n=987654071*u(),r.push(4294967296*u()|0)}return new a.init(r,t)}}),u=r.enc={},s=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},f=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,u=i/(4*o),s=(u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0))*o,c=e.min(4*s,i);if(s){for(var f=0;f<s;f+=o)this._doProcessBlock(r,f);var l=r.splice(0,s);n.sigBytes-=c}return new a.init(l,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(i.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,u=void 0,s=Array.isArray(e),c=[e],f=-1,l=[],p=void 0,d=void 0,h=void 0,y=[],v=[],m=e;do{var b=++f===c.length,g=b&&0!==l.length;if(b){if(d=0===v.length?void 0:y[y.length-1],p=h,h=v.pop(),g){if(s)p=p.slice();else{var _={};for(var w in p)p.hasOwnProperty(w)&&(_[w]=p[w]);p=_}for(var E=0,O=0;O<l.length;O++){var T=l[O][0],S=l[O][1];s&&(T-=E),s&&null===S?(p.splice(T,1),E++):p[T]=S}}f=u.index,c=u.keys,l=u.edits,s=u.inArray,u=u.prev}else{if(d=h?s?f:c[f]:void 0,null===(p=h?h[d]:m)||void 0===p)continue;h&&y.push(d)}var k=void 0;if(!Array.isArray(p)){if(!o(p))throw new Error("Invalid AST Node: "+JSON.stringify(p));var x=a(t,p.kind,b);if(x){if((k=x.call(t,p,d,h,y,v))===i)break;if(!1===k){if(!b){y.pop();continue}}else if(void 0!==k&&(l.push([d,k]),!b)){if(!o(k)){y.pop();continue}p=k}}}void 0===k&&g&&l.push([d,p]),b?y.pop():(u={inArray:s,index:f,keys:c,edits:l,prev:u},c=(s=Array.isArray(p))?p:n[p.kind]||[],f=-1,l=[],h&&v.push(h),h=p)}while(void 0!==u);return 0!==l.length&&(m=l[l.length-1][1]),m},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(!t[r]){var o=a(e[r],n.kind,!1);if(o){var u=o.apply(e[r],arguments);if(!1===u)t[r]=n;else if(u===i)t[r]=i;else if(void 0!==u)return u}}},leave:function(n){for(var r=0;r<e.length;r++)if(t[r])t[r]===n&&(t[r]=null);else{var o=a(e[r],n.kind,!0);if(o){var u=o.apply(e[r],arguments);if(u===i)t[r]=i;else if(void 0!==u&&!1!==u)return u}}}}},t.visitWithTypeInfo=function(e,t){return{enter:function(n){e.enter(n);var r=a(t,n.kind,!1);if(r){var i=r.apply(t,arguments);return void 0!==i&&(e.leave(n),o(i)&&e.enter(i)),i}},leave:function(n){var r=a(t,n.kind,!0),i=void 0;return r&&(i=r.apply(t,arguments)),e.leave(n),i}}},t.getVisitFn=a;var r=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]},i=t.BREAK={};function o(e){return Boolean(e&&"string"==typeof e.kind)}function a(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}},function(e,t,n){var r=n(39),i=n(91);e.exports=n(41)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),t.d=s,n.d(t,"c",function(){return f});var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u={createRxDatabase:[],createRxCollection:[],preCreateRxSchema:[],createRxSchema:[],createRxQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreatePouchDb:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function s(e,t){u[e].forEach(function(e){return e(t)})}var c,f=(c=a()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(u[t].map(function(e){return e(n)})));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return c.apply(this,arguments)});t.b={runPluginHooks:s,runAsyncPluginHooks:f,HOOKS:u}},function(e,t,n){"use strict";var r=n(101),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=n(77);o.inherits=n(12);var a=n(253),u=n(144);o.inherits(l,a);for(var s=i(u.prototype),c=0;c<s.length;c++){var f=s[c];l.prototype[f]||(l.prototype[f]=u.prototype[f])}function l(e){if(!(this instanceof l))return new l(e);a.call(this,e),u.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveLocation=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},function(e,t,n){var r=n(362),i=n(124);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r=n(386),i=n(392),o=n(5);r.a.plugin(i.a),r.a.countAllUndeleted=function(e){return e.allDocs({include_docs:!1,attachments:!1}).then(function(e){return e.rows.filter(function(e){return!e.id.startsWith("_design/")}).length})},r.a.getBatch=function(e,t){if(t<=1)throw o.a.newRxError("P1",{limit:t});return e.allDocs({include_docs:!0,attachments:!1,limit:t}).then(function(e){return e.rows.map(function(e){return e.doc}).filter(function(e){return!e._id.startsWith("_design")})})},t.a=r.a},function(e,t,n){"use strict";function r(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var a=i.ids,u=a[2],s=i.pos;if(u.length)for(var c=0,f=u.length;c<f;c++)o.push({pos:s+1,ids:u[c]});else{var l=!!a[1].deleted,p=a[0];t&&!(r!==l?r:n!==s?n<s:t<p)||(t=p,n=s,r=l)}}return n+"-"+t}function i(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],u=t(0===a.length,i,o[0],n.ctx,o[1]),s=0,c=a.length;s<c;s++)r.push({pos:i+1,ids:a[s],ctx:u})}function o(e,t){return e.pos-t.pos}function a(e){var t=[];i(e,function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})}),t.sort(o).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function u(e){for(var t=r(e),n=a(e.rev_tree),i=[],o=0,u=n.length;o<u;o++){var s=n[o];s.rev===t||s.opts.deleted||i.push(s.rev)}return i}function s(e){var t=[];return i(e.rev_tree,function(e,n,r,i,o){"available"!==o.status||e||(t.push(n+"-"+r),o.status="missing")}),t}function c(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,a=o[0],u=o[1],s=o[2],c=0===s.length,f=t.history?t.history.slice():[];f.push({id:a,opts:u}),c&&n.push({pos:i+1-f.length,ids:f});for(var l=0,p=s.length;l<p;l++)r.push({pos:i+1,ids:s[l],history:f})}return n.reverse()}function f(e,t){return e.pos-t.pos}function l(e,t,n){var r=function(e,t,n){for(var r,i=0,o=e.length;i<o;)n(e[r=i+o>>>1],t)<0?i=r+1:o=r;return i}(e,t,n);e.splice(r,0,t)}function p(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var a=e[i],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function d(e,t){return e[0]<t[0]?-1:1}function h(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,a=i.tree2;(o[1].status||a[1].status)&&(o[1].status="available"===o[1].status||"available"===a[1].status?"available":"missing");for(var u=0;u<a[2].length;u++)if(o[2][0]){for(var s=!1,c=0;c<o[2].length;c++)o[2][c][0]===a[2][u][0]&&(n.push({tree1:o[2][c],tree2:a[2][u]}),s=!0);s||(r="new_branch",l(o[2],a[2][u],d))}else r="new_leaf",o[2][0]=a[2][u]}return{conflicts:r,tree:e}}function y(e,t,n){var r,i=[],o=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,s=e.length;u<s;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=h(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,p=c.pos<t.pos?t:c,d=[],y=[];for(y.push({ids:l.ids,diff:p.pos-l.pos,parent:null,parentIdx:null});y.length>0;){var v=y.pop();if(0!==v.diff)for(var m=v.ids[2],b=0,g=m.length;b<g;b++)y.push({ids:m[b],diff:v.diff-1,parent:v.ids,parentIdx:b});else v.ids[0]===p.ids[0]&&d.push(v)}var _=d[0];_?(r=h(_.ids,p.ids),_.parent[2][_.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,a=!0):i.push(c)}else i.push(c)}return a||i.push(t),i.sort(f),{tree:i,conflicts:o||"internal_node"}}function v(e,t,n){var r=y(e,t),o=function(e,t){for(var n,o,a=c(r.tree),u=0,s=a.length;u<s;u++){var f,l=a[u],d=l.ids;if(d.length>t){n||(n={});var h=d.length-t;f={pos:l.pos+h,ids:p(d,h)};for(var v=0;v<h;v++)n[l.pos+v+"-"+d[v].id]=!0}else f={pos:l.pos,ids:p(d,0)};o=o?y(o,f,!0).tree:[f]}return n&&i(o,function(e,t,r){delete n[t+"-"+r]}),{tree:o,revs:n?Object.keys(n):[]}}(0,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function m(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}function b(e){return e.ids}function g(e,t){t||(t=r(e));for(var n,i=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(b);n=o.pop();){if(n[0]===i)return!!n[1].deleted;o=o.concat(n[2])}}function _(e){return/^_local/.test(e)}function w(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,a=o[0],u=o[1],s=o[2],c=0===s.length,f=n.history?n.history.slice():[];if(f.push({id:a,pos:i,opts:u}),c)for(var l=0,p=f.length;l<p;l++){var d=f[l];if(d.pos+"-"+d.id===e)return i+"-"+a}for(var h=0,y=s.length;h<y;h++)r.push({pos:i+1,ids:s[h],history:f})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return _}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return c}),n.d(t,"j",function(){return i}),n.d(t,"k",function(){return r}),n.d(t,"f",function(){return w})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return c});var r=function(e){return atob(e)},i=function(e){return btoa(e)};function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function a(e,t){return o([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(e)],{type:t})}function u(e,t){return a(r(e),t)}function s(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}function c(e,t){if("undefined"==typeof FileReader)return t(s((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(s(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function f(e,t){c(e,function(e){t(e)})}function l(e,t){f(e,function(e){t(i(e))})}function p(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(2),s=n.n(u),c=n(19),f=n.n(c),l=n(94),p=n.n(l),d=n(44),h=(n.n(d),n(4)),y=n(72),v=n(99),m=n(45),b=n(5),g=n(438),_=n(100),w=n(238),E=n(439),O=n(239),T=n(70),S=n(50),k=["pre","post"],x=["insert","save","remove","create"],j=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=this,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};s()(this,e),this._isInMemory=!1,this.destroyed=!1,this.database=t,this.name=n,this.schema=r,this._migrationStrategies=o,this._pouchSettings=i,this._methods=a,this._attachments=c,this.options=f,this._atomicUpsertQueues={},this._docCache=w.a.create(),this._queryCache=E.a.create(),this.synced=!1,this.hooks={},this._subs=[],this._repStates=[],this.pouch=null,x.forEach(function(e){k.map(function(t){var n=t+h.q(e);u[n]=function(n,r){return u.addHook(t,e,n,r)}})})}return e.prototype.prepare=(D=a()(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._dataMigrator=g.a.create(this,this._migrationStrategies),this._crypter=_.a.create(this.database.password,this.schema),this.pouch=this.database._spawnPouchDB(this.name,this.schema.version,this._pouchSettings),e.next=5,this.database.lockedRun(function(){return t.pouch.info()});case 5:return this._observable$=this.database.$.pipe(Object(d.filter)(function(e){return e.data.col===t.name})),this._changeEventBuffer=O.a.create(this),e.next=9,Promise.all(this.schema.indexes.map(function(e){var n=e.map(function(e){return t.schema.doKeyCompression()?t._keyCompressor._transformKey("","",e.split(".")):e});return t.database.lockedRun(function(){return t.pouch.createIndex({index:{fields:n}})})}));case 9:this._subs.push(this._observable$.pipe(Object(d.filter)(function(e){return!e.data.isLocal})).subscribe(function(e){var n=t._docCache.get(e.data.doc);n&&n._handleChangeEvent(e)}));case 10:case"end":return e.stop()}},e,this)})),function(){return D.apply(this,arguments)}),e.prototype.migrationNeeded=function(){return 0!==this.schema.version&&this._dataMigrator._getOldCollections().then(function(e){return e.length>0})},e.prototype.migrate=function(){return this._dataMigrator.migrate(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10)},e.prototype.migratePromise=function(){return this._dataMigrator.migratePromise(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10)},e.prototype._handleToPouch=function(e){var t=h.b(e);return t=this._crypter.encrypt(t),t=this.schema.swapPrimaryToId(t),this.schema.doKeyCompression()&&(t=this._keyCompressor.compress(t)),t},e.prototype._handleFromPouch=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.b(e);return n=this.schema.swapIdToPrimary(n),this.schema.doKeyCompression()&&(n=this._keyCompressor.decompress(n)),t?n:n=this._crypter.decrypt(n)},e.prototype._pouchPut=(L=a()(i.a.mark(function e(t){var n,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._handleToPouch(t),n=null,e.prev=2,e.next=5,this.database.lockedRun(function(){return r.pouch.put(t)});case 5:n=e.sent,e.next=21;break;case 8:if(e.prev=8,e.t0=e.catch(2),!o||409!==e.t0.status){e.next=20;break}return e.next=13,this.database.lockedRun(function(){return r.pouch.get(t._id)});case 13:return t._rev=e.sent._rev,e.next=17,this.database.lockedRun(function(){return r.pouch.put(t)});case 17:n=e.sent,e.next=21;break;case 20:throw e.t0;case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}},e,this,[[2,8]])})),function(e){return L.apply(this,arguments)}),e.prototype._pouchGet=function(e){var t=this;return this.pouch.get(e).then(function(e){return t._handleFromPouch(e)})},e.prototype._pouchFind=(A=a()(i.a.mark(function e(t,n){var r,o,a=this,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.keyCompress(),n&&(r.limit=n),e.next=4,this.database.lockedRun(function(){return a.pouch.find(r)});case 4:return o=e.sent.docs.map(function(e){return a._handleFromPouch(e,u)}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return A.apply(this,arguments)}),e.prototype._assignMethodsToDocument=function(e){Object.entries(this._methods).forEach(function(t){var n=t[1];e.__defineGetter__(t[0],function(){return n.bind(e)})})},e.prototype._createDocument=(I=a()(i.a.mark(function e(t){var n,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._docCache.get(n=t[this.schema.primaryPath]))){e.next=4;break}return e.abrupt("return",r);case 4:return o=y.a.create(this,t),this._assignMethodsToDocument(o),this._docCache.set(n,o),this._runHooksSync("post","create",o),e.next=10,Object(S.c)("postCreateRxDocument",o);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)}),e.prototype._createDocuments=(N=a()(i.a.mark(function e(t){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(e){return n._createDocument(e)})));case 1:case"end":return e.stop()}},e,this)})),function(e){return N.apply(this,arguments)}),e.prototype.$emit=function(e){return this.database.$emit(e)},e.prototype.insert=(j=a()(i.a.mark(function e(t){var n,r,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!y.a.isInstanceOf(t)){e.next=6;break}if(n=t,t._isTemporary){e.next=5;break}throw b.a.newRxError("COL1",{data:t});case 5:t=t.toJSON();case 6:if(t=h.b(t),!(t=this.schema.fillObjectWithDefaults(t))._id){e.next=10;break}throw b.a.newRxError("COL2",{data:t});case 10:return"_id"!==this.schema.primaryPath||t._id||(t._id=h.d()),e.next=13,this._runHooks("pre","insert",t);case 13:return this.schema.validate(t),e.next=16,this._pouchPut(t);case 16:if(t[this.schema.primaryPath]=(r=e.sent).id,t._rev=r.rev,o=n,!n){e.next=24;break}n._data=t,e.next=27;break;case 24:return e.next=26,this._createDocument(t);case 26:o=e.sent;case 27:return e.next=29,this._runHooks("post","insert",o);case 29:return a=m.a.create("INSERT",this.database,this,o,t),this.$emit(a),e.abrupt("return",o);case 32:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)}),e.prototype.upsert=(l=a()(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.b(t),n=t[this.schema.primaryPath]){e.next=4;break}throw b.a.newRxError("COL3",{primaryPath:this.schema.primaryPath,data:t});case 4:return e.next=6,this.findOne(n).exec();case 6:if(!(r=e.sent)){e.next=15;break}return t._rev=r._rev,r._data=t,e.next=12,r.save();case 12:return e.abrupt("return",r);case 15:return e.next=17,this.insert(t);case 17:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)}),e.prototype._atomicUpsertEnsureRxDocumentExists=(c=a()(i.a.mark(function e(t,n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findOne(t).exec();case 2:if(r=e.sent){e.next=10;break}return e.next=6,this.insert(n);case 6:return e.abrupt("return",{doc:e.sent,inserted:!0});case 10:return e.abrupt("return",{doc:r,inserted:!1});case 11:case"end":return e.stop()}},e,this)})),function(e,t){return c.apply(this,arguments)}),e.prototype._atomicUpsertUpdate=(u=a()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.atomicUpdate(function(e){n._rev=e._rev,e._data=n});case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return u.apply(this,arguments)}),e.prototype.atomicUpsert=(o=a()(i.a.mark(function e(t){var n,r,o=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.b(t),n=t[this.schema.primaryPath]){e.next=4;break}throw b.a.newRxError("COL4",{data:t});case 4:return this._atomicUpsertQueues[n]||(this._atomicUpsertQueues[n]=new p.a),r=this._atomicUpsertQueues[n],e.next=8,r.requestIdlePromise();case 8:return e.next=10,r.wrapCall(a()(i.a.mark(function e(){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._atomicUpsertEnsureRxDocumentExists(n,t);case 2:if((r=e.sent).inserted){e.next=11;break}return e.next=6,o._atomicUpsertUpdate(r.doc,t);case 6:return e.next=8,h.g();case 8:case 11:return e.abrupt("return",r.doc);case 12:case"end":return e.stop()}},e,o)})));case 10:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),e.prototype.find=function(e){if("string"==typeof e)throw b.a.newRxError("COL5",{queryObj:e});return v.a.create("find",e,this)},e.prototype.findOne=function(e){var t;if(t=v.a.create("findOne","string"==typeof e?{_id:e}:e,this),"number"==typeof e||Array.isArray(e))throw b.a.newRxTypeError("COL6",{queryObj:e});return t},e.prototype.dump=function(){throw b.a.pluginMissing("json-dump")},e.prototype.importDump=(r=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw b.a.pluginMissing("json-dump");case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),e.prototype.watchForChanges=function(){throw b.a.pluginMissing("replication")},e.prototype.sync=function(){throw b.a.pluginMissing("replication")},e.prototype.inMemory=function(){throw b.a.pluginMissing("in-memory")},e.prototype.addHook=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof n)throw b.a.newRxTypeError("COL7",{key:t,when:e});if(!k.includes(e))throw b.a.newRxTypeError("COL8",{key:t,when:e});if(!x.includes(t))throw b.a.newRxError("COL9",{key:t});if("post"===e&&"create"===t&&!0===r)throw b.a.newRxError("COL10",{when:e,key:t,parallel:r});var i=r?"parallel":"series";this.hooks[t]=this.hooks[t]||{},this.hooks[t][e]=this.hooks[t][e]||{series:[],parallel:[]},this.hooks[t][e][i].push(n)},e.prototype.getHooks=function(e,t){try{return this.hooks[t][e]}catch(e){return{series:[],parallel:[]}}},e.prototype._runHooks=(n=a()(i.a.mark(function e(t,n,r){var o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.getHooks(t,n)){e.next=3;break}return e.abrupt("return");case 3:a=0;case 4:if(!(a<o.series.length)){e.next=10;break}return e.next=7,o.series[a](r);case 7:a++,e.next=4;break;case 10:return e.next=12,Promise.all(o.parallel.map(function(e){return e(r)}));case 12:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)}),e.prototype._runHooksSync=function(e,t,n){var r=this.getHooks(e,t);r&&r.series.forEach(function(e){return e(n)})},e.prototype.newDocument=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=this.schema.fillObjectWithDefaults(e);var t=y.a.create(this,e);return t._isTemporary=!0,this._assignMethodsToDocument(t),this._runHooksSync("post","create",t),t},e.prototype.destroy=(t=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(e){return e.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this._queryCache.destroy(),this._repStates.forEach(function(e){return e.cancel()}),delete this.database.collections[this.name],this.destroyed=!0;case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),e.prototype.remove=function(){return this.database.removeCollection(this.name)},f()(e,[{key:"_keyCompressor",get:function(){return this.__keyCompressor||(this.__keyCompressor=T.a.createKeyCompressor(this.schema)),this.__keyCompressor}},{key:"$",get:function(){return this._observable$}},{key:"onDestroy",get:function(){var e=this;return this._onDestroy||(this._onDestroy=new Promise(function(t){return e._onDestroyCall=t})),this._onDestroy}}]),e;var t,n,r,o,u,c,l,j,N,I,A,L,D}(),N=function(e,t){if("object"!=typeof t||Array.isArray(t))throw b.a.newRxTypeError("COL11",{schema:e});if(e.previousVersions.length!==Object.keys(t).length)throw b.a.newRxError("COL12",{have:Object.keys(t),should:e.previousVersions});return e.previousVersions.map(function(e){return{v:e,s:t[e+1+""]}}).filter(function(e){return"function"!=typeof e.s}).forEach(function(t){throw b.a.newRxTypeError("COL13",{version:t.v,type:typeof t,schema:e})}),!0},I=null;function A(){if(!I){var e=new j,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));I=[].concat(t,n)}return I}var L,D=function(e){Object.entries(e).forEach(function(e){if("string"!=typeof e[0])throw b.a.newRxTypeError("COL14",{name:e[0]});if(e[0].startsWith("_"))throw b.a.newRxTypeError("COL15",{name:e[0]});if("function"!=typeof e[1])throw b.a.newRxTypeError("COL16",{name:e[0],type:typeof e[1]});if(A().includes(e[0])||y.a.properties().includes(e[0]))throw b.a.newRxError("COL17",{name:e[0]})})},P=(L=a()(i.a.mark(function e(t){var n,r=t.database,o=t.name,a=t.schema,u=t.pouchSettings,s=void 0===u?{}:u,c=t.migrationStrategies,f=void 0===c?{}:c,l=t.autoMigrate,p=void 0===l||l,d=t.statics,y=void 0===d?{}:d,v=t.methods,m=void 0===v?{}:v,g=t.attachments,_=void 0===g?{}:g,w=t.options,E=void 0===w?{}:w;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h.r(o),N(a,f),D(y),D(m),D(_),Object.keys(m).filter(function(e){return a.topLevelFields.includes(e)}).forEach(function(e){throw b.a.newRxError("COL18",{funName:e})}),n=new j(r,o,a,s,f,m,_,E),e.next=9,n.prepare();case 9:if(Object.entries(y).forEach(function(e){var t=e.pop(),r=e.pop();n.__defineGetter__(r,function(){return t.bind(n)})}),!p){e.next=13;break}return e.next=13,n.migratePromise();case 13:return Object(S.d)("createRxCollection",n),e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this)})),function(e){return L.apply(this,arguments)});t.a={create:P,properties:A,isInstanceOf:function(e){return e instanceof j},RxCollection:j}},function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=n||"undefined"!=typeof e&&e||r;t.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n(7))},function(e,t,n){var r,i;!function(n,o){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=o():void 0===(i="function"==typeof(r=o)?r.apply(t,[]):r)||(e.exports=i)}(0,function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){if(!e)return!0;if(i(e)&&0===e.length)return!0;if("string"!=typeof e){for(var n in e)if(t(e,n))return!1;return!0}return!1}function r(t){return e.call(t)}var i=Array.isArray||function(t){return"[object Array]"===e.call(t)};function o(e){var t=parseInt(e);return t.toString()===e?t:e}function a(e){e=e||{};var a=function(e){return Object.keys(a).reduce(function(t,n){return"create"===n?t:("function"==typeof a[n]&&(t[n]=a[n].bind(a,e)),t)},{})};function u(n,r){return e.includeInheritedProps||"number"==typeof r&&Array.isArray(n)||t(n,r)}function s(e,t){if(u(e,t))return e[t]}function c(e,t,n,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(o),n,r);var i=t[0],a=s(e,i);return 1===t.length?(void 0!==a&&r||(e[i]=n),a):(void 0===a&&(e[i]="number"==typeof t[1]?[]:{}),c(e[i],t.slice(1),n,r))}return a.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!n;for(var a=0;a<r.length;a++){var u=o(r[a]);if(!("number"==typeof u&&i(n)&&u<n.length||(e.includeInheritedProps?u in Object(n):t(n,u))))return!1;n=n[u]}return!0},a.ensureExists=function(e,t,n){return c(e,t,n,!0)},a.set=function(e,t,n,r){return c(e,t,n,r)},a.insert=function(e,t,n,r){var o=a.get(e,t);r=~~r,i(o)||a.set(e,t,o=[]),o.splice(r,0,n)},a.empty=function(e,t){var o,s;if(!n(t)&&null!=e&&(o=a.get(e,t))){if("string"==typeof o)return a.set(e,t,"");if("boolean"==typeof o||"[object Boolean]"===r(o))return a.set(e,t,!1);if("number"==typeof o)return a.set(e,t,0);if(i(o))o.length=0;else{if("object"!=typeof o||"[object Object]"!==r(o))return a.set(e,t,null);for(s in o)u(o,s)&&delete o[s]}}},a.push=function(e,t){var n=a.get(e,t);i(n)||a.set(e,t,n=[]),n.push.apply(n,Array.prototype.slice.call(arguments,2))},a.coalesce=function(e,t,n){for(var r,i=0,o=t.length;i<o;i++)if(void 0!==(r=a.get(e,t[i])))return r;return n},a.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return a.get(e,t.split("."),n);var r=o(t[0]),i=s(e,r);return void 0===i?n:1===t.length?i:a.get(e[r],t.slice(1),n)},a.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(n(t))return e;if("string"==typeof t)return a.del(e,t.split("."));var r=o(t[0]);return u(e,r)?1!==t.length?a.del(e[r],t.slice(1)):(i(e)?e.splice(r,1):delete e[r],e):e},a}var u=a();return u.create=a,u.withInheritedProps=a({includeInheritedProps:!0}),u})},function(e,t,n){"use strict";t.b=y;var r=n(2),i=n.n(r),o=n(19),a=n.n(o),u=n(60),s=n.n(u),c=n(4),f=n(5),l=n(50),p=function(){function e(t){var n=this;i()(this,e),this.jsonID=t,this.compoundIndexes=this.jsonID.compoundIndexes,this.indexes=y(this.jsonID),this.indexes.forEach(function(e){e.filter(function(e){return!n.jsonID.required.includes(e)}).filter(function(e){return!e.includes(".")}).forEach(function(e){return n.jsonID.required.push(e)})}),this.primaryPath=v(this.jsonID),this.primaryPath&&this.jsonID.required.push(this.primaryPath),this.finalFields=m(this.jsonID),this.jsonID.required=this.jsonID.required.concat(this.finalFields).filter(function(e,t,n){return n.indexOf(e)===t}),this.jsonID.properties[this.primaryPath]||(this.jsonID.properties[this.primaryPath]={type:"string",minLength:1})}return e.prototype.getSchemaByObjectPath=function(e){return e=e.replace(/\./g,".properties."),e=c.p(e="properties."+e),s.a.get(this.jsonID,e)},e.prototype.validate=function(){throw f.a.pluginMissing("validate")},e.prototype.fillObjectWithDefaults=function(e){return e=c.b(e),Object.entries(this.defaultValues).filter(function(t){return!e.hasOwnProperty(t[0])}).forEach(function(t){e[t[0]]=t[1]}),e},e.prototype.swapIdToPrimary=function(e){return"_id"===this.primaryPath||e[this.primaryPath]?e:(e[this.primaryPath]=e._id,delete e._id,e)},e.prototype.swapPrimaryToId=function(e){var t=this;if("_id"===this.primaryPath)return e;var n={};return Object.entries(e).forEach(function(e){n[e[0]===t.primaryPath?"_id":e[0]]=e[1]}),n},e.prototype.doKeyCompression=function(){return!this.jsonID.disableKeyCompression},a()(e,[{key:"version",get:function(){return this.jsonID.version}},{key:"previousVersions",get:function(){var e=0;return new Array(this.version).fill(0).map(function(){return e++})}},{key:"crypt",get:function(){return this._crypt||(this._crypt=h(this.jsonID)),this._crypt}},{key:"normalized",get:function(){return this._normalized||(this._normalized=b(this.jsonID)),this._normalized}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var e=this;return this._defaultValues||(this._defaultValues={},Object.entries(this.normalized.properties).filter(function(e){return e[1].hasOwnProperty("default")}).forEach(function(t){return e._defaultValues[t[0]]=t[1].default})),this._defaultValues}},{key:"encryptedPaths",get:function(){return this._encryptedPaths||(this._encryptedPaths=d(this.jsonID)),this._encryptedPaths}},{key:"hash",get:function(){return this._hash||(this._hash=c.e(this.normalized)),this._hash}}]),e}();function d(e){var t={};return function e(n,r){if("object"==typeof n)if(n.encrypted)t[r.substring(1)]=n;else for(var i in n){var o=r;"properties"!==i&&(o=o+"."+i),e(n[i],o)}}(e.properties,""),t}function h(e){var t=d(e);return Object.keys(t).length>0}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];return Object.entries(e).forEach(function(e){var r=e[0],i=e[1],o="properties"===r?t:c.p(t+"."+r);if(i.index&&n.push([o]),"object"==typeof i&&!Array.isArray(i)){var a=y(i,o);n=n.concat(a)}}),""===t&&(n=n.concat(e.compoundIndexes||[])),n=n.filter(function(e,t,n){return n.indexOf(e)===t})}function v(e){return Object.keys(e.properties).filter(function(t){return e.properties[t].primary}).shift()||"_id"}function m(e){return Object.keys(e.properties).filter(function(t){return e.properties[t].final})}function b(e){return c.n(c.b(e))}t.a={RxSchema:p,getEncryptedPaths:d,hasCrypt:h,getIndexes:y,getPrimary:v,getFinalFields:m,normalize:b,create:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&Object(l.d)("preCreateRxSchema",e);var t,n=new p(((t=c.b(t=e)).additionalProperties=!1,t.hasOwnProperty("disableKeyCompression")||(t.disableKeyCompression=!1),t.compoundIndexes=t.compoundIndexes||[],t.required=t.required||[],t.properties._rev={type:"string",minLength:1},t.properties._attachments={type:"object"},t.version=t.version||0,t));return Object(l.d)("createRxSchema",n),n},isInstanceOf:function(e){return e instanceof p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){var n="string"==typeof e?new r.Source(e):e;if(!(n instanceof r.Source))throw new TypeError("Must provide Source. Received: "+String(n));return function(e){var t=e.token;Y(e,o.TokenKind.SOF);var n=[];do{n.push(c(e))}while(!J(e,o.TokenKind.EOF));return{kind:a.Kind.DOCUMENT,definitions:n,loc:K(e,t)}}((0,o.createLexer)(n,t||{}))},t.parseValue=function(e,t){var n="string"==typeof e?new r.Source(e):e,i=(0,o.createLexer)(n,t||{});Y(i,o.TokenKind.SOF);var a=E(i,!1);return Y(i,o.TokenKind.EOF),a},t.parseType=function(e,t){var n="string"==typeof e?new r.Source(e):e,i=(0,o.createLexer)(n,t||{});Y(i,o.TokenKind.SOF);var a=N(i);return Y(i,o.TokenKind.EOF),a},t.parseConstValue=T,t.parseTypeReference=N,t.parseNamedType=I;var r=n(166),i=n(0),o=n(114),a=n(3),u=n(52);function s(e){var t=Y(e,o.TokenKind.NAME);return{kind:a.Kind.NAME,value:t.value,loc:K(e,t)}}function c(e){if(z(e,o.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return f(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return A(e)}else{if(z(e,o.TokenKind.BRACE_L))return f(e);if(L(e))return A(e)}throw H(e)}function f(e){if(z(e,o.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return l(e);case"fragment":return function(e){var t=e.token;return W(e,"fragment"),e.options.experimentalFragmentVariables?{kind:a.Kind.FRAGMENT_DEFINITION,name:w(e),variableDefinitions:d(e),typeCondition:(W(e,"on"),I(e)),directives:x(e,!1),selectionSet:v(e),loc:K(e,t)}:{kind:a.Kind.FRAGMENT_DEFINITION,name:w(e),typeCondition:(W(e,"on"),I(e)),directives:x(e,!1),selectionSet:v(e),loc:K(e,t)}}(e)}else if(z(e,o.TokenKind.BRACE_L))return l(e);throw H(e)}function l(e){var t=e.token;if(z(e,o.TokenKind.BRACE_L))return{kind:a.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:v(e),loc:K(e,t)};var n=p(e),r=void 0;return z(e,o.TokenKind.NAME)&&(r=s(e)),{kind:a.Kind.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:d(e),directives:x(e,!1),selectionSet:v(e),loc:K(e,t)}}function p(e){var t=Y(e,o.TokenKind.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw H(e,t)}function d(e){return z(e,o.TokenKind.PAREN_L)?X(e,o.TokenKind.PAREN_L,h,o.TokenKind.PAREN_R):[]}function h(e){var t=e.token;return{kind:a.Kind.VARIABLE_DEFINITION,variable:y(e),type:(Y(e,o.TokenKind.COLON),N(e)),defaultValue:J(e,o.TokenKind.EQUALS)?E(e,!0):void 0,loc:K(e,t)}}function y(e){var t=e.token;return Y(e,o.TokenKind.DOLLAR),{kind:a.Kind.VARIABLE,name:s(e),loc:K(e,t)}}function v(e){var t=e.token;return{kind:a.Kind.SELECTION_SET,selections:X(e,o.TokenKind.BRACE_L,m,o.TokenKind.BRACE_R),loc:K(e,t)}}function m(e){return z(e,o.TokenKind.SPREAD)?function(e){var t=e.token;if(Y(e,o.TokenKind.SPREAD),z(e,o.TokenKind.NAME)&&"on"!==e.token.value)return{kind:a.Kind.FRAGMENT_SPREAD,name:w(e),directives:x(e,!1),loc:K(e,t)};var n=void 0;return"on"===e.token.value&&(e.advance(),n=I(e)),{kind:a.Kind.INLINE_FRAGMENT,typeCondition:n,directives:x(e,!1),selectionSet:v(e),loc:K(e,t)}}(e):function(e){var t=e.token,n=s(e),r=void 0,i=void 0;return J(e,o.TokenKind.COLON)?(r=n,i=s(e)):i=n,{kind:a.Kind.FIELD,alias:r,name:i,arguments:b(e,!1),directives:x(e,!1),selectionSet:z(e,o.TokenKind.BRACE_L)?v(e):void 0,loc:K(e,t)}}(e)}function b(e,t){var n=t?_:g;return z(e,o.TokenKind.PAREN_L)?X(e,o.TokenKind.PAREN_L,n,o.TokenKind.PAREN_R):[]}function g(e){var t=e.token;return{kind:a.Kind.ARGUMENT,name:s(e),value:(Y(e,o.TokenKind.COLON),E(e,!1)),loc:K(e,t)}}function _(e){var t=e.token;return{kind:a.Kind.ARGUMENT,name:s(e),value:(Y(e,o.TokenKind.COLON),T(e)),loc:K(e,t)}}function w(e){if("on"===e.token.value)throw H(e);return s(e)}function E(e,t){var n=e.token;switch(n.kind){case o.TokenKind.BRACKET_L:return function(e,t){var n=e.token;return{kind:a.Kind.LIST,values:function(e,t,n,r){Y(e,o.TokenKind.BRACKET_L);for(var i=[];!J(e,r);)i.push(n(e));return i}(e,0,t?T:S,o.TokenKind.BRACKET_R),loc:K(e,n)}}(e,t);case o.TokenKind.BRACE_L:return function(e,t){var n=e.token;Y(e,o.TokenKind.BRACE_L);for(var r=[];!J(e,o.TokenKind.BRACE_R);)r.push(k(e,t));return{kind:a.Kind.OBJECT,fields:r,loc:K(e,n)}}(e,t);case o.TokenKind.INT:return e.advance(),{kind:a.Kind.INT,value:n.value,loc:K(e,n)};case o.TokenKind.FLOAT:return e.advance(),{kind:a.Kind.FLOAT,value:n.value,loc:K(e,n)};case o.TokenKind.STRING:case o.TokenKind.BLOCK_STRING:return O(e);case o.TokenKind.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:a.Kind.BOOLEAN,value:"true"===n.value,loc:K(e,n)}):"null"===n.value?(e.advance(),{kind:a.Kind.NULL,loc:K(e,n)}):(e.advance(),{kind:a.Kind.ENUM,value:n.value,loc:K(e,n)});case o.TokenKind.DOLLAR:if(!t)return y(e)}throw H(e)}function O(e){var t=e.token;return e.advance(),{kind:a.Kind.STRING,value:t.value,block:t.kind===o.TokenKind.BLOCK_STRING,loc:K(e,t)}}function T(e){return E(e,!0)}function S(e){return E(e,!1)}function k(e,t){var n=e.token;return{kind:a.Kind.OBJECT_FIELD,name:s(e),value:(Y(e,o.TokenKind.COLON),E(e,t)),loc:K(e,n)}}function x(e,t){for(var n=[];z(e,o.TokenKind.AT);)n.push(j(e,t));return n}function j(e,t){var n=e.token;return Y(e,o.TokenKind.AT),{kind:a.Kind.DIRECTIVE,name:s(e),arguments:b(e,t),loc:K(e,n)}}function N(e){var t=e.token,n=void 0;return J(e,o.TokenKind.BRACKET_L)?(n=N(e),Y(e,o.TokenKind.BRACKET_R),n={kind:a.Kind.LIST_TYPE,type:n,loc:K(e,t)}):n=I(e),J(e,o.TokenKind.BANG)?{kind:a.Kind.NON_NULL_TYPE,type:n,loc:K(e,t)}:n}function I(e){var t=e.token;return{kind:a.Kind.NAMED_TYPE,name:s(e),loc:K(e,t)}}function A(e){var t=L(e)?e.lookahead():e.token;if(t.kind===o.TokenKind.NAME)switch(t.value){case"schema":return function(e){var t=e.token;W(e,"schema");var n=x(e,!0),r=X(e,o.TokenKind.BRACE_L,P,o.TokenKind.BRACE_R);return{kind:a.Kind.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:K(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=D(e);W(e,"scalar");var r=s(e),i=x(e,!0);return{kind:a.Kind.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i,loc:K(e,t)}}(e);case"type":return function(e){var t=e.token,n=D(e);W(e,"type");var r=s(e),i=R(e),o=x(e,!0),u=C(e);return{kind:a.Kind.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:u,loc:K(e,t)}}(e);case"interface":return function(e){var t=e.token,n=D(e);W(e,"interface");var r=s(e),i=x(e,!0),o=C(e);return{kind:a.Kind.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:K(e,t)}}(e);case"union":return function(e){var t=e.token,n=D(e);W(e,"union");var r=s(e),i=x(e,!0),o=U(e);return{kind:a.Kind.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o,loc:K(e,t)}}(e);case"enum":return function(e){var t=e.token,n=D(e);W(e,"enum");var r=s(e),i=x(e,!0),o=B(e);return{kind:a.Kind.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o,loc:K(e,t)}}(e);case"input":return function(e){var t=e.token,n=D(e);W(e,"input");var r=s(e),i=x(e,!0),o=Q(e);return{kind:a.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:K(e,t)}}(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===o.TokenKind.NAME)switch(t.value){case"scalar":return function(e){var t=e.token;W(e,"extend"),W(e,"scalar");var n=s(e),r=x(e,!0);if(0===r.length)throw H(e);return{kind:a.Kind.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:K(e,t)}}(e);case"type":return function(e){var t=e.token;W(e,"extend"),W(e,"type");var n=s(e),r=R(e),i=x(e,!0),o=C(e);if(0===r.length&&0===i.length&&0===o.length)throw H(e);return{kind:a.Kind.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o,loc:K(e,t)}}(e);case"interface":return function(e){var t=e.token;W(e,"extend"),W(e,"interface");var n=s(e),r=x(e,!0),i=C(e);if(0===r.length&&0===i.length)throw H(e);return{kind:a.Kind.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:K(e,t)}}(e);case"union":return function(e){var t=e.token;W(e,"extend"),W(e,"union");var n=s(e),r=x(e,!0),i=U(e);if(0===r.length&&0===i.length)throw H(e);return{kind:a.Kind.UNION_TYPE_EXTENSION,name:n,directives:r,types:i,loc:K(e,t)}}(e);case"enum":return function(e){var t=e.token;W(e,"extend"),W(e,"enum");var n=s(e),r=x(e,!0),i=B(e);if(0===r.length&&0===i.length)throw H(e);return{kind:a.Kind.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i,loc:K(e,t)}}(e);case"input":return function(e){var t=e.token;W(e,"extend"),W(e,"input");var n=s(e),r=x(e,!0),i=Q(e);if(0===r.length&&0===i.length)throw H(e);return{kind:a.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:K(e,t)}}(e)}throw H(e,t)}(e);case"directive":return function(e){var t=e.token,n=D(e);W(e,"directive"),Y(e,o.TokenKind.AT);var r=s(e),i=F(e);W(e,"on");var u=function(e){J(e,o.TokenKind.PIPE);var t=[];do{t.push(V(e))}while(J(e,o.TokenKind.PIPE));return t}(e);return{kind:a.Kind.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,locations:u,loc:K(e,t)}}(e)}throw H(e,t)}function L(e){return z(e,o.TokenKind.STRING)||z(e,o.TokenKind.BLOCK_STRING)}function D(e){if(L(e))return O(e)}function P(e){var t=e.token,n=p(e);Y(e,o.TokenKind.COLON);var r=I(e);return{kind:a.Kind.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:K(e,t)}}function R(e){var t=[];if("implements"===e.token.value){e.advance(),J(e,o.TokenKind.AMP);do{t.push(I(e))}while(J(e,o.TokenKind.AMP)||e.options.allowLegacySDLImplementsInterfaces&&z(e,o.TokenKind.NAME))}return t}function C(e){return e.options.allowLegacySDLEmptyFields&&z(e,o.TokenKind.BRACE_L)&&e.lookahead().kind===o.TokenKind.BRACE_R?(e.advance(),e.advance(),[]):z(e,o.TokenKind.BRACE_L)?X(e,o.TokenKind.BRACE_L,M,o.TokenKind.BRACE_R):[]}function M(e){var t=e.token,n=D(e),r=s(e),i=F(e);Y(e,o.TokenKind.COLON);var u=N(e),c=x(e,!0);return{kind:a.Kind.FIELD_DEFINITION,description:n,name:r,arguments:i,type:u,directives:c,loc:K(e,t)}}function F(e){return z(e,o.TokenKind.PAREN_L)?X(e,o.TokenKind.PAREN_L,q,o.TokenKind.PAREN_R):[]}function q(e){var t=e.token,n=D(e),r=s(e);Y(e,o.TokenKind.COLON);var i=N(e),u=void 0;J(e,o.TokenKind.EQUALS)&&(u=T(e));var c=x(e,!0);return{kind:a.Kind.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:u,directives:c,loc:K(e,t)}}function U(e){var t=[];if(J(e,o.TokenKind.EQUALS)){J(e,o.TokenKind.PIPE);do{t.push(I(e))}while(J(e,o.TokenKind.PIPE))}return t}function B(e){return z(e,o.TokenKind.BRACE_L)?X(e,o.TokenKind.BRACE_L,G,o.TokenKind.BRACE_R):[]}function G(e){var t=e.token,n=D(e),r=s(e),i=x(e,!0);return{kind:a.Kind.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i,loc:K(e,t)}}function Q(e){return z(e,o.TokenKind.BRACE_L)?X(e,o.TokenKind.BRACE_L,q,o.TokenKind.BRACE_R):[]}function V(e){var t=e.token,n=s(e);if(u.DirectiveLocation.hasOwnProperty(n.value))return n;throw H(e,t)}function K(e,t){if(!e.options.noLocation)return new $(t,e.lastToken,e.source)}function $(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function z(e,t){return e.token.kind===t}function J(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function Y(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw(0,i.syntaxError)(e.source,n.start,"Expected "+t+", found "+(0,o.getTokenDesc)(n))}function W(e,t){var n=e.token;if(n.kind===o.TokenKind.NAME&&n.value===t)return e.advance(),n;throw(0,i.syntaxError)(e.source,n.start,'Expected "'+t+'", found '+(0,o.getTokenDesc)(n))}function H(e,t){var n=t||e.token;return(0,i.syntaxError)(e.source,n.start,"Unexpected "+(0,o.getTokenDesc)(n))}function X(e,t,n,r){Y(e,t);for(var i=[n(e)];!J(e,r);)i.push(n(e));return i}$.prototype.toJSON=$.prototype.inspect=function(){return{start:this.start,end:this.end}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeInfo=void 0;var r,i=n(3),o=n(1),a=n(25),u=n(28),s=(r=n(53))&&r.__esModule?r:{default:r};function c(e,t,n){var r=n.name.value;return r===a.SchemaMetaFieldDef.name&&e.getQueryType()===t?a.SchemaMetaFieldDef:r===a.TypeMetaFieldDef.name&&e.getQueryType()===t?a.TypeMetaFieldDef:r===a.TypeNameMetaFieldDef.name&&(0,o.isCompositeType)(t)?a.TypeNameMetaFieldDef:(0,o.isObjectType)(t)||(0,o.isInterfaceType)(t)?t.getFields()[r]:void 0}t.TypeInfo=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=n||c,r&&((0,o.isInputType)(r)&&this._inputTypeStack.push(r),(0,o.isCompositeType)(r)&&this._parentTypeStack.push(r),(0,o.isOutputType)(r)&&this._typeStack.push(r))}return e.prototype.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},e.prototype.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},e.prototype.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},e.prototype.getParentInputType=function(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]},e.prototype.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},e.prototype.getDirective=function(){return this._directive},e.prototype.getArgument=function(){return this._argument},e.prototype.getEnumValue=function(){return this._enumValue},e.prototype.enter=function(e){var t=this._schema;switch(e.kind){case i.Kind.SELECTION_SET:var n=(0,o.getNamedType)(this.getType());this._parentTypeStack.push((0,o.isCompositeType)(n)?n:void 0);break;case i.Kind.FIELD:var r=this.getParentType(),a=void 0,c=void 0;r&&(a=this._getFieldDef(t,r,e))&&(c=a.type),this._fieldDefStack.push(a),this._typeStack.push((0,o.isOutputType)(c)?c:void 0);break;case i.Kind.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case i.Kind.OPERATION_DEFINITION:var f=void 0;"query"===e.operation?f=t.getQueryType():"mutation"===e.operation?f=t.getMutationType():"subscription"===e.operation&&(f=t.getSubscriptionType()),this._typeStack.push((0,o.isObjectType)(f)?f:void 0);break;case i.Kind.INLINE_FRAGMENT:case i.Kind.FRAGMENT_DEFINITION:var l=e.typeCondition,p=l?(0,u.typeFromAST)(t,l):(0,o.getNamedType)(this.getType());this._typeStack.push((0,o.isOutputType)(p)?p:void 0);break;case i.Kind.VARIABLE_DEFINITION:var d=(0,u.typeFromAST)(t,e.type);this._inputTypeStack.push((0,o.isInputType)(d)?d:void 0);break;case i.Kind.ARGUMENT:var h=void 0,y=void 0,v=this.getDirective()||this.getFieldDef();v&&(h=(0,s.default)(v.args,function(t){return t.name===e.name.value}))&&(y=h.type),this._argument=h,this._inputTypeStack.push((0,o.isInputType)(y)?y:void 0);break;case i.Kind.LIST:var m=(0,o.getNullableType)(this.getInputType()),b=(0,o.isListType)(m)?m.ofType:m;this._inputTypeStack.push((0,o.isInputType)(b)?b:void 0);break;case i.Kind.OBJECT_FIELD:var g=(0,o.getNamedType)(this.getInputType()),_=void 0;if((0,o.isInputObjectType)(g)){var w=g.getFields()[e.name.value];w&&(_=w.type)}this._inputTypeStack.push((0,o.isInputType)(_)?_:void 0);break;case i.Kind.ENUM:var E=(0,o.getNamedType)(this.getInputType()),O=void 0;(0,o.isEnumType)(E)&&(O=E.getValue(e.value)),this._enumValue=O}},e.prototype.leave=function(e){switch(e.kind){case i.Kind.SELECTION_SET:this._parentTypeStack.pop();break;case i.Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case i.Kind.DIRECTIVE:this._directive=null;break;case i.Kind.OPERATION_DEFINITION:case i.Kind.INLINE_FRAGMENT:case i.Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case i.Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case i.Kind.ARGUMENT:this._argument=null,this._inputTypeStack.pop();break;case i.Kind.LIST:case i.Kind.OBJECT_FIELD:this._inputTypeStack.pop();break;case i.Kind.ENUM:this._enumValue=null}},e}()},function(e,t,n){"use strict";function r(e,t){if(e===t)return 0;var n=void 0,r=void 0,i=[],o=e.toLowerCase(),a=t.toLowerCase(),u=o.length,s=a.length;if(o===a)return 1;for(n=0;n<=u;n++)i[n]=[n];for(r=1;r<=s;r++)i[0][r]=r;for(n=1;n<=u;n++)for(r=1;r<=s;r++){var c=o[n-1]===a[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+c),n>1&&r>1&&o[n-1]===a[r-2]&&o[n-2]===a[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+c))}return i[u][s]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=Object.create(null),i=t.length,o=e.length/2,a=0;a<i;a++){var u=r(e,t[a]);u<=Math.max(o,t[a].length/2,1)&&(n[t[a]]=u)}return Object.keys(n).sort(function(e,t){return n[e]-n[t]})}},function(e,t,n){var r=n(89);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l});var r=-324,i=3,o="";function a(e,t){if(e===t)return 0;e=u(e),t=u(t);var n=p(e),r=p(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=a(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var u=a(n[o],r[o]);if(0!==u)return u;if(0!==(u=a(e[n[o]],t[r[o]])))return u}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function u(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=u(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(t.hasOwnProperty(i)){var o=t[i];"undefined"!=typeof o&&(e[i]=u(o))}}}return e}function s(e){return p(e=u(e))+o+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),a=parseInt(n[1],10),u=e<0,s=u?"0":"2",c=function(e,t,n){for(var r="",o=i-e.length;r.length<o;)r+="0";return r}(t=((u?-a:a)-r).toString())+t;s+=o+c;var f=Math.abs(parseFloat(n[0]));u&&(f=10-f);var l=f.toFixed(20);return l=l.replace(/\.?0+$/,""),s+(o+l)}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),a=-1,u=n.length,c="";if(t)for(;++a<u;)c+=s(n[a]);else for(;++a<u;){var f=n[a];c+=s(f)+s(e[f])}return c}return""}(e)+"\0"}function c(e,t){var n,o=t;if("1"===e[t])n=0,t++;else{var a="0"===e[t],u="",s=e.substring(++t,t+i),c=parseInt(s,10)+r;for(a&&(c=-c),t+=i;;){var f=e[t];if("\0"===f)break;u+=f,t++}n=1===(u=u.split(".")).length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),a&&(n-=10),0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:t-o}}function f(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(n):o===e.length-2?i[e.pop()]=n:e.push(n)}}function l(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var o=c(e,r);t.push(o.num),r+=o.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();f(t,n)}}}function p(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f}),n.d(t,"b",function(){return l});var r=n(57),i=n(224),o=n.n(i),a=e.setImmediate||e.setTimeout,u=32768;function s(e,t,n,i,o){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),Object(r.h)(t,function(t){e.append(t),o()})}function c(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function f(e,t){var n="string"==typeof e,i=n?e.length:e.size,f=Math.min(u,i),l=Math.ceil(i/f),p=0,d=n?new o.a:new o.a.ArrayBuffer,h=n?c:s;function y(){a(m)}function v(){var e=function(e){return Object(r.g)(e)}(d.end(!0));t(e),d.destroy()}function m(){var t=p*f;h(d,e,t,t+f,++p<l?y:v)}m()}function l(e){return o.a.hash(e)}}).call(t,n(7))},function(e,t,n){"use strict";var r=n(5);t.a={validatePassword:function(){throw r.a.pluginMissing("encryption")},createKeyCompressor:function(){throw r.a.pluginMissing("keycompression")},createLeaderElector:function(){throw r.a.pluginMissing("leaderelection")},checkAdapter:function(){throw r.a.pluginMissing("adapter-check")},tunnelErrorMessage:function(e){return"RxDB Error-Code "+e+".\n        - To find out what this means, use the error-messages-plugin https://pubkey.github.io/rxdb/custom-build.html#error-messages\n        - Or search for this code https://github.com/pubkey/rxdb/search?l=JavaScript&q="+e+"%3A\n        "}}},function(e,t,n){"use strict";var r=n(415),i=n(231),o=n(139),a=n(140),u=n(96),s=n(416);function c(e){return e.reduce(function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)},[])}t.Subscription=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,f=this._parents,l=this._unsubscribe,p=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,h=f?f.length:0;n;)n.remove(this),n=++d<h&&f[d]||null;if(o.isFunction(l)&&a.tryCatch(l).call(this)===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof s.UnsubscriptionError?c(u.errorObject.e.errors):[u.errorObject.e])),r.isArray(p))for(d=-1,h=p.length;++d<h;){var y=p[d];if(i.isObject(y)&&a.tryCatch(y.unsubscribe).call(y)===u.errorObject){t=!0,e=e||[];var v=u.errorObject.e;v instanceof s.UnsubscriptionError?e=e.concat(c(v.errors)):e.push(v)}}if(t)throw new s.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}()},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(2),s=n.n(u),c=n(19),f=n.n(c),l=n(94),p=n.n(l),d=n(60),h=n.n(d),y=n(73),v=n.n(y),m=n(4),b=n(45),g=n(5),_=n(50),w=n(97),E=(n.n(w),n(423)),O=(n.n(E),n(98)),T=(n.n(O),function(){function e(t,n){s()(this,e),this.collection=t,this._isTemporary=!1,this._dataSync$=new w.BehaviorSubject(m.b(n)),this._data=m.b(n),this._synced$=new w.BehaviorSubject(!0),this._deleted$=new w.BehaviorSubject(!1)}return e.prototype.prepare=function(){this._defineGetterSetter(this,"")},e.prototype.resync=function(){var e=this._dataSync$.getValue();this._synced$.getValue()&&v()(e,this._data)||(this._data=m.b(this._dataSync$.getValue()),this._synced$.next(!0))},e.prototype._handleChangeEvent=function(e){if(e.data.doc===this.primary)switch(e.data.op){case"INSERT":break;case"UPDATE":var t=m.b(e.data.v),n=this._dataSync$.getValue(),r=this._data;v()(n,r)?(this._data=t,!0!==this._synced$.getValue()&&this._synced$.next(!0)):(!1!==this._synced$.getValue()&&this._synced$.next(!1),this._data._rev=t._rev),this._dataSync$.next(m.b(t));break;case"REMOVE":this.collection._docCache.delete(this.primary),this._deleted$.next(!0)}},e.prototype.$emit=function(e){return this.collection.$emit(e)},e.prototype.get$=function(e){if(e.includes(".item."))throw g.a.newRxError("DOC1",{path:e});if(e===this.primaryPath)throw g.a.newRxError("DOC2");if(this.collection.schema.finalFields.includes(e))throw g.a.newRxError("DOC3",{path:e});if(!this.collection.schema.getSchemaByObjectPath(e))throw g.a.newRxError("DOC4",{path:e});return this._dataSync$.pipe(Object(O.map)(function(t){return h.a.get(t,e)}),Object(E.distinctUntilChanged)()).asObservable()},e.prototype.populate=function(e){var t=this.collection.schema.getSchemaByObjectPath(e),n=this.get(e);if(!t)throw g.a.newRxError("DOC5",{path:e});if(!t.ref)throw g.a.newRxError("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw g.a.newRxError("DOC7",{ref:t.ref,path:e,schemaObj:t});return"array"===t.type?Promise.all(n.map(function(e){return r.findOne(e).exec()})):r.findOne(n).exec()},e.prototype.get=function(e){if(this._data){var t=h.a.get(this._data,e);return"object"!=typeof(t=m.b(t))||Array.isArray(t)?t:(this._defineGetterSetter(t,e),t)}},e.prototype._defineGetterSetter=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null!==e){var r=this.collection.schema.getSchemaByObjectPath(n);r.properties&&(r=r.properties),Object.keys(r).forEach(function(r){var i=m.p(n+"."+r);e.__defineGetter__(r,function(){return t.get(i)}),Object.defineProperty(e,r+"$",{get:function(){return t.get$(i)},enumerable:!1,configurable:!1}),Object.defineProperty(e,r+"_",{get:function(){return t.populate(i)},enumerable:!1,configurable:!1}),e.__defineSetter__(r,function(e){return t.set(i,e)})})}},e.prototype.toJSON=function(){return m.b(this._data)},e.prototype.set=function(e,t){if("string"!=typeof e)throw g.a.newRxTypeError("DOC15",{objPath:e,value:t});if(!this._isTemporary&&e===this.primaryPath)throw g.a.newRxError("DOC8",{objPath:e,value:t,primaryPath:this.primaryPath});if(!this._isTemporary&&this.collection.schema.finalFields.includes(e))throw g.a.newRxError("DOC9",{path:e,value:t});if(!Object.is(this.get(e),t)){var n=e.split(".");n.pop();var r=n.join(".");if("undefined"==typeof h.a.get(this._data,r))throw g.a.newRxError("DOC10",{childpath:e,rootPath:r});return this._isTemporary||this.collection.schema.validate(t,e),h.a.set(this._data,e,t),this}},e.prototype.update=(d=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw g.a.pluginMissing("update");case 1:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)}),e.prototype.putAttachment=(l=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw g.a.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)}),e.prototype.getAttachment=(c=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw g.a.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)}),e.prototype.allAttachments=(u=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw g.a.pluginMissing("attachments");case 1:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)}),e.prototype.atomicUpdate=(o=a()(i.a.mark(function e(t){var n,r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.atomicQueue,e.next=3,n.requestIdlePromise();case 3:return e.next=5,n.wrapCall(function(){return Promise.resolve(t(r)).then(function(){return r.save()})});case 5:return e.abrupt("return",this);case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),e.prototype.save=(r=a()(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isTemporary){e.next=2;break}return e.abrupt("return",this._saveTemporary());case 2:if(!this._deleted$.getValue()){e.next=4;break}throw g.a.newRxError("DOC11",{id:this.primary,document:this});case 4:if(!v()(this._data,this._dataSync$.getValue())){e.next=7;break}return this._synced$.next(!0),e.abrupt("return",!1);case 7:return e.next=9,this.collection._runHooks("pre","save",this);case 9:return this.collection.schema.validate(this._data),e.next=12,this.collection._pouchPut(m.b(this._data));case 12:if((t=e.sent).ok){e.next=15;break}throw g.a.newRxError("DOC12",{data:t});case 15:return(n=m.b(this._data))._rev=t.rev,this._data=n,e.next=20,this.collection._runHooks("post","save",this);case 20:return this._synced$.next(!0),this._dataSync$.next(m.b(n)),r=b.a.create("UPDATE",this.collection.database,this.collection,this,n),this.$emit(r),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),e.prototype._saveTemporary=(n=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collection.insert(this);case 2:return this._isTemporary=!1,this.collection._docCache.set(this.primary,this),this._synced$.next(!0),this._dataSync$.next(m.b(this._data)),e.abrupt("return",!0);case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),e.prototype.remove=(t=a()(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.deleted){e.next=2;break}throw g.a.newRxError("DOC13",{document:this,id:this.primary});case 2:return e.next=4,m.j(0);case 4:return e.next=6,this.collection._runHooks("pre","remove",this);case 6:return e.next=8,this.collection.database.lockedRun(function(){return t.collection.pouch.remove(t.primary,t._data._rev)});case 8:return this.$emit(b.a.create("REMOVE",this.collection.database,this.collection,this,this._data)),e.next=11,this.collection._runHooks("post","remove",this);case 11:return e.next=13,m.j(0);case 13:return e.abrupt("return");case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),e.prototype.destroy=function(){throw g.a.newRxError("DOC14")},f()(e,[{key:"primaryPath",get:function(){return this.collection.schema.primaryPath}},{key:"primary",get:function(){return this._data[this.primaryPath]}},{key:"revision",get:function(){return this._data._rev}},{key:"deleted$",get:function(){return this._deleted$.asObservable()}},{key:"deleted",get:function(){return this._deleted$.getValue()}},{key:"atomicQueue",get:function(){return this._atomicQueue||(this._atomicQueue=new p.a),this._atomicQueue}},{key:"synced$",get:function(){return this._synced$.pipe(Object(E.distinctUntilChanged)()).asObservable()}},{key:"synced",get:function(){return this._synced$.getValue()}},{key:"$",get:function(){return this._dataSync$.asObservable()}},{key:"allAttachments$",get:function(){throw g.a.pluginMissing("attachments")}}]),e;var t,n,r,o,u,c,l,d}());function S(e,t){if(t[e.schema.primaryPath]&&t[e.schema.primaryPath].startsWith("_design"))return null;var n=new T(e,t);return n.prepare(),Object(_.d)("createRxDocument",n),n}var k=void 0;t.a={create:S,createAr:function(e,t){return t.map(function(t){return S(e,t)}).filter(function(e){return null!==e})},properties:function(){if(!k){var e=new T,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));k=[].concat(t,n,["deleted","synced"])}return k},RxDocument:T,isInstanceOf:function(e){return e instanceof T}}},function(e,t,n){var r=Array.prototype.slice,i=n(417),o=n(418),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,f;if(u(e)||u(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),a(e,t,n));if(s(e)){if(!s(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var l=i(e),p=i(t)}catch(e){return!1}if(l.length!=p.length)return!1;for(l.sort(),p.sort(),c=l.length-1;c>=0;c--)if(l[c]!=p[c])return!1;for(c=l.length-1;c>=0;c--)if(!a(e[f=l[c]],t[f],n))return!1;return typeof e==typeof t}(e,t,n))};function u(e){return null===e||void 0===e}function s(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(32),o=n(31),a=n(71),u=n(234),s=n(422),c=n(141),f=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(o.Subscriber);t.SubjectSubscriber=f;var l=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[c.rxSubscriber]=function(){return new f(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new s.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(i.Observable);t.Subject=l;var p=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(l);t.AnonymousSubject=p},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){(t=e.exports=n(253)).Stream=t,t.Readable=t,t.Writable=n(144),t.Duplex=n(51),t.Transform=n(257),t.PassThrough=n(504)},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e},t.isBuffer=e.isBuffer}).call(t,n(20).Buffer)},function(e,t,n){"use strict";e.exports="function"==typeof Symbol&&"symbol"==typeof Symbol("")},function(e,t,n){"use strict";for(var r=[{code:9,description:"Tab",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\t"},{code:10,description:"Line Feed",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\n"},{code:11,description:"Vertical Tab",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\v"},{code:12,description:"Form Feed",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\f"},{code:13,description:"Carriage Return",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\r"},{code:32,description:"Space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:" "},{code:160,description:"No-break space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\xa0"},{code:5760,description:"Ogham space mark",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u1680"},{code:6158,description:"Mongolian vowel separator",es5:!0,es2015:!0,es2016:!0,es2017:!1,es2018:!1,string:"\u180e"},{code:8192,description:"En quad",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2000"},{code:8193,description:"Em quad",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2001"},{code:8194,description:"En space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2002"},{code:8195,description:"Em space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2003"},{code:8196,description:"Three-per-em space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2004"},{code:8197,description:"Four-per-em space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2005"},{code:8198,description:"Six-per-em space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2006"},{code:8199,description:"Figure space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2007"},{code:8200,description:"Punctuation space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2008"},{code:8201,description:"Thin space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2009"},{code:8202,description:"Hair space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u200a"},{code:8232,description:"Line separator",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2028"},{code:8233,description:"Paragraph separator",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2029"},{code:8239,description:"Narrow no-break space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u202f"},{code:8287,description:"Medium mathematical space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u205f"},{code:12288,description:"Ideographic space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u3000"},{code:65279,description:"Byte Order Mark",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\ufeff"}],i="",o="",a=r.length,u=0;u<a;u+=1)r[u].es2016&&(i+=r[u].string),r[u].es2018&&(o+=r[u].string);e.exports={list:r,string:o,string5:i,string2015:i,string2016:i,string2017:o,string2018:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchema=h,t.assertValidSchema=function(e){var t=h(e);if(0!==t.length)throw new Error(t.map(function(e){return e.message}).join("\n\n"))};var r=n(1),i=n(24),o=n(25),a=n(13),u=d(n(53)),s=d(n(18)),c=d(n(35)),f=n(36),l=n(165),p=n(83);function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if((0,a.isSchema)(e)||(0,s.default)(0,"Expected "+String(e)+" to be a GraphQL schema."),e.__validationErrors)return e.__validationErrors;var t=new y(e);!function(e){var t=e.schema,n=t.getQueryType();n?(0,r.isObjectType)(n)||e.reportError("Query root type must be Object type, it cannot be "+String(n)+".",v(t,n,"query")):e.reportError("Query root type must be provided.",t.astNode);var i=t.getMutationType();i&&!(0,r.isObjectType)(i)&&e.reportError("Mutation root type must be Object type if provided, it cannot be "+String(i)+".",v(t,i,"mutation"));var o=t.getSubscriptionType();o&&!(0,r.isObjectType)(o)&&e.reportError("Subscription root type must be Object type if provided, it cannot be "+String(o)+".",v(t,o,"subscription"))}(t),function(e){e.schema.getDirectives().forEach(function(t){if((0,i.isDirective)(t)){m(e,t);var n=Object.create(null);t.args.forEach(function(i){var o=i.name;m(e,i),n[o]?e.reportError("Argument @"+t.name+"("+o+":) can only be defined once.",x(t,o)):(n[o]=!0,(0,r.isInputType)(i.type)||e.reportError("The type of @"+t.name+"("+o+":) must be Input Type but got: "+String(i.type)+".",function(e,t){var n=x(e,t)[0];return n&&n.type}(t,o)))})}else e.reportError("Expected directive but got: "+String(t)+".",t&&t.astNode)})}(t),function(e){var t=e.schema.getTypeMap();(0,c.default)(t).forEach(function(t){(0,r.isNamedType)(t)?((0,o.isIntrospectionType)(t)||m(e,t),(0,r.isObjectType)(t)?(b(e,t),function(e,t){var n=Object.create(null);t.getInterfaces().forEach(function(i){(0,r.isInterfaceType)(i)?n[i.name]?e.reportError("Type "+t.name+" can only implement "+i.name+" once.",_(t,i)):(n[i.name]=!0,function(e,t,n){var i=t.getFields(),o=n.getFields();Object.keys(o).forEach(function(a){var s=i[a],c=o[a];s?((0,p.isTypeSubTypeOf)(e.schema,s.type,c.type)||e.reportError("Interface field "+n.name+"."+a+" expects type "+String(c.type)+" but "+t.name+"."+a+" is type "+String(s.type)+".",[O(n,a),O(t,a)]),c.args.forEach(function(r){var i=r.name,o=(0,u.default)(s.args,function(e){return e.name===i});o?(0,p.isEqualType)(r.type,o.type)||e.reportError("Interface field argument "+n.name+"."+a+"("+i+":) expects type "+String(r.type)+" but "+t.name+"."+a+"("+i+":) is type "+String(o.type)+".",[k(n,a,i),k(t,a,i)]):e.reportError("Interface field argument "+n.name+"."+a+"("+i+":) expected but "+t.name+"."+a+" does not provide it.",[T(n,a,i),w(t,a)])}),s.args.forEach(function(i){var o=i.name;!(0,u.default)(c.args,function(e){return e.name===o})&&(0,r.isNonNullType)(i.type)&&e.reportError("Object field argument "+t.name+"."+a+"("+o+":) is of required type "+String(i.type)+" but is not also provided by the Interface field "+n.name+"."+a+".",[k(t,a,o),w(n,a)])})):e.reportError("Interface field "+n.name+"."+a+" expected but "+t.name+" does not provide it.",[w(n,a),t.astNode])})}(e,t,i)):e.reportError("Type "+String(t)+" must only implement Interface types, it cannot implement "+String(i)+".",function(e,n){return _(t,n)[0]}(0,i))})}(e,t)):(0,r.isInterfaceType)(t)?b(e,t):(0,r.isUnionType)(t)?function(e,t){var n=t.getTypes();0===n.length&&e.reportError("Union type "+t.name+" must define one or more member types.",t.astNode);var i=Object.create(null);n.forEach(function(n){i[n.name]?e.reportError("Union type "+t.name+" can only include type "+n.name+" once.",j(t,n.name)):(i[n.name]=!0,(0,r.isObjectType)(n)||e.reportError("Union type "+t.name+" can only include Object types, it cannot include "+String(n)+".",j(t,String(n))))})}(e,t):(0,r.isEnumType)(t)?function(e,t){var n=t.getValues();0===n.length&&e.reportError("Enum type "+t.name+" must define one or more values.",t.astNode),n.forEach(function(n){var r=n.name,i=function(e,t){return e.astNode&&e.astNode.values&&e.astNode.values.filter(function(e){return e.name.value===t})}(t,r);i&&i.length>1&&e.reportError("Enum type "+t.name+" can include value "+r+" only once.",i),m(e,n),"true"!==r&&"false"!==r&&"null"!==r||e.reportError("Enum type "+t.name+" cannot include value: "+r+".",n.astNode)})}(e,t):(0,r.isInputObjectType)(t)&&function(e,t){var n=(0,c.default)(t.getFields());0===n.length&&e.reportError("Input Object type "+t.name+" must define one or more fields.",t.astNode),n.forEach(function(n){m(e,n),(0,r.isInputType)(n.type)||e.reportError("The type of "+t.name+"."+n.name+" must be Input Type but got: "+String(n.type)+".",n.astNode&&n.astNode.type)})}(e,t)):e.reportError("Expected GraphQL named type but got: "+String(t)+".",t&&t.astNode)})}(t);var n=t.getErrors();return e.__validationErrors=n,n}var y=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._errors=[],this.schema=t}return e.prototype.reportError=function(e,t){var n=(Array.isArray(t)?t:[t]).filter(Boolean);this.addError(new f.GraphQLError(e,n))},e.prototype.addError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e}();function v(e,t,n){var r=e.astNode,i=r&&r.operationTypes.find(function(e){return e.operation===n});return i?i.type:t&&t.astNode}function m(e,t){if(!e.schema.__allowedLegacyNames||-1===e.schema.__allowedLegacyNames.indexOf(t.name)){var n=(0,l.isValidNameError)(t.name,t.astNode||void 0);n&&e.addError(n)}}function b(e,t){var n=(0,c.default)(t.getFields());0===n.length&&e.reportError("Type "+t.name+" must define one or more fields.",g(t)),n.forEach(function(n){m(e,n);var i=E(t,n.name);if(i.length>1)e.reportError("Field "+t.name+"."+n.name+" can only be defined once.",i);else{(0,r.isOutputType)(n.type)||e.reportError("The type of "+t.name+"."+n.name+" must be Output Type but got: "+String(n.type)+".",O(t,n.name));var o=Object.create(null);n.args.forEach(function(i){var a=i.name;m(e,i),o[a]&&e.reportError("Field argument "+t.name+"."+n.name+"("+a+":) can only be defined once.",S(t,n.name,a)),o[a]=!0,(0,r.isInputType)(i.type)||e.reportError("The type of "+t.name+"."+n.name+"("+a+":) must be Input Type but got: "+String(i.type)+".",k(t,n.name,a))})}})}function g(e){return e.astNode?e.extensionASTNodes?[e.astNode].concat(e.extensionASTNodes):[e.astNode]:e.extensionASTNodes||[]}function _(e,t){for(var n=[],r=function(e){return e.astNode?e.extensionASTNodes?[e.astNode].concat(e.extensionASTNodes):[e.astNode]:e.extensionASTNodes||[]}(e),i=0;i<r.length;i++){var o=r[i];o&&o.interfaces&&o.interfaces.forEach(function(e){e.name.value===t.name&&n.push(e)})}return n}function w(e,t){return E(e,t)[0]}function E(e,t){for(var n=[],r=g(e),i=0;i<r.length;i++){var o=r[i];o&&o.fields&&o.fields.forEach(function(e){e.name.value===t&&n.push(e)})}return n}function O(e,t){var n=w(e,t);return n&&n.type}function T(e,t,n){return S(e,t,n)[0]}function S(e,t,n){var r=[],i=w(e,t);return i&&i.arguments&&i.arguments.forEach(function(e){e.name.value===n&&r.push(e)}),r}function k(e,t,n){var r=T(e,t,n);return r&&r.type}function x(e,t){var n=[],r=e.astNode;return r&&r.arguments&&r.arguments.forEach(function(e){e.name.value===t&&n.push(e)}),n}function j(e,t){return e.astNode&&e.astNode.types&&e.astNode.types.filter(function(e){return e.name.value===t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.reduce(function(e,r){return e[t(r)]=n(r),e},Object.create(null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null===e||void 0===e||e!=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEqualType=function e(t,n){return t===n||((0,r.isNonNullType)(t)&&(0,r.isNonNullType)(n)?e(t.ofType,n.ofType):!(!(0,r.isListType)(t)||!(0,r.isListType)(n))&&e(t.ofType,n.ofType))},t.isTypeSubTypeOf=function e(t,n,i){return n===i||((0,r.isNonNullType)(i)?!!(0,r.isNonNullType)(n)&&e(t,n.ofType,i.ofType):(0,r.isNonNullType)(n)?e(t,n.ofType,i):(0,r.isListType)(i)?!!(0,r.isListType)(n)&&e(t,n.ofType,i.ofType):!(0,r.isListType)(n)&&!!((0,r.isAbstractType)(i)&&(0,r.isObjectType)(n)&&t.isPossibleType(i,n)))},t.doTypesOverlap=function(e,t,n){return t===n||((0,r.isAbstractType)(t)?(0,r.isAbstractType)(n)?e.getPossibleTypes(t).some(function(t){return e.isPossibleType(n,t)}):e.isPossibleType(t,n):!!(0,r.isAbstractType)(n)&&e.isPossibleType(n,t))};var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFieldResolver=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.execute=function(e,t,n,r,i,o,a){return 1===arguments.length?w(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):w(e,t,n,r,i,o,a)},t.responsePathAsArray=E,t.addPath=O,t.assertValidExecutionArguments=T,t.buildExecutionContext=S,t.getOperationRootType=k,t.collectFields=j,t.buildResolveInfo=L,t.resolveFieldValueOrError=D,t.getFieldDef=Q;var i=n(27),o=n(0),a=_(n(18)),u=_(n(23)),s=_(n(82)),c=_(n(196)),f=_(n(305)),l=_(n(306)),p=_(n(307)),d=n(28),h=n(3),y=n(85),v=n(1),m=(n(13),n(25)),b=n(24),g=n(80);function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,r,i,o,a){T(e,t,i);var u=S(e,t,n,r,i,o,a);return Array.isArray(u)?{errors:u}:function e(t,n){return(0,c.default)(n)?n.then(function(n){return e(t,n)}):0===t.errors.length?{data:n}:{errors:t.errors,data:n}}(u,function(e,t,n){var r=k(e.schema,t),i=j(e,r,t.selectionSet,Object.create(null),Object.create(null));try{var o="mutation"===t.operation?function(e,t,n,r,i){return(0,p.default)(Object.keys(i),function(r,o){var a=i[o],u=O(void 0,o),s=A(e,t,n,a,u);return void 0===s?r:(0,c.default)(s)?s.then(function(e){return r[o]=e,r}):(r[o]=s,r)},Object.create(null))}(e,r,n,0,i):x(e,r,n,void 0,i);return(0,c.default)(o)?o.then(void 0,function(t){return e.errors.push(t),Promise.resolve(null)}):o}catch(t){return e.errors.push(t),null}}(u,u.operation,n))}function E(e){for(var t=[],n=e;n;)t.push(n.key),n=n.prev;return t.reverse()}function O(e,t){return{prev:e,key:t}}function T(e,t,n){t||(0,a.default)(0,"Must provide document"),(0,g.assertValidSchema)(e),n&&"object"!==("undefined"==typeof n?"undefined":r(n))&&(0,a.default)(0,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function S(e,t,n,r,i,u,s){for(var c=[],f=void 0,l=!1,p=Object.create(null),d=0;d<t.definitions.length;d++){var v=t.definitions[d];switch(v.kind){case h.Kind.OPERATION_DEFINITION:!u&&f?l=!0:(!u||v.name&&v.name.value===u)&&(f=v);break;case h.Kind.FRAGMENT_DEFINITION:p[v.name.value]=v}}f?l&&c.push(new o.GraphQLError("Must provide operation name if query contains multiple operations.")):c.push(new o.GraphQLError(u?'Unknown operation named "'+u+'".':"Must provide an operation."));var m=void 0;if(f){var b=(0,y.getVariableValues)(e,f.variableDefinitions||[],i||{});b.errors?c.push.apply(c,b.errors):m=b.coerced}return 0!==c.length?c:(f||(0,a.default)(0,"Has operation if no errors."),m||(0,a.default)(0,"Has variables if no errors."),{schema:e,fragments:p,rootValue:n,contextValue:r,operation:f,variableValues:m,fieldResolver:s||G,errors:c})}function k(e,t){switch(t.operation){case"query":var n=e.getQueryType();if(!n)throw new o.GraphQLError("Schema does not define the required query root type.",[t]);return n;case"mutation":var r=e.getMutationType();if(!r)throw new o.GraphQLError("Schema is not configured for mutations.",[t]);return r;case"subscription":var i=e.getSubscriptionType();if(!i)throw new o.GraphQLError("Schema is not configured for subscriptions.",[t]);return i;default:throw new o.GraphQLError("Can only execute queries, mutations and subscriptions.",[t])}}function x(e,t,n,r,i){var o=!1,a=Object.keys(i).reduce(function(a,u){var s=i[u],f=O(r,u),l=A(e,t,n,s,f);return void 0===l?a:(a[u]=l,!o&&(0,c.default)(l)&&(o=!0),a)},Object.create(null));return o?(0,l.default)(a):a}function j(e,t,n,r,i){for(var o=0;o<n.selections.length;o++){var a=n.selections[o];switch(a.kind){case h.Kind.FIELD:if(!N(e,a))continue;var u=(f=a).alias?f.alias.value:f.name.value;r[u]||(r[u]=[]),r[u].push(a);break;case h.Kind.INLINE_FRAGMENT:if(!N(e,a)||!I(e,a,t))continue;j(e,t,a.selectionSet,r,i);break;case h.Kind.FRAGMENT_SPREAD:var s=a.name.value;if(i[s]||!N(e,a))continue;i[s]=!0;var c=e.fragments[s];if(!c||!I(e,c,t))continue;j(e,t,c.selectionSet,r,i)}}var f;return r}function N(e,t){var n=(0,y.getDirectiveValues)(b.GraphQLSkipDirective,t,e.variableValues);if(n&&!0===n.if)return!1;var r=(0,y.getDirectiveValues)(b.GraphQLIncludeDirective,t,e.variableValues);return!r||!1!==r.if}function I(e,t,n){var r=t.typeCondition;if(!r)return!0;var i=(0,d.typeFromAST)(e.schema,r);return i===n||!!(0,v.isAbstractType)(i)&&e.schema.isPossibleType(i,n)}function A(e,t,n,r,i){var o=Q(e.schema,t,r[0].name.value);if(o){var a=o.resolve||e.fieldResolver,u=L(e,o,r,t,i),s=D(e,o,r,a,n,u);return R(e,o.type,r,u,i,s)}}function L(e,t,n,r,i){return{fieldName:n[0].name.value,fieldNodes:n,returnType:t.type,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function D(e,t,n,r,i,o){try{var a=r(i,(0,y.getArgumentValues)(t,n[0],e.variableValues),e.contextValue,o);return(0,c.default)(a)?a.then(void 0,P):a}catch(e){return P(e)}}function P(e){return e instanceof Error?e:new Error(e||void 0)}function R(e,t,n,r,i,o){if((0,v.isNonNullType)(t))return C(e,t,n,r,i,o);try{var a=C(e,t,n,r,i,o);return(0,c.default)(a)?a.then(void 0,function(t){return e.errors.push(t),Promise.resolve(null)}):a}catch(t){return e.errors.push(t),null}}function C(e,t,n,f,l,p){try{var d=function e(t,n,o,f,l,p){if((0,c.default)(p))return p.then(function(r){return e(t,n,o,f,l,r)});if(p instanceof Error)throw p;if((0,v.isNonNullType)(n)){var d=e(t,n.ofType,o,f,l,p);if(null===d)throw new Error("Cannot return null for non-nullable field "+f.parentType.name+"."+f.fieldName+".");return d}if((0,s.default)(p))return null;if((0,v.isListType)(n))return function(e,t,n,r,o,u){(0,i.isCollection)(u)||(0,a.default)(0,"Expected Iterable, but did not find one for field "+r.parentType.name+"."+r.fieldName+".");var s=t.ofType,f=!1,l=[];return(0,i.forEach)(u,function(t,i){var a=O(o,i),u=R(e,s,n,r,a,t);!f&&(0,c.default)(u)&&(f=!0),l.push(u)}),f?Promise.all(l):l}(t,n,o,f,l,p);if((0,v.isLeafType)(n))return function(e,t){e.serialize||(0,a.default)(0,"Missing serialize method on type");var n=e.serialize(t);if((0,u.default)(n))throw new Error('Expected a value of type "'+String(e)+'" but received: '+String(t));return n}(n,p);if((0,v.isAbstractType)(n))return function(e,t,n,i,o,a){var u=t.resolveType?t.resolveType(a,e.contextValue,i):function(e,t,n,i){if(null!==e&&"object"===("undefined"==typeof e?"undefined":r(e))&&"string"==typeof e.__typename)return e.__typename;for(var o=n.schema.getPossibleTypes(i),a=[],u=0;u<o.length;u++){var s=o[u];if(s.isTypeOf){var f=s.isTypeOf(e,t,n);if((0,c.default)(f))a[u]=f;else if(f)return s}}return a.length?Promise.all(a).then(function(e){for(var t=0;t<e.length;t++)if(e[t])return o[t]}):void 0}(a,e.contextValue,i,t);return(0,c.default)(u)?u.then(function(r){return F(e,M(r,e,t,n,i,a),n,i,o,a)}):F(e,M(u,e,t,n,i,a),n,i,o,a)}(t,n,o,f,l,p);if((0,v.isObjectType)(n))return F(t,n,o,f,l,p);throw new Error('Cannot complete value of unexpected type "'+String(n)+'".')}(e,t,n,f,l,p);return(0,c.default)(d)?d.then(void 0,function(e){return Promise.reject((0,o.locatedError)(P(e),n,E(l)))}):d}catch(e){throw(0,o.locatedError)(P(e),n,E(l))}}function M(e,t,n,r,i,a){var u="string"==typeof e?t.schema.getType(e):e;if(!(0,v.isObjectType)(u))throw new o.GraphQLError("Abstract type "+n.name+" must resolve to an Object type at runtime for field "+i.parentType.name+"."+i.fieldName+' with value "'+String(a)+'", received "'+String(u)+'". Either the '+n.name+' type should provide a "resolveType" function or each possible types should provide an "isTypeOf" function.',r);if(!t.schema.isPossibleType(n,u))throw new o.GraphQLError('Runtime Object type "'+u.name+'" is not a possible type for "'+n.name+'".',r);return u}function F(e,t,n,r,i,o){if(t.isTypeOf){var a=t.isTypeOf(o,e.contextValue,r);if((0,c.default)(a))return a.then(function(r){if(!r)throw q(t,o,n);return U(e,t,n,0,i,o)});if(!a)throw q(t,o,n)}return U(e,t,n,0,i,o)}function q(e,t,n){return new o.GraphQLError('Expected value of type "'+e.name+'" but got: '+String(t)+".",n)}function U(e,t,n,r,i,o){return x(e,t,o,i,B(e,t,n))}var B=(0,f.default)(function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=0;o<n.length;o++){var a=n[o].selectionSet;a&&(r=j(e,t,a,r,i))}return r}),G=t.defaultFieldResolver=function(e,t,n,i){if("object"===("undefined"==typeof e?"undefined":r(e))||"function"==typeof e){var o=e[i.fieldName];return"function"==typeof o?e[i.fieldName](t,n,i):o}};function Q(e,t,n){return n===m.SchemaMetaFieldDef.name&&e.getQueryType()===t?m.SchemaMetaFieldDef:n===m.TypeMetaFieldDef.name&&e.getQueryType()===t?m.TypeMetaFieldDef:n===m.TypeNameMetaFieldDef.name?m.TypeNameMetaFieldDef:t.getFields()[n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVariableValues=function(e,t,n){for(var i=[],a={},f=0;f<t.length;f++){var d=t[f],h=d.variable.name.value,y=(0,s.typeFromAST)(e,d.type);if((0,p.isInputType)(y)){var v=n[h];if((0,o.default)(v))(0,p.isNonNullType)(y)?i.push(new r.GraphQLError('Variable "$'+h+'" of required type "'+String(y)+'" was not provided.',[d])):d.defaultValue&&(a[h]=(0,c.valueFromAST)(d.defaultValue,y));else{var m=(0,u.coerceValue)(v,y,d),b=m.errors;b?function(){var e='Variable "$'+h+'" got invalid value '+JSON.stringify(v)+"; ";b.forEach(function(t){t.message=e+t.message}),i.push.apply(i,b)}():a[h]=m.value}}else i.push(new r.GraphQLError('Variable "$'+h+'" expected value of type "'+(0,l.print)(d.type)+'" which cannot be used as an input type.',[d.type]))}return 0===i.length?{errors:void 0,coerced:a}:{errors:i,coerced:void 0}},t.getArgumentValues=h,t.getDirectiveValues=function(e,t,n){var r=t.directives&&(0,i.default)(t.directives,function(t){return t.name.value===e.name});if(r)return h(e,r,n)};var r=n(0),i=d(n(53)),o=d(n(23)),a=d(n(37)),u=n(119),s=n(28),c=n(86),f=n(3),l=n(22),p=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){var i={},u=e.args,s=t.arguments;if(!u||!s)return i;for(var d=(0,a.default)(s,function(e){return e.name.value}),h=0;h<u.length;h++){var y=u[h],v=y.name,m=y.type,b=d[v],g=y.defaultValue;if(b)if(b.value.kind===f.Kind.VARIABLE){var _=b.value.name.value;if(n&&Object.prototype.hasOwnProperty.call(n,_)&&!(0,o.default)(n[_]))i[v]=n[_];else if((0,o.default)(g)){if((0,p.isNonNullType)(m))throw new r.GraphQLError('Argument "'+v+'" of required type "'+String(m)+'" was provided the variable "$'+_+'" which was not provided a runtime value.',[b.value])}else i[v]=g}else{var w=b.value,E=(0,c.valueFromAST)(w,m,n);if((0,o.default)(E))throw new r.GraphQLError('Argument "'+v+'" has invalid value '+(0,l.print)(w)+".",[b.value]);i[v]=E}else if((0,o.default)(g)){if((0,p.isNonNullType)(m))throw new r.GraphQLError('Argument "'+v+'" of required type "'+String(m)+'" was not provided.',[t])}else i[v]=g}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueFromAST=function e(t,n,s){if(t){if((0,u.isNonNullType)(n)){if(t.kind===a.Kind.NULL)return;return e(t,n.ofType,s)}if(t.kind===a.Kind.NULL)return null;if(t.kind===a.Kind.VARIABLE){var f=t.name.value;if(!s||(0,i.default)(s[f]))return;return s[f]}if((0,u.isListType)(n)){var l=n.ofType;if(t.kind===a.Kind.LIST){for(var p=[],d=t.values,h=0;h<d.length;h++)if(c(d[h],s)){if((0,u.isNonNullType)(l))return;p.push(null)}else{var y=e(d[h],l,s);if((0,i.default)(y))return;p.push(y)}return p}var v=e(t,l,s);if((0,i.default)(v))return;return[v]}if((0,u.isInputObjectType)(n)){if(t.kind!==a.Kind.OBJECT)return;for(var m=Object.create(null),b=(0,r.default)(t.fields,function(e){return e.name.value}),g=(0,o.default)(n.getFields()),_=0;_<g.length;_++){var w=g[_],E=b[w.name];if(E&&!c(E.value,s)){var O=e(E.value,w.type,s);if((0,i.default)(O))return;m[w.name]=O}else if((0,i.default)(w.defaultValue)){if((0,u.isNonNullType)(w.type))return}else m[w.name]=w.defaultValue}return m}if((0,u.isEnumType)(n)){if(t.kind!==a.Kind.ENUM)return;var T=n.getValue(t.value);if(!T)return;return T.value}if((0,u.isScalarType)(n)){var S=void 0;try{S=n.parseLiteral(t,s)}catch(e){return}if((0,i.default)(S))return;return S}throw new Error("Unknown type: "+n+".")}};var r=s(n(37)),i=s(n(23)),o=s(n(35)),a=n(3),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return e.kind===a.Kind.VARIABLE&&(!t||(0,i.default)(t[e.name.value]))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),s=n(199),c=n(331),f=n(200),l=function(e){function t(t){var n=e.call(this,t)||this;return n.message=t,Error.captureStackTrace(n,n.constructor),n}return i(t,e),t}(Error);function p(e){return void 0!==e.kind}function d(e,t){void 0===t&&(t=[]);var n,r=[];return e.forEach(function(e){if(p(e)&&(e=u.print(e)),"function"==typeof e)-1===t.indexOf(e)&&(t.push(e),r=r.concat(d(e(),t)));else{if("string"!=typeof e)throw new l("typeDef array must contain only strings and functions, got "+typeof e);r.push(e.trim())}}),(n=r.map(function(e){return e.trim()}),n.reduce(function(e,t){return-1===e.indexOf(t)?e.concat([t]):e},[])).join("\n")}function h(e,t){var n,r=e;if(p(e))n=e;else if("string"!=typeof r){if(!Array.isArray(r))throw new l("typeDefs must be a string, array or schema AST, got "+typeof r);r=d(r)}"string"==typeof r&&(n=u.parse(r,t));var i={commentDescriptions:!0},o=u.buildASTSchema(n,i),a=m(n);return a.definitions.length>0&&(o=u.extendSchema(o,a,i)),o}t.SchemaError=l,t.makeExecutableSchema=function(e){var t=e.resolvers,n=void 0===t?{}:t,r=e.connectors,i=e.allowUndefinedInResolve,o=e.resolverValidationOptions,a=e.directiveResolvers,u=void 0===a?null:a,c=e.schemaDirectives,p=void 0===c?null:c,d=e.parseOptions,y=function(e,t,n,r,i,o){if("object"!=typeof i)throw new l("Expected `resolverValidationOptions` to be an object");if(!e)throw new l("Must provide typeDefs");if(!t)throw new l("Must provide resolvers");var a=Array.isArray(t)?t.filter(function(e){return"object"==typeof e}).reduce(f.default,{}):t,u=h(e,o);return w(u,a,i),O(u,i),r||x(u),n&&S(u,n),u}(e.typeDefs,n,e.logger,void 0===i||i,void 0===o?{}:o,void 0===d?{}:d);return"function"==typeof n.__schema&&_(y,n.__schema),r&&g(y,r),u&&j(y,u),p&&s.SchemaDirectiveVisitor.visitSchemaDirectives(y,p),y},t.concatenateTypeDefs=d,t.buildSchemaFromTypeDefinitions=h;var y="TypeExtensionDefinition",v="ObjectTypeExtension";function m(e){var t=e.definitions.filter(function(e){return e.kind===y||e.kind===v});return Object.assign({},e,{definitions:t})}function b(e,t){var n=e.getTypeMap();Object.keys(n).forEach(function(e){var r=n[e];if(!u.getNamedType(r).name.startsWith("__")&&r instanceof u.GraphQLObjectType){var i=r.getFields();Object.keys(i).forEach(function(n){t(i[n],e,n)})}})}t.extractExtensionDefinitions=m,t.forEachField=b;var g=c.deprecated({version:"0.7.0",url:"https://github.com/apollostack/graphql-tools/issues/140"},function(e,t){if(!(e&&e instanceof u.GraphQLSchema))throw new Error("schema must be an instance of GraphQLSchema. This error could be caused by installing more than one version of GraphQL-JS");if("object"!=typeof t)throw new Error("Expected connectors to be of type object, got "+typeof t);if(0===Object.keys(t).length)throw new Error("Expected connectors to not be an empty object");if(Array.isArray(t))throw new Error("Expected connectors to be of type object, got Array");if(e._apolloConnectorsAttached)throw new Error("Connectors already attached to context, cannot attach more than once");e._apolloConnectorsAttached=!0,_(e,function(e,n,r){if("object"!=typeof r)throw new Error("Cannot attach connector because context is not an object: "+typeof r);return"undefined"==typeof r.connectors&&(r.connectors={}),Object.keys(t).forEach(function(e){var n=t[e];if(!n.prototype)throw new Error("Connector must be a function or an class");r.connectors[e]=new n(r)}),e})});function _(e,t){[e.getQueryType(),e.getMutationType(),e.getSubscriptionType()].filter(function(e){return!!e}).forEach(function(n){var r=function(e){var t,n=Math.random();return function(r,i,o,a){return a.operation.__runAtMostOnce||(a.operation.__runAtMostOnce={}),a.operation.__runAtMostOnce[n]||(a.operation.__runAtMostOnce[n]=!0,t=e(r,i,o,a)),t}}(t),i=n.getFields();Object.keys(i).forEach(function(o){i[o].resolve=n===e.getSubscriptionType()?k(i[o].resolve,t):k(i[o].resolve,r)})})}function w(e,t,n){void 0===n&&(n={});var r=n.allowResolversNotInSchema,i=void 0!==r&&r;Object.keys(t).forEach(function(n){var r=e.getType(n);if(!r&&"__schema"!==n){if(i)return;throw new l('"'+n+'" defined in resolvers, but not in schema')}Object.keys(t[n]).forEach(function(e){if(e.startsWith("__"))r[e.substring(2)]=t[n][e];else if(r instanceof u.GraphQLScalarType)r[e]=t[n][e];else if(r instanceof u.GraphQLEnumType){if(!r.getValue(e))throw new l(n+"."+e+" was defined in resolvers, but enum is not in schema");r.getValue(e).value=t[n][e]}else{var o=function(e){return e instanceof u.GraphQLObjectType||e instanceof u.GraphQLInterfaceType?e.getFields():void 0}(r);if(!o){if(i)return;throw new l(n+" was defined in resolvers, but it's not an object")}if(!o[e]){if(i)return;throw new l(n+"."+e+" defined in resolvers, but not in schema")}var a=o[e],s=t[n][e];if("function"==typeof s)E(a,{resolve:s});else{if("object"!=typeof s)throw new l("Resolver "+n+"."+e+" must be object or function");E(a,s)}}})})}function E(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}function O(e,t){void 0===t&&(t={});var n=t.requireResolversForArgs,r=void 0!==n&&n,i=t.requireResolversForNonScalar,o=void 0!==i&&i,a=t.requireResolversForAllFields,s=void 0!==a&&a;if(s&&(r||o))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");b(e,function(e,t,n){s&&T(e,t,n),r&&e.args.length>0&&T(e,t,n),!o||u.getNamedType(e.type)instanceof u.GraphQLScalarType||T(e,t,n)})}function T(e,t,n){if(e.resolve){if("function"!=typeof e.resolve)throw new l('Resolver "'+t+"."+n+'" must be a function')}else console.warn('Resolve function missing for "'+t+"."+n+'". To disable this warning check https://github.com/apollostack/graphql-tools/issues/131')}function S(e,t){if(!t)throw new Error("Must provide a logger");if("function"!=typeof t.log)throw new Error("Logger.log must be a function");b(e,function(e,n,r){e.resolve=function(e,t,n){"undefined"==typeof e&&(e=u.defaultFieldResolver);var r=function(e){var r=new Error;r.stack=e.stack,n&&(r.originalMessage=e.message,r.message="Error in resolver "+n+"\n"+e.message),t.log(r)};return function(t,n,i,o){try{var a=e(t,n,i,o);return a&&"function"==typeof a.then&&"function"==typeof a.catch&&a.catch(function(e){var t=e instanceof Error?e:new Error(e);return r(t),e}),a}catch(e){throw r(e),e}}}(e.resolve,t,n+"."+r)})}function k(e,t){return function(n,r,i,o){return Promise.resolve(t(n,r,i,o)).then(function(t){return e?e(t,r,i,o):u.defaultFieldResolver(t,r,i,o)})}}function x(e){b(e,function(e,t,n){var r,i;e.resolve=(i=t+"."+n,"undefined"==typeof(r=e.resolve)&&(r=u.defaultFieldResolver),function(e,t,n,o){var a=r(e,t,n,o);if("undefined"==typeof a)throw new Error('Resolve function for "'+i+'" returned undefined');return a})})}function j(e,t){if("object"!=typeof t)throw new Error("Expected directiveResolvers to be of type object, got "+typeof t);if(Array.isArray(t))throw new Error("Expected directiveResolvers to be of type object, got Array");var n=Object.create(null);Object.keys(t).forEach(function(e){n[e]=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),r.prototype.visitFieldDefinition=function(n){var r=this,i=t[e],s=n.resolve||u.defaultFieldResolver,c=this.args;n.resolve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(function(){return o(r,void 0,void 0,function(){return a(this,function(t){return[2,s.apply(n,e)]})})},e[0],c,e[2],e[3])}},r}(s.SchemaDirectiveVisitor)}),s.SchemaDirectiveVisitor.visitSchemaDirectives(e,n)}t.attachConnectorsToContext=g,t.addSchemaLevelResolveFunction=_,t.addResolveFunctionsToSchema=w,t.assertResolveFunctionsPresent=O,t.addErrorLoggingToSchema=S,t.chainResolvers=function(e){return function(t,n,r,i){return e.reduce(function(e,t){return t?t(e,n,r,i):u.defaultFieldResolver(e,n,r,i)},t)}},t.addCatchUndefinedToSchema=x,t.attachDirectiveResolvers=j},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(39).f,i=n(49),o=n(15)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=function(){this._parallels=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)||1,this._queueCounter=0,this._idleCalls=new Set,this._lastHandleNumber=0,this._handlePromiseMap=new Map,this._promiseHandleMap=new Map};r.prototype={isIdle:function(){return this._queueCounter<this._parallels},_newHandleNumber:function(){return this._lastHandleNumber++,this._lastHandleNumber},lock:function(){this._queueCounter++},unlock:function(){this._queueCounter--,this._tryIdleCall()},wrapCall:function(e){var t=this;this.lock();var n=void 0;try{n=e()}catch(e){throw this.unlock(),e}return n.then&&"function"==typeof n.then?n.then(function(e){return t.unlock(),e}).catch(function(e){throw t.unlock(),e}):(this.unlock(),n)},requestIdlePromise:function(e){var t=this;e=e||{};var n=void 0,r=new Promise(function(e){return n=e});if(r._resolveFromOutside=function(){t._removeIdlePromise(r),n()},e.timeout){var i=setTimeout(function(){r._resolveFromOutside()},e.timeout);r._timeoutObj=i}return this._idleCalls.add(r),this._tryIdleCall(),r},cancelIdlePromise:function(e){this._removeIdlePromise(e)},_removeIdlePromise:function(e){if(e){if(e._timeoutObj&&clearTimeout(e._timeoutObj),this._promiseHandleMap.has(e)){var t=this._promiseHandleMap.get(e);this._handlePromiseMap.delete(t),this._promiseHandleMap.delete(e)}this._idleCalls.delete(e)}},requestIdleCallback:function(e,t){var n=this._newHandleNumber(),r=this.requestIdlePromise(t);return this._handlePromiseMap.set(n,r),this._promiseHandleMap.set(r,n),r.then(function(){return e()}),n},cancelIdleCallback:function(e){var t=this._handlePromiseMap.get(e);this.cancelIdlePromise(t)},_tryIdleCall:function(){var e=this;this._tryIdleCallRunning||0===this._idleCalls.size||(this._tryIdleCallRunning=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()?(e._resolveOneIdleCall(),e._tryIdleCallRunning=!1):e._tryIdleCallRunning=!1},0):e._tryIdleCallRunning=!1},0))},_resolveOneIdleCall:function(){var e=this;0!==this._idleCalls.size&&(this._idleCalls.values().next().value._resolveFromOutside(),setTimeout(function(){return e._tryIdleCall()},0))},clear:function(){var e=this;this._idleCalls.forEach(function(t){return e._removeIdlePromise(t)}),this._queueCounter=0,this._idleCalls.clear(),this._handlePromiseMap=new Map,this._promiseHandleMap=new Map}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},function(e,t,n){"use strict";t.errorObject={e:{}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(74),o=n(234);t.BehaviorSubject=function(e){function t(t){e.call(this),this._value=t}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(31);t.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();t.MapOperator=o;var a=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return r(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(2),s=n.n(u),c=n(19),f=n.n(c),l=n(73),p=n.n(l),d=n(94),h=n.n(d),y=n(424),v=n(4),m=n(235),b=n(5),g=n(50),_=n(426),w=(n.n(_),n(97)),E=(n.n(w),n(237)),O=(n.n(E),n(44)),T=(n.n(O),0),S=function(){return++T},k=function(){function e(t,n,r){s()(this,e),this.op=t,this.collection=r,this.id=S(),n||(n=this._defaultQuery()),this.mquery=new y.a(n),this._queryChangeDetector=m.a.create(this),this._resultsData=null,this._results$=new w.BehaviorSubject(null),this._latestChangeEvent=-1,this._execOverDatabaseCount=0}return e.prototype._defaultQuery=function(){var e;return(e={})[this.collection.schema.primaryPath]={},e},e.prototype._clone=function(){var t=new e(this.op,this._defaultQuery(),this.collection);return t.mquery=this.mquery.clone(),t},e.prototype._tunnelQueryCache=function(){return this.collection._queryCache.getByQuery(this)},e.prototype.toString=function(){if(!this.stringRep){var e=v.n({op:this.op,options:this.mquery.options,_conditions:this.mquery._conditions,_path:this.mquery._path,_fields:this.mquery._fields},!0);this.stringRep=JSON.stringify(e,v.o)}return this.stringRep},e.prototype._isResultsInSync=function(){return this._latestChangeEvent>=this.collection._changeEventBuffer.counter},e.prototype._ensureEqual=(o=a()(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureEqualQueue.requestIdlePromise();case 2:return e.next=4,this._ensureEqualQueue.wrapCall(function(){return t.__ensureEqual()});case 4:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),e.prototype.__ensureEqual=(r=a()(i.a.mark(function e(){var t,n,r,o,a,u,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._isResultsInSync()){e.next=3;break}return e.abrupt("return",!1);case 3:if(n=!1,-1===this._latestChangeEvent&&(n=!0),n){e.next=19;break}if(null!==(r=this.collection._changeEventBuffer.getFrom(this._latestChangeEvent+1))){e.next=11;break}n=!0,e.next=19;break;case 11:if(this._latestChangeEvent=this.collection._changeEventBuffer.counter,o=this.collection._changeEventBuffer.reduceByLastOfDoc(r),a=this._queryChangeDetector.runChangeDetection(o),!Array.isArray(a)&&a&&(n=!0),!Array.isArray(a)||p()(a,this._resultsData)){e.next=19;break}return t=!0,e.next=19,this._setResultData(a);case 19:if(!n){e.next=29;break}return u=this.collection._changeEventBuffer.counter,e.next=23,this._execOverDatabase();case 23:if(s=e.sent,this._latestChangeEvent=u,p()(s,this._resultsData)){e.next=29;break}return t=!0,e.next=29,this._setResultData(s);case 29:return e.abrupt("return",t);case 30:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),e.prototype._setResultData=(n=a()(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._resultsData=t,e.next=3,this.collection._createDocuments(this._resultsData);case 3:r=n=e.sent,"findOne"===this.op&&(r=0===n.length?null:n[0]),this._results$.next(r);case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),e.prototype._execOverDatabase=function(){this._execOverDatabaseCount=this._execOverDatabaseCount+1;var e=void 0;switch(this.op){case"find":e=this.collection._pouchFind(this);break;case"findOne":e=this.collection._pouchFind(this,1);break;default:throw b.a.newRxError("QU1",{op:this.op})}return e},e.prototype.toJSON=function(){if(this._toJSON)return this._toJSON;var e=this.collection.schema.primaryPath,t={selector:this.mquery._conditions},n=this.mquery._optionsForExec();if(n.sort){var r=[];Object.keys(n.sort).map(function(t){var i="asc";-1===n.sort[t]&&(i="desc");var o={};t===e&&(t="_id"),o[t]=i,r.push(o)}),t.sort=r}else t.sort=[{_id:"asc"}];if(n.limit){if("number"!=typeof n.limit)throw b.a.newRxTypeError("QU2",{limit:n.limit});t.limit=n.limit}if(n.skip){if("number"!=typeof n.skip)throw b.a.newRxTypeError("QU3",{skip:n.skip});t.skip=n.skip}return t.selector.language||(t.selector.language={}),t.selector.language.$ne="query",Object.entries(t.selector).filter(function(e){return"object"==typeof e[1]}).filter(function(e){return null!==e[1]}).filter(function(e){return!Array.isArray(e[1])}).filter(function(e){return 0===Object.keys(e[1]).length}).forEach(function(e){return delete t.selector[e[0]]}),"_id"!==e&&t.selector[e]&&(t.selector._id=t.selector[e],delete t.selector[e]),this._toJSON=t,this._toJSON},e.prototype.keyCompress=function(){return this.collection.schema.doKeyCompression()?(this._keyCompress||(this._keyCompress=this.collection._keyCompressor.compressQuery(this.toJSON())),this._keyCompress):this.toJSON()},e.prototype.remove=function(){var e=void 0;return this.exec().then(function(t){return e=t,Array.isArray(t)?Promise.all(t.map(function(e){return e.remove()})):t.remove()}).then(function(){return e})},e.prototype.update=function(){throw b.a.pluginMissing("update")},e.prototype.exec=(t=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0;case 1:if(!t){e.next=7;break}return e.next=4,this._ensureEqual();case 4:t=e.sent,e.next=1;break;case 7:return e.abrupt("return",this._results$.getValue());case 8:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),e.prototype.regex=function(e){var t=this._clone();if(this.mquery._path===this.collection.schema.primaryPath)throw b.a.newRxError("QU4",{path:this.mquery._path});return t.mquery.regex(e),t._tunnelQueryCache()},e.prototype.sort=function(e){var t=function(e){throw b.a.newRxError("QU5",{key:e})},n=this._clone();if("object"!=typeof e){var r="-"===e.charAt(0)?e.substring(1):e;if(!n.mquery._conditions[r]){var i=n.collection.schema.getSchemaByObjectPath(r);i||t(r),"integer"===i.type?n.mquery.where(r).gt(-1e28):n.mquery.where(r).gt(null)}}else Object.keys(e).filter(function(e){return!n.mquery._conditions[e]||!n.mquery._conditions[e].$gt}).forEach(function(e){var r=n.collection.schema.getSchemaByObjectPath(e);r||t(e),"integer"===r.type?n.mquery.where(e).gt(-1e28):n.mquery.where(e).gt(null)});return n.mquery.sort(e),n._tunnelQueryCache()},e.prototype.limit=function(e){if("findOne"===this.op)throw b.a.newRxError("QU6");var t=this._clone();return t.mquery.limit(e),t._tunnelQueryCache()},f()(e,[{key:"_ensureEqualQueue",get:function(){return this.__ensureEqualQueue||(this.__ensureEqualQueue=new h.a),this.__ensureEqualQueue}},{key:"$",get:function(){var e,t=this;if(!this._$){var n=this._results$.pipe(Object(E.mergeMap)((e=a()(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._ensureEqual();case 2:if(!e.sent){e.next=7;break}return e.abrupt("return","WAITFORNEXTEMIT");case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})),Object(O.filter)(function(e){return"WAITFORNEXTEMIT"!==e})).asObservable(),r=this.collection.$.pipe(Object(O.filter)(function(e){return["INSERT","UPDATE","REMOVE"].includes(e.data.op)}),Object(O.filter)(function(){return t._ensureEqual(),!1}));this._$=Object(_.merge)(n,r)}return this._$}}]),e;var t,n,r,o}(),x=!1;t.a={create:function(e,t,n){if(t&&"object"!=typeof t)throw b.a.newRxTypeError("QU7",{queryObj:t});if(Array.isArray(t))throw b.a.newRxTypeError("QU8",{queryObj:t});var r,i=new k(e,t,n);return i=i._tunnelQueryCache(),x||(x=!0,r=Object.getPrototypeOf(i),Object.getOwnPropertyNames(i.mquery.__proto__).filter(function(e){return!e.startsWith("_")}).filter(function(e){return!r[e]}).forEach(function(e){r[e]=function(t){var n=this._clone();return n.mquery[e](t),n._tunnelQueryCache()}})),Object(g.d)("createRxQuery",i),i},RxQuery:k,isInstanceOf:function(e){return e instanceof k}}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(60),a=n.n(o),u=n(4),s=n(5),c=function(){function e(t,n){i()(this,e),this._password=t,this._schema=n}return e.prototype._encryptValue=function(){throw s.a.pluginMissing("encryption")},e.prototype._decryptValue=function(){throw s.a.pluginMissing("encryption")},e.prototype.encrypt=function(e){var t=this;return e=u.b(e),this._password?(Object.keys(this._schema.encryptedPaths).map(function(n){var r=a.a.get(e,n),i=t._encryptValue(r);a.a.set(e,n,i)}),e):e},e.prototype.decrypt=function(e){var t=this;return e=u.b(e),this._password?(Object.keys(this._schema.encryptedPaths).map(function(n){var r=a.a.get(e,n),i=t._decryptValue(r);a.a.set(e,n,i)}),e):e},e}();t.a={create:function(e,t){return new c(e,t)},Crypter:c}},function(e,t,n){"use strict";(function(t){e.exports=!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,u=arguments.length;switch(u){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(u-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:t}).call(t,n(6))},function(e,t,n){var r=n(20),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=function(e){return null==e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(33).String,i=n(151);e.exports=function(e){if(i(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},function(e,t,n){"use strict";var r=n(33),i=r.Number,o=r.RegExp,a=n(271),u=n(269),s=u.trim2016,c=u.trim2018,f=n(526),l=f.parseInt2016,p=f.parseInt2018,d=r.String.prototype.slice,h=n(272),y=/^0b[01]+$/i,v=y.test,m=function(e){return v.call(y,e)},b=/^0o[0-7]+$/i,g=function(e){return v.call(b,e)},_=new o("[\x85\u200b\ufffe]","g"),w=new o("[\x85\u180e\u200b\ufffe]","g"),E=/^[-+]0x[0-9a-f]+$/i,O=function(e){return v.call(E,e)},T=function e(t){var n=a(t,Number);if("symbol"==typeof n)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof n){if(m(n))return e(p(d.call(n,2),2));if(g(n))return e(p(d.call(n,2),8));if(function(e){return v.call(w,e)}(n)||O(n))return h;var r=c(n);if(r!==n)return e(r)}return i(n)};e.exports={toNumber:T,toNumber2016:function e(t){var n=a(t,Number);if("symbol"==typeof n)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof n){if(m(n))return e(l(d.call(n,2),2));if(g(n))return e(l(d.call(n,2),8));if(function(e){return v.call(_,e)}(n)||O(n))return h;var r=s(n);if(r!==n)return e(r)}return i(n)},toNumber2018:T}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(277);n.d(t,"empty",function(){return r.c}),n.d(t,"from",function(){return r.e}),n.d(t,"split",function(){return r.f}),n.d(t,"concat",function(){return r.b}),n.d(t,"ApolloLink",function(){return r.a}),n.d(t,"execute",function(){return r.d});var i=n(157);n.d(t,"createOperation",function(){return i.b}),n.d(t,"makePromise",function(){return i.f}),n.d(t,"toPromise",function(){return i.g}),n.d(t,"fromPromise",function(){return i.d}),n.d(t,"fromError",function(){return i.c});var o=n(107);n.d(t,"Observable",function(){return o.a})},function(e,t,n){"use strict";var r=n(156);t.a=r.a},function(e,t,n){"use strict";function r(e,t,n,i){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map(function(e){return r(o,e.name,e.value,i)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n))e[t.value]=(i||{})[n.name.value];else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map(function(e){var n={};return r(n,t,e,i),n[t.value]});else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new Error('The inline argument "'+t.value+'" of kind "'+n.kind+'" is not supported.\n                    Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}t.b=r,t.a=function(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){return r(n,e.name,e.value,t)}),n}return null},this&&this.__assign||Object},function(e,t,n){"use strict";(function(e){function n(t){return("undefined"!=typeof e&&e.env.NODE_ENV?e.env.NODE_ENV:"development")===t}t.b=function(){return!0===n("production")},t.a=function(){return!0===n("development")},t.c=function(){return!0===n("test")}}).call(t,n(6))},function(e,t,n){"use strict";(function(t){var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(f),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),n=function(){u.data=o=++o%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var s=new t.MessageChannel;s.port1.onmessage=f,n=function(){s.port2.postMessage(0)}}var c=[];function f(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}e.exports=function(e){1!==c.push(e)||r||n()}}).call(t,n(7))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e&&"production"!==e.env.NODE_ENV?function(e,t){if(e instanceof t)return!0;if(e){var n=e.constructor,r=t.name;if(n&&n.name===r)throw new Error("Cannot use "+r+' "'+e+'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.')}return!1}:function(e,t){return e instanceof t}}).call(t,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.astFromValue=function e(t,n){if((0,c.isNonNullType)(n)){var l=e(t,n.ofType);return l&&l.kind===s.Kind.NULL?null:l}if(null===t)return{kind:s.Kind.NULL};if((0,a.default)(t))return null;if((0,c.isListType)(n)){var d=n.ofType;if((0,i.isCollection)(t)){var h=[];return(0,i.forEach)(t,function(t){var n=e(t,d);n&&h.push(n)}),{kind:s.Kind.LIST,values:h}}return e(t,d)}if((0,c.isInputObjectType)(n)){if(null===t||"object"!==("undefined"==typeof t?"undefined":r(t)))return null;var y=[];return(0,u.default)(n.getFields()).forEach(function(n){var r=e(t[n.name],n.type);r&&y.push({kind:s.Kind.OBJECT_FIELD,name:{kind:s.Kind.NAME,value:n.name},value:r})}),{kind:s.Kind.OBJECT,fields:y}}if((0,c.isScalarType)(n)||(0,c.isEnumType)(n)){var v=n.serialize(t);if((0,o.default)(v))return null;if("boolean"==typeof v)return{kind:s.Kind.BOOLEAN,value:v};if("number"==typeof v){var m=String(v);return p.test(m)?{kind:s.Kind.INT,value:m}:{kind:s.Kind.FLOAT,value:m}}if("string"==typeof v)return(0,c.isEnumType)(n)?{kind:s.Kind.ENUM,value:v}:n===f.GraphQLID&&p.test(v)?{kind:s.Kind.INT,value:v}:{kind:s.Kind.STRING,value:v};throw new TypeError("Cannot convert value to AST: "+String(v))}throw new Error("Unknown type: "+n+".")};var i=n(27),o=l(n(82)),a=l(n(23)),u=l(n(35)),s=n(3),c=n(1),f=n(34);function l(e){return e&&e.__esModule?e:{default:e}}var p=/^-?(0|[1-9][0-9]*)$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){for(var n=/\r\n|[\n\r]/g,r=1,i=t+1,o=void 0;(o=n.exec(e.body))&&o.index<t;)r+=1,i=t+1-(o.index+o[0].length);return{line:r,column:i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0,t.createLexer=function(e,t){var n=new l(s.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:a,lookahead:u}},t.getTokenDesc=function(e){var t=e.value;return t?e.kind+' "'+t+'"':e.kind};var r,i=n(0),o=(r=n(168))&&r.__esModule?r:{default:r};function a(){return this.lastToken=this.token,this.token=this.lookahead()}function u(){var e=this.token;if(e.kind!==s.EOF)do{e=e.next||(e.next=d(this,e))}while(e.kind===s.COMMENT);return e}var s=t.TokenKind=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),c=String.prototype.charCodeAt,f=String.prototype.slice;function l(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}function p(e){return isNaN(e)?s.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function d(e,t){var n=e.source,r=n.body,a=r.length,u=function(e,n,r){for(var i=e.length,o=t.end;o<i;){var a=c.call(e,o);if(9===a||32===a||44===a||65279===a)++o;else if(10===a)++o,++r.line,r.lineStart=o;else{if(13!==a)break;10===c.call(e,o+1)?o+=2:++o,++r.line,r.lineStart=o}}return o}(r,0,e),d=e.line,v=1+u-e.lineStart;if(u>=a)return new l(s.EOF,a,a,d,v,t);var m=c.call(r,u);if(m<32&&9!==m&&10!==m&&13!==m)throw(0,i.syntaxError)(n,u,"Cannot contain the invalid character "+p(m)+".");switch(m){case 33:return new l(s.BANG,u,u+1,d,v,t);case 35:return function(e,t,n,r,i){var o=e.body,a=void 0,u=t;do{a=c.call(o,++u)}while(null!==a&&(a>31||9===a));return new l(s.COMMENT,t,u,n,r,i,f.call(o,t+1,u))}(n,u,d,v,t);case 36:return new l(s.DOLLAR,u,u+1,d,v,t);case 38:return new l(s.AMP,u,u+1,d,v,t);case 40:return new l(s.PAREN_L,u,u+1,d,v,t);case 41:return new l(s.PAREN_R,u,u+1,d,v,t);case 46:if(46===c.call(r,u+1)&&46===c.call(r,u+2))return new l(s.SPREAD,u,u+3,d,v,t);break;case 58:return new l(s.COLON,u,u+1,d,v,t);case 61:return new l(s.EQUALS,u,u+1,d,v,t);case 64:return new l(s.AT,u,u+1,d,v,t);case 91:return new l(s.BRACKET_L,u,u+1,d,v,t);case 93:return new l(s.BRACKET_R,u,u+1,d,v,t);case 123:return new l(s.BRACE_L,u,u+1,d,v,t);case 124:return new l(s.PIPE,u,u+1,d,v,t);case 125:return new l(s.BRACE_R,u,u+1,d,v,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){for(var o=e.body,a=o.length,u=t+1,p=0;u!==a&&null!==(p=c.call(o,u))&&(95===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122);)++u;return new l(s.NAME,t,u,n,r,i,f.call(o,t,u))}(n,u,d,v,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,o,a){var u=e.body,d=n,y=t,v=!1;if(45===d&&(d=c.call(u,++y)),48===d){if((d=c.call(u,++y))>=48&&d<=57)throw(0,i.syntaxError)(e,y,"Invalid number, unexpected digit after 0: "+p(d)+".")}else y=h(e,y,d),d=c.call(u,y);return 46===d&&(v=!0,d=c.call(u,++y),y=h(e,y,d),d=c.call(u,y)),69!==d&&101!==d||(v=!0,43!==(d=c.call(u,++y))&&45!==d||(d=c.call(u,++y)),y=h(e,y,d)),new l(v?s.FLOAT:s.INT,t,y,r,o,a,f.call(u,t,y))}(n,u,m,d,v,t);case 34:return 34===c.call(r,u+1)&&34===c.call(r,u+2)?function(e,t,n,r,a){for(var u=e.body,d=t+3,h=d,y=0,v="";d<u.length&&null!==(y=c.call(u,d));){if(34===y&&34===c.call(u,d+1)&&34===c.call(u,d+2))return v+=f.call(u,h,d),new l(s.BLOCK_STRING,t,d+3,n,r,a,(0,o.default)(v));if(y<32&&9!==y&&10!==y&&13!==y)throw(0,i.syntaxError)(e,d,"Invalid character within String: "+p(y)+".");92===y&&34===c.call(u,d+1)&&34===c.call(u,d+2)&&34===c.call(u,d+3)?(v+=f.call(u,h,d)+'"""',h=d+=4):++d}throw(0,i.syntaxError)(e,d,"Unterminated string.")}(n,u,d,v,t):function(e,t,n,r,o){for(var a,u,d,h,v=e.body,m=t+1,b=m,g=0,_="";m<v.length&&null!==(g=c.call(v,m))&&10!==g&&13!==g;){if(34===g)return _+=f.call(v,b,m),new l(s.STRING,t,m+1,n,r,o,_);if(g<32&&9!==g)throw(0,i.syntaxError)(e,m,"Invalid character within String: "+p(g)+".");if(++m,92===g){switch(_+=f.call(v,b,m-1),g=c.call(v,m)){case 34:_+='"';break;case 47:_+="/";break;case 92:_+="\\";break;case 98:_+="\b";break;case 102:_+="\f";break;case 110:_+="\n";break;case 114:_+="\r";break;case 116:_+="\t";break;case 117:var w=(a=c.call(v,m+1),u=c.call(v,m+2),d=c.call(v,m+3),h=c.call(v,m+4),y(a)<<12|y(u)<<8|y(d)<<4|y(h));if(w<0)throw(0,i.syntaxError)(e,m,"Invalid character escape sequence: \\u"+v.slice(m+1,m+5)+".");_+=String.fromCharCode(w),m+=4;break;default:throw(0,i.syntaxError)(e,m,"Invalid character escape sequence: \\"+String.fromCharCode(g)+".")}b=++m}}throw(0,i.syntaxError)(e,m,"Unterminated string.")}(n,u,d,v,t)}throw(0,i.syntaxError)(n,u,function(e){return 39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character "+p(e)+"."}(m))}function h(e,t,n){var r=e.body,o=t,a=n;if(a>=48&&a<=57){do{a=c.call(r,++o)}while(a>=48&&a<=57);return o}throw(0,i.syntaxError)(e,o,"Invalid number, expected digit but got: "+p(a)+".")}function y(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}l.prototype.toJSON=l.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e.map(function(e){return'"'+e+'"'}))};var r,i=(r=n(116))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.slice(0,r);return t.reduce(function(e,n,r){return e+(t.length>2?", ":" ")+(r===t.length-1?"or ":"")+n})};var r=5},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.badValueMessage=l,t.requiredFieldMessage=p,t.unknownFieldMessage=d,t.ValuesOfCorrectType=function(e){return{NullValue:function(t){var n=e.getInputType();(0,o.isNonNullType)(n)&&e.reportError(new r.GraphQLError(l(String(n),(0,i.print)(t)),t))},ListValue:function(t){var n=(0,o.getNullableType)(e.getParentInputType());if(!(0,o.isListType)(n))return h(e,t),!1},ObjectValue:function(t){var n=(0,o.getNamedType)(e.getInputType());if(!(0,o.isInputObjectType)(n))return h(e,t),!1;var i=n.getFields(),a=(0,u.default)(t.fields,function(e){return e.name.value});Object.keys(i).forEach(function(u){var s=i[u].type;!a[u]&&(0,o.isNonNullType)(s)&&e.reportError(new r.GraphQLError(p(n.name,u,String(s)),t))})},ObjectField:function(t){var n=(0,o.getNamedType)(e.getParentInputType());if(!e.getInputType()&&(0,o.isInputObjectType)(n)){var i=(0,c.default)(t.name.value,Object.keys(n.getFields())),a=0!==i.length?"Did you mean "+(0,s.default)(i)+"?":void 0;e.reportError(new r.GraphQLError(d(n.name,t.name.value,a),t))}},EnumValue:function(t){var n=(0,o.getNamedType)(e.getInputType());(0,o.isEnumType)(n)?n.getValue(t.value)||e.reportError(new r.GraphQLError(l(n.name,(0,i.print)(t),y(n,t)),t)):h(e,t)},IntValue:function(t){return h(e,t)},FloatValue:function(t){return h(e,t)},StringValue:function(t){return h(e,t)},BooleanValue:function(t){return h(e,t)}}};var r=n(0),i=n(22),o=n(1),a=f(n(23)),u=f(n(37)),s=f(n(116)),c=f(n(64));function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return"Expected type "+e+", found "+t+(n?"; "+n:".")}function p(e,t,n){return"Field "+e+"."+t+" of required type "+n+" was not provided."}function d(e,t,n){return'Field "'+t+'" is not defined by type '+e+(n?"; "+n:".")}function h(e,t){var n=e.getInputType();if(n){var u=(0,o.getNamedType)(n);if((0,o.isScalarType)(u))try{var s=u.parseLiteral(t,void 0);(0,a.default)(s)&&e.reportError(new r.GraphQLError(l(String(n),(0,i.print)(t)),t))}catch(o){e.reportError(new r.GraphQLError(l(String(n),(0,i.print)(t),o.message),t,void 0,void 0,void 0,o))}else e.reportError(new r.GraphQLError(l(String(n),(0,i.print)(t),y(u,t)),t))}}function y(e,t){if((0,o.isEnumType)(e)){var n=(0,c.default)((0,i.print)(t),e.getValues().map(function(e){return e.name}));if(0!==n.length)return"Did you mean the enum value "+(0,s.default)(n)+"?"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0);var r=n(47),i=n(3),o=(n(13),n(63));t.default=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._schema=t,this._ast=n,this._typeInfo=r,this._errors=[],this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}return e.prototype.reportError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e.prototype.getSchema=function(){return this._schema},e.prototype.getDocument=function(){return this._ast},e.prototype.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce(function(e,t){return t.kind===i.Kind.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e},Object.create(null))),t[e]},e.prototype.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var n=[e];0!==n.length;)for(var r=n.pop(),o=0;o<r.selections.length;o++){var a=r.selections[o];a.kind===i.Kind.FRAGMENT_SPREAD?t.push(a):a.selectionSet&&n.push(a.selectionSet)}this._fragmentSpreads.set(e,t)}return t},e.prototype.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var n=Object.create(null),r=[e.selectionSet];0!==r.length;)for(var i=r.pop(),o=this.getFragmentSpreads(i),a=0;a<o.length;a++){var u=o[a].name.value;if(!0!==n[u]){n[u]=!0;var s=this.getFragment(u);s&&(t.push(s),r.push(s.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e.prototype.getVariableUsages=function(e){var t=this._variableUsages.get(e);if(!t){var n=[],i=new o.TypeInfo(this._schema);(0,r.visit)(e,(0,r.visitWithTypeInfo)(i,{VariableDefinition:function(){return!1},Variable:function(e){n.push({node:e,type:i.getInputType()})}})),this._variableUsages.set(e,t=n)}return t},e.prototype.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var n=this.getRecursivelyReferencedFragments(e),r=0;r<n.length;r++)Array.prototype.push.apply(t,this.getVariableUsages(n[r]));this._recursiveVariableUsages.set(e,t)}return t},e.prototype.getType=function(){return this._typeInfo.getType()},e.prototype.getParentType=function(){return this._typeInfo.getParentType()},e.prototype.getInputType=function(){return this._typeInfo.getInputType()},e.prototype.getParentInputType=function(){return this._typeInfo.getParentInputType()},e.prototype.getFieldDef=function(){return this._typeInfo.getFieldDef()},e.prototype.getDirective=function(){return this._typeInfo.getDirective()},e.prototype.getArgument=function(){return this._typeInfo.getArgument()},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.coerceValue=function e(t,n,c,l){if((0,f.isNonNullType)(n))return(0,a.default)(t)?d([v("Expected non-nullable type "+String(n)+" not to be null",c,l)]):e(t,n.ofType,c,l);if((0,a.default)(t))return p(null);if((0,f.isScalarType)(n))try{var g=n.parseValue(t);return(0,o.default)(g)?d([v("Expected type "+n.name,c,l)]):p(g)}catch(e){return d([v("Expected type "+n.name,c,l,e.message,e)])}if((0,f.isEnumType)(n)){if("string"==typeof t){var _=n.getValue(t);if(_)return p(_.value)}var w=(0,s.default)(String(t),n.getValues().map(function(e){return e.name})),E=0!==w.length?"did you mean "+(0,u.default)(w)+"?":void 0;return d([v("Expected type "+n.name,c,l,E)])}if((0,f.isListType)(n)){var O=n.ofType;if((0,i.isCollection)(t)){var T=void 0,S=[];return(0,i.forEach)(t,function(t,n){var r=e(t,O,c,y(l,n));r.errors?T=h(T,r.errors):T||S.push(r.value)}),T?d(T):p(S)}var k=e(t,O,c);return k.errors?k:p([k.value])}if((0,f.isInputObjectType)(n)){if("object"!==("undefined"==typeof t?"undefined":r(t)))return d([v("Expected type "+n.name+" to be an object",c,l)]);var x=void 0,j={},N=n.getFields();for(var I in N)if(b.call(N,I)){var A=N[I],L=t[I];if((0,o.default)(L))(0,o.default)(A.defaultValue)?(0,f.isNonNullType)(A.type)&&(x=h(x,v("Field "+m(y(l,I))+" of required type "+String(A.type)+" was not provided",c))):j[I]=A.defaultValue;else{var D=e(L,A.type,c,y(l,I));D.errors?x=h(x,D.errors):x||(j[I]=D.value)}}for(var P in t)if(b.call(t,P)&&!N[P]){var R=(0,s.default)(P,Object.keys(N)),C=0!==R.length?"did you mean "+(0,u.default)(R)+"?":void 0;x=h(x,v('Field "'+P+'" is not defined by type '+n.name,c,l,C))}return x?d(x):p(j)}throw new Error("Unexpected type: "+n+".")};var i=n(27),o=l(n(23)),a=l(n(82)),u=l(n(116)),s=l(n(64)),c=n(0),f=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function p(e){return{errors:void 0,value:e}}function d(e){return{errors:e,value:void 0}}function h(e,t){return(e||[]).concat(t)}function y(e,t){return{prev:e,key:t}}function v(e,t,n,r,i){var o=m(n);return new c.GraphQLError(e+(o?" at "+o:"")+(r?"; "+r:"."),t,void 0,void 0,void 0,i)}function m(e){for(var t="",n=e;n;)t=("string"==typeof n.key?"."+n.key:"["+String(n.key)+"]")+t,n=n.prev;return t?"value"+t:""}var b=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){var n=e.__typename;if(!n)throw new Error("Did not fetch typename for object, unable to resolve interface.");var i=t.getType(n);if(!(i instanceof r.GraphQLObjectType))throw new Error("__typename did not match an object type: "+n);return i}},function(e,t,n){"use strict";(function(e){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a,u=n(10),s=n(0);function c(e,t){if(t&&t.length>0){if(Array.isArray(e)){var n={};return t.forEach(function(e){if(e.path){var t=e.path[1],r=n[t]||[];r.push(o({},e,{path:e.path.slice(1)})),n[t]=r}}),e.map(function(e,t){return c(e,n[t])})}return o({},e,((r={})[a]=t.map(function(e){return o({},e,e.path?{path:e.path.slice(1)}:{})}),r))}return e;var r}a="undefined"!=typeof e&&"Symbol"in e||"undefined"!=typeof window&&"Symbol"in window?Symbol("subSchemaErrors"):"@@__subSchemaErrors",t.ErrorSymbol=a,t.annotateWithChildrenErrors=c,t.getErrorsFromParent=function(e,t){for(var n=[],r=0,i=e&&e[a]||[];r<i.length;r++){var o=i[r];if(!o.path||1===o.path.length&&o.path[0]===t)return{kind:"OWN",error:o};o.path[0]===t&&n.push(o)}return{kind:"CHILDREN",errors:n}};var f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errors=n,r}return i(t,e),t}(Error);t.checkResultAndHandleErrors=function(e,t,n){if(n||(n=t.fieldNodes[0].alias?t.fieldNodes[0].alias.value:t.fieldName),!e.errors||e.data&&null!=e.data[n]){var r=e.data[n];return e.errors&&(r=c(r,e.errors)),r}var i,o=1===e.errors.length&&((i=e.errors[0]).result||i.originalError&&i.originalError.result)?e.errors[0]:new f(e.errors.map(function(e){return e.message}).join("\n"),e.errors);throw s.locatedError(o,t.fieldNodes,u.responsePathAsArray(t.path))}}).call(t,n(7))},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(2),s=n.n(u),c=n(19),f=n.n(c),l=n(223),p=n.n(l),d=n(94),h=n.n(d),y=n(55),v=n(4),m=n(5),b=n(58),g=n(61),_=n(45),w=n(440),E=n(70),O=n(50),T=n(74),S=(n.n(T),n(44)),k=(n.n(S),{}),x=0,j=function(){function e(t,n,r,i,o,a){s()(this,e),"undefined"!=typeof t&&x++,this.name=t,this.adapter=n,this.password=r,this.multiInstance=i,this.options=o,this.pouchSettings=a,this.idleQueue=new h.a,this.token=p()(10),this._subs=[],this.destroyed=!1,this.collections={},this.subject=new T.Subject,this.observable$=this.subject.asObservable().pipe(Object(S.filter)(function(e){return _.a.isInstanceOf(e)}))}return e.prototype.prepare=(c=a()(i.a.mark(function e(){var t,n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.password){e.next=22;break}return e.next=3,this.lockedRun(function(){return n._adminPouch.info()});case 3:return t=null,e.prev=4,e.next=7,this.lockedRun(function(){return n._adminPouch.get("_local/pwHash")});case 7:t=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:if(t){e.next=20;break}return e.prev=13,e.next=16,this.lockedRun(function(){return n._adminPouch.put({_id:"_local/pwHash",value:v.e(n.password)})});case 16:e.next=20;break;case 18:e.prev=18,e.t1=e.catch(13);case 20:if(!t||!this.password||v.e(this.password)===t.value){e.next=22;break}throw m.a.newRxError("DB1",{passwordHash:v.e(this.password),existingPasswordHash:t.value});case 22:if(!this.multiInstance){e.next=27;break}return e.next=25,w.a.create(this);case 25:this.socket=e.sent,this._subs.push(this.socket.messages$.subscribe(function(e){return n.$emit(e)}));case 27:case"end":return e.stop()}},e,this,[[4,10],[13,18]])})),function(){return c.apply(this,arguments)}),e.prototype._spawnPouchDB=function(e,t){return R(this.name,this.adapter,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},this.pouchSettings)},e.prototype.waitForLeadership=(u=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.multiInstance){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",this.leaderElector.waitForLeadership());case 3:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)}),e.prototype.writeToSocket=function(e){return this.multiInstance&&!e.isIntern()&&this.socket?this.socket.write(e).then(function(){return!0}):Promise.resolve(!1)},e.prototype.$emit=function(e){e&&(this.subject.next(e),e.data.it===this.token&&this.writeToSocket(e))},e.prototype._collectionNamePrimary=function(e,t){return e+"-"+t.version},e.prototype.removeCollectionDoc=function(e,t){var n=this,r=this._collectionNamePrimary(e,t);return this._collectionsPouch.get(r).then(function(e){return n.lockedRun(function(){return n._collectionsPouch.remove(e)})})},e.prototype._removeAllOfCollection=(o=a()(i.a.mark(function e(t){var n,r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lockedRun(function(){return r._collectionsPouch.allDocs({include_docs:!0})});case 2:return n=e.sent.rows.map(function(e){return e.doc}).filter(function(e){return e._id.split("-")[0]===t}),e.next=6,Promise.all(n.map(function(e){return r.lockedRun(function(){return r._collectionsPouch.remove(e)})}));case 6:return e.abrupt("return",n.map(function(e){return e.version}));case 7:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),e.prototype.collection=(r=a()(i.a.mark(function e(t){var n,r,o,a,u,s,c=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=2;break}return e.abrupt("return",this.collections[t]);case 2:if(t.database=this,"_"!==t.name.charAt(0)){e.next=5;break}throw m.a.newRxError("DB2",{name:t.name});case 5:if(!this.collections[t.name]){e.next=7;break}throw m.a.newRxError("DB3",{name:t.name});case 7:if(t.schema){e.next=9;break}throw m.a.newRxError("DB4",{name:t.name,args:t});case 9:if(g.a.isInstanceOf(t.schema)||(t.schema=g.a.create(t.schema)),n=this._collectionNamePrimary(t.name,t.schema),!I().includes(t.name)){e.next=13;break}throw m.a.newRxError("DB5",{name:t.name});case 13:return r=t.schema.hash,o=null,e.prev=15,e.next=18,this.lockedRun(function(){return c._collectionsPouch.get(n)});case 18:o=e.sent,e.next=23;break;case 21:e.prev=21,e.t0=e.catch(15);case 23:if(!o||o.schemaHash===r){e.next=30;break}return a=this._spawnPouchDB(t.name,t.schema.version,t.pouchSettings),e.next=27,a.find({selector:{language:{$ne:"query"}},limit:1});case 27:if(0===e.sent.docs.length){e.next=30;break}throw m.a.newRxError("DB6",{name:t.name,previousSchemaHash:o.schemaHash,schemaHash:r});case 30:return e.next=32,b.a.create(t);case 32:if(u=e.sent,!(Object.keys(u.schema.encryptedPaths).length>0)||this.password){e.next=35;break}throw m.a.newRxError("DB7",{name:t.name});case 35:if(o){e.next=43;break}return e.prev=36,e.next=39,this.lockedRun(function(){return c._collectionsPouch.put({_id:n,schemaHash:r,schema:u.schema.normalized,version:u.schema.version})});case 39:e.next=43;break;case 41:e.prev=41,e.t1=e.catch(36);case 43:return(s=_.a.create("RxDatabase.collection",this)).data.v=u.name,s.data.col="_collections",this.$emit(s),this.collections[t.name]=u,this.__defineGetter__(t.name,function(){return c.collections[t.name]}),e.abrupt("return",u);case 50:case"end":return e.stop()}},e,this,[[15,21],[36,41]])})),function(e){return r.apply(this,arguments)}),e.prototype.removeCollection=(n=a()(i.a.mark(function e(t){var n,r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.collections[t]){e.next=3;break}return e.next=3,this.collections[t].destroy();case 3:return e.next=5,this._removeAllOfCollection(t);case 5:return n=e.sent.map(function(e){return r._spawnPouchDB(t,e)}),e.abrupt("return",Promise.all(n.map(function(e){return r.lockedRun(function(){return e.destroy()})})));case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)}),e.prototype.lockedRun=function(e){return this.idleQueue.wrapCall(e)},e.prototype.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},e.prototype.dump=function(){throw m.a.pluginMissing("json-dump")},e.prototype.importDump=function(){throw m.a.pluginMissing("json-dump")},e.prototype.server=function(){throw m.a.pluginMissing("server")},e.prototype.destroy=(t=a()(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(Object(O.d)("preDestroyRxDatabase",this),x--,this.destroyed=!0,e.t0=this.socket,!e.t0){e.next=9;break}return e.next=9,this.socket.destroy();case 9:if(!this._leaderElector){e.next=12;break}return e.next=12,this._leaderElector.destroy();case 12:return this._subs.map(function(e){return e.unsubscribe()}),e.next=15,Promise.all(Object.keys(this.collections).map(function(e){return t.collections[e]}).map(function(e){return e.destroy()}));case 15:L(this.name,this.adapter);case 16:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),e.prototype.remove=function(){var e=this;return this.destroy().then(function(){return U(e.name,e.adapter)})},f()(e,[{key:"_adminPouch",get:function(){return this.__adminPouch||(this.__adminPouch=C(this.name,this.adapter,this.pouchSettings)),this.__adminPouch}},{key:"_collectionsPouch",get:function(){return this.__collectionsPouch||(this.__collectionsPouch=M(this.name,this.adapter,this.pouchSettings)),this.__collectionsPouch}},{key:"leaderElector",get:function(){return this._leaderElector||(this._leaderElector=E.a.createLeaderElector(this)),this._leaderElector}},{key:"isLeader",get:function(){return!this.multiInstance||this.leaderElector.isLeader}},{key:"$",get:function(){return this.observable$}}]),e;var t,n,r,o,u,c}(),N=null;function I(){if(!N){var e=new j,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));N=[].concat(t,n)}return N}function A(e,t){if(!k[e])return!1;var n=!1;if(k[e].forEach(function(e){e===t&&(n=!0)}),n)throw m.a.newRxError("DB8",{name:e,adapter:t,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}function L(e,t){if(k[e]){var n=k[e].indexOf(t);k[e].splice(n,1)}}var D,P=(D=a()(i.a.mark(function e(t){var n,r=t.name,o=t.adapter,a=t.password,u=t.multiInstance,s=void 0===u||u,c=t.ignoreDuplicate,f=void 0!==c&&c,l=t.options,p=void 0===l?{}:l,d=t.pouchSettings,h=void 0===d?{}:d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v.r(r),"string"!=typeof o){e.next=6;break}if(y.a.adapters&&y.a.adapters[o]){e.next=4;break}throw m.a.newRxError("DB9",{adapter:o});case 4:e.next=9;break;case 6:if(v.f(o),y.a.adapters&&y.a.adapters.leveldb){e.next=9;break}throw m.a.newRxError("DB10",{adapter:o});case 9:return a&&E.a.validatePassword(a),f||A(r,o),k[r]||(k[r]=[]),k[r].push(o),n=new j(r,o,a,s,p,h),e.next=16,n.prepare();case 16:return Object(O.d)("createRxDatabase",n),e.abrupt("return",n);case 18:case"end":return e.stop()}},e,this)})),function(e){return D.apply(this,arguments)});function R(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a={location:e+"-rxdb-"+r+"-"+n,adapter:v.a(t),settings:i},u=Object.assign({},a.adapter,o);return Object(O.d)("preCreatePouchDb",a),new y.a(a.location,u,a.settings)}function C(e,t){return R(e,t,"_admin",0,{auto_compaction:!1,revs_limit:1},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function M(e,t){return R(e,t,"_collections",0,{auto_compaction:!1,revs_limit:1},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}var F,q,U=(F=a()(i.a.mark(function e(t,n){var r,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=C(t,n),o=R(t,n,"_socket",0),a=M(t,n),e.next=5,a.allDocs({include_docs:!0});case 5:return Promise.all(e.sent.rows.map(function(e){return e.id}).map(function(e){var r=e.split("-"),i=r[0],o=parseInt(r[1],10);return R(t,n,i,o).destroy()})),e.next=9,Promise.all([a.destroy(),r.destroy(),o.destroy()]);case 9:case"end":return e.stop()}},e,this)})),function(e,t){return F.apply(this,arguments)}),B=(q=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.checkAdapter(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return q.apply(this,arguments)});t.a={create:P,removeDatabase:U,checkAdapter:B,isInstanceOf:function(e){return e instanceof j},RxDatabase:j,RxSchema:g.a,dbCount:function(){return x}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(40),i=n(14).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(40);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(30),i=n(361),o=n(131),a=n(129)("IE_PROTO"),u=function(){},s=function(){var e,t=n(125)("iframe"),r=o.length;for(t.style.display="none",n(216).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[o[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(214),i=n(131);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(130)("keys"),i=n(92);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(14),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(89);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";n.d(t,"f",function(){return h}),n.d(t,"g",function(){return E}),n.d(t,"b",function(){return y}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"a",function(){return u}),n.d(t,"h",function(){return s});var r=n(11),i=n(68);function o(e,t){for(var n=e,r=0,i=t.length;r<i&&(n=n[t[r]]);r++);return n}function a(e,t,n){for(var r=0,i=t.length;r<i-1;r++)e=e[t[r]]={};e[t[i-1]]=n}function u(e,t){return e<t?-1:e>t?1:0}function s(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];"."===o?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=o}return t.push(n),t}var c=["$or","$nor","$not"];function f(e){return c.indexOf(e)>-1}function l(e){return Object.keys(e)[0]}function p(e){return e[l(e)]}function d(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),f(n))t[n]=r instanceof Array?r.map(function(e){return d([e])}):d([r]);else{var i=t[n]=t[n]||{};Object.keys(r).forEach(function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):"undefined"!=typeof n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(e,t,i):"$lt"===e||"$lte"===e?function(e,t,n){"undefined"==typeof n.$eq&&("undefined"!=typeof n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):"undefined"!=typeof n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(e,t,i):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,i):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,i):void(i[e]=t)})}})}),t}function h(e){var t=Object(r.e)(e),n=!1;"$and"in t&&(t=d(t.$and),n=!0),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],i=e[r];"object"==typeof i&&null!==i||(e[r]={$eq:i})}})}),"$not"in t&&(t.$not=d([t.$not]));for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o],u=t[a];"object"!=typeof u||null===u?u={$eq:u}:"$ne"in u&&!n&&(u.$ne=[u.$ne]),t[a]=u}return t}function y(e,t,n){if(e=e.filter(function(e){return v(e.doc,t.selector,n)}),t.sort){var r=function(e){function t(t){return e.map(function(e){var n=s(l(e));return o(t,n)})}return function(e,n){var r=t(e.doc),o=t(n.doc),a=Object(i.a)(r,o);return 0!==a?a:u(e.doc._id,n.doc._id)}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===p(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var a=t.skip||0;e=e.slice(a,("limit"in t?t.limit:e.length)+a)}return e}function v(e,t,n){return n.every(function(n){var r=t[n],i=s(n),a=o(e,i);return f(n)?function(e,t,n){return"$or"===e?t.some(function(e){return v(n,e,Object.keys(e))}):"$not"===e?!v(n,t,Object.keys(t)):!t.find(function(e){return v(n,e,Object.keys(e))})}(n,r,e):m(r,e,i,a)})}function m(e,t,n,r){return!e||Object.keys(e).every(function(i){return function(e,t,n,r,i){if(!w[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return w[e](t,n,r,i)}(i,t,e[i],n,r)})}function b(e){return"undefined"!=typeof e&&null!==e}function g(e){return"undefined"!=typeof e}function _(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}var w={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(e){return v(e,t,Object.keys(t))}:function(r){return m(t,e,n,r)})},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(e){return v(e,t,Object.keys(t))}:function(r){return m(t,e,n,r)})},$eq:function(e,t,n,r){return g(r)&&0===Object(i.a)(r,t)},$gte:function(e,t,n,r){return g(r)&&Object(i.a)(r,t)>=0},$gt:function(e,t,n,r){return g(r)&&Object(i.a)(r,t)>0},$lte:function(e,t,n,r){return g(r)&&Object(i.a)(r,t)<=0},$lt:function(e,t,n,r){return g(r)&&Object(i.a)(r,t)<0},$exists:function(e,t,n,r){return t?g(r):!g(r)},$mod:function(e,t,n,r){return b(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every(function(e){return 0!==Object(i.a)(r,e)})},$in:function(e,t,n,r){return b(r)&&_(r,t)},$nin:function(e,t,n,r){return b(r)&&!_(r,t)},$size:function(e,t,n,r){return b(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every(function(t){return e.indexOf(t)>-1})}(r,t)},$regex:function(e,t,n,r){return b(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function E(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=y([{doc:e}],{selector:t=h(t)},Object.keys(t));return n&&1===n.length}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=(r=n(225))&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){t.f=n(15)},function(e,t,n){var r=n(14),i=n(21),o=n(88),a=n(135),u=n(39).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(406)),i=a(n(410)),o=a(n(225));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r,i=n(96);function o(){try{return r.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}t.tryCatch=function(e){return r=e,o}},function(e,t,n){"use strict";var r=n(59).root.Symbol;t.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(492),i=n.n(r);function o(e){try{return JSON.parse(e)}catch(t){return i.a.parse(e)}}function a(e){try{return JSON.stringify(e)}catch(t){return i.a.stringify(e)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return b});var r=n(26),i=n(11),o=n(43),a=n(57),u=n(69),s=n(56),c=n(42);function f(e,t){var n={offset:t.skip};return r.a.all(t.keys.map(function(o){var a=Object(i.b)({key:o,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete a[e]}),new r.a(function(r,i){e._allDocs(a,function(e,a){if(e)return i(e);t.update_seq&&void 0!==a.update_seq&&(n.update_seq=a.update_seq),n.total_rows=a.total_rows,r(a.rows[0]||{key:o,error:"not_found"})})})})).then(function(e){return n.rows=e,n})}function l(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}n.d(t,"b",function(){return s.d}),n.d(t,"c",function(){return s.e});var p=l(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),d=l(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function h(e){if(!/^\d+-./.test(e))return Object(o.r)(o.f);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function y(e,t){var n,r,a,u={status:"available"};if(e._deleted&&(u.deleted=!0),t)if(e._id||(e._id=Object(i.y)()),r=Object(i.u)(),e._rev){if((a=h(e._rev)).error)return a;e._rev_tree=[{pos:a.prefix,ids:[a.id,{status:"missing"},[[r,u,[]]]]}],n=a.prefix+1}else e._rev_tree=[{pos:1,ids:[r,u,[]]}],n=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,a=r.length;o<a;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,u),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((a=h(e._rev)).error)return a;e._rev_tree=[{pos:n=a.prefix,ids:[r=a.id,u,[]]}]}Object(i.m)(e._id),e._rev=n+"-"+r;var s={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var f="_"===c[0];if(f&&!p[c]){var l=Object(o.r)(o.c,c);throw l.message=o.c.message+": "+c,l}f&&!d[c]?s.metadata[c.slice(1)]=e[c]:s.data[c]=e[c]}return s}function v(e,t,n){if(e.stub)return n();"string"==typeof e.data?function(e,t,n){var r=function(e){try{return Object(a.a)(e)}catch(e){return{error:Object(o.r)(o.a,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Object(a.c)(r,e.content_type):"base64"===t?Object(a.g)(r):r,Object(u.a)(r,function(t){e.digest="md5-"+t,n()})}(e,t,n):function(e,t,n){Object(u.a)(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Object(a.f)(e.data,function(t){e.data=t,n()}):"base64"===t?Object(a.e)(e.data,function(t){e.data=t,n()}):n()})}(e,t,n)}function m(e,t,n){if(!e.length)return n();var r,i=0;function o(){e.length===++i&&(r?n(r):n())}e.forEach(function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!n.length)return o();function a(e){r=e,++i===n.length&&o()}for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&v(e.data._attachments[u],t,a)})}function b(e,t,n,r,i,a,u,f,l){e=e||1e3;var p=f.new_edits,d=new c.a,h=0,v=t.length;function m(){++h===v&&l&&l()}t.forEach(function(e,t){if(e._id&&Object(s.e)(e._id))n[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:i},function(e,n){a[t]=e||n,m()});else{var r=e.metadata.id;d.has(r)?(v--,d.get(r).push([e,t])):d.set(r,[[e,t]])}}),d.forEach(function(t,n){var i=0;function c(){++i<t.length?l():m()}function l(){var l=t[i],d=l[0],h=l[1];if(r.has(n))!function(e,t,n,r,i,a,u,c){if(Object(s.h)(t.rev_tree,n.metadata.rev))return r[i]=n,a();var f=t.winningRev||Object(s.k)(t),l="deleted"in t?t.deleted:Object(s.d)(t,f),p="deleted"in n.metadata?n.metadata.deleted:Object(s.d)(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!p&&c&&d){var h=n.data;h._rev=f,h._id=n.metadata.id,n=y(h,c)}var v=Object(s.g)(t.rev_tree,n.metadata.rev_tree[0],e);if(c&&(l&&p&&"new_leaf"!==v.conflicts||!l&&"new_leaf"!==v.conflicts||l&&!p&&"new_branch"===v.conflicts)){var m=Object(o.r)(o.o);return r[i]=m,a()}var b=n.metadata.rev;n.metadata.rev_tree=v.tree,n.stemmedRevs=v.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Object(s.k)(n.metadata),_=Object(s.d)(n.metadata,g),w=l===_?0:l<_?-1:1;u(n,g,_,b===g?_:Object(s.d)(n.metadata,b),!0,w,i,a)}(e,r.get(n),d,a,h,c,u,p);else{var v=Object(s.g)([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=v.tree,d.stemmedRevs=v.stemmedRevs||[],function(e,t,n){var r=Object(s.k)(e.metadata),i=Object(s.d)(e.metadata,r);if("was_delete"in f&&i)return a[t]=Object(o.r)(o.h,"deleted"),n();if(p&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var c=Object(o.r)(o.o);return a[t]=c,n()}u(e,r,i,i,!1,i?0:1,t,n)}(d,h,c)}}l()})}},function(e,t,n){"use strict";(function(t,r){var i=n(101);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var a,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:i.nextTick;m.WritableState=v;var s=n(77);s.inherits=n(12);var c,f={deprecate:n(503)},l=n(254),p=n(102).Buffer,d=r.Uint8Array||function(){},h=n(255);function y(){}function v(e,t){a=a||n(51);var r=t instanceof a;this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var s=e.highWaterMark,c=e.writableHighWaterMark;this.highWaterMark=s||0===s?s:r&&(c||0===c)?c:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(O,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),O(e,t))}(e,n,r,t,o);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),r?u(g,e,n,a,o):g(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(e){if(a=a||n(51),!(c.call(m,this)||this instanceof a))return new m(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var a=0,u=!0;n;)r[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;r.allBuffers=u,b(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var s=n.chunk;if(b(e,t,!1,t.objectMode?1:s.length,s,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),O(e,t)})}function O(e,t){var n=w(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}s.inherits(m,l),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===m&&e&&e._writableState instanceof v}})):c=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,u=!o.objectMode&&(p.isBuffer(r=e)||r instanceof d);return u&&!p.isBuffer(e)&&(e=function(e){return p.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=y),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(u||function(e,t,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var u=t.objectMode?1:r.length;t.length+=u;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,u,r,i,o);return s}(this,o,u,e,t,n)),a},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=h.destroy,m.prototype._undestroy=h.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(6),n(7))},function(e,t,n){var r=n(506).create,i=r("LevelUPError"),o=r("NotFoundError",i);o.prototype.notFound=!0,o.prototype.status=404,e.exports={LevelUPError:i,InitializationError:r("InitializationError",i),OpenError:r("OpenError",i),ReadError:r("ReadError",i),WriteError:r("WriteError",i),NotFoundError:o,EncodingError:r("EncodingError",i)}},function(e,t,n){"use strict";e.exports=function(e){try{return{threw:!1,value:e.apply(this,function(e){var t=e.length>>>0,n=[],r=t-1;if(r<1)return n;n.length=r;for(var i=1;i<t;i+=1)n[i-1]=e[i];return n}(arguments))}}catch(e){return{threw:!0,value:e}}}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var r=n(149),i=n(33).RegExp,o=new i("^["+n(79).string2016+"]+"),a=new i("^["+n(79).string2018+"]+"),u="".replace,s=function(e){return u.call(r(e),a,"")};e.exports={trimLeft:s,trimLeft2016:function(e){return u.call(r(e),o,"")},trimLeft2018:s}},function(e,t,n){"use strict";var r=n(150),i=n(104);e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";var r=n(270);e.exports=function(e){if(r(e))throw new TypeError("Cannot call method on "+e);return e}},function(e,t,n){"use strict";var r=Object.prototype.toString;if("function"==typeof Symbol&&"symbol"==typeof Symbol()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,n){"use strict";var r=n(150),i=n(33).Object;e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";var r=n(78),i=n(271),o=n(104);e.exports=function(e){var t=i(e,String);return r&&"symbol"==typeof t?t:o(t)}},function(e,t,n){"use strict";e.exports=function(e){return e!=e}},function(e,t,n){const r=n(16),i=n(17).AbstractLevelDOWN,o=n(246)("leveldown").leveldown,a=n(540),u=n(541);function s(e){if(!(this instanceof s))return new s(e);i.call(this,e),this.binding=o(e)}r.inherits(s,i),s.prototype._open=function(e,t){this.binding.open(e,t)},s.prototype._close=function(e){this.binding.close(e)},s.prototype._put=function(e,t,n,r){this.binding.put(e,t,n,r)},s.prototype._get=function(e,t,n){this.binding.get(e,t,n)},s.prototype._del=function(e,t,n){this.binding.del(e,t,n)},s.prototype._chainedBatch=function(){return new a(this)},s.prototype._batch=function(e,t,n){return this.binding.batch(e,t,n)},s.prototype._approximateSize=function(e,t,n){this.binding.approximateSize(e,t,n)},s.prototype.compactRange=function(e,t,n){this.binding.compactRange(e,t,n)},s.prototype.getProperty=function(e){if("string"!=typeof e)throw new Error("getProperty() requires a valid `property` argument");return this.binding.getProperty(e)},s.prototype._iterator=function(e){return new u(this,e)},s.destroy=function(e,t){if(arguments.length<2)throw new Error("destroy() requires `location` and `callback` arguments");if("string"!=typeof e)throw new Error("destroy() requires a location string argument");if("function"!=typeof t)throw new Error("destroy() requires a callback function argument");o.destroy(e,t)},s.repair=function(e,t){if(arguments.length<2)throw new Error("repair() requires `location` and `callback` arguments");if("string"!=typeof e)throw new Error("repair() requires a location string argument");if("function"!=typeof t)throw new Error("repair() requires a callback function argument");o.repair(e,t)},e.exports=s.default=s},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=n(278)},function(e,t,n){"use strict";t.i=function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw new Error("illegal argument: "+i)}return e},n.d(t,"a",function(){return c}),t.e=function(e){return e.request.length<=1},t.g=f,n.d(t,"f",function(){return l}),t.d=function(e){return new o.a(function(t){e.then(function(e){t.next(e),t.complete()}).catch(t.error.bind(t))})},t.c=function(e){return new o.a(function(t){t.error(e)})},t.h=function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Object(i.a)(t.query):""),t},t.b=function(e,t){var n=s({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=s({},n,"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return s({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){return Object(a.print)(e.query)+"|"+JSON.stringify(e.variables)+"|"+e.operationName}(t)}}),t};var r,i=n(281),o=n(107),a=n(22),u=(n.n(a),this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return u(t,e),t}(Error);function f(e){var t=!1;return new Promise(function(n,r){e.subscribe({next:function(e){t?console.warn("Promise Wrapper does not support multiple results from Observable"):(t=!0,n(e))},error:r})})}var l=f},function(e,t,n){"use strict";function r(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new Error('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e});if(t.length>1)throw new Error("Ambiguous GraphQL document: contains "+t.length+" operations")}t.a=r,t.d=function(e){var t,n=(r(t=e),t.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]);if(!n)throw new Error("GraphQL document is missing an operation");return n},t.e=function(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null},t.c=function(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})},t.b=function(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t},n(159),n(108)},function(e,t,n){"use strict";t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){"undefined"!=typeof t&&null!==t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}},function(e,t,n){"use strict";t.a=function e(t){if(Array.isArray(t))return t.map(function(t){return e(t)});if(null!==t&&"object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperationAST=function(e,t){for(var n=null,i=0;i<e.definitions.length;i++){var o=e.definitions[i];if(o.kind===r.Kind.OPERATION_DEFINITION)if(t){if(o.name&&o.name.value===t)return o}else{if(n)return null;n=o}}return n};var r=n(3)},function(e,t,n){"use strict";var r=n(110);function i(){}var o={},a=["REJECTED"],u=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function f(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=h(function(){t(i,r)});"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===u||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==s?l(n,this.state===u?e:t,this.outcome):this.queue.push(new f(n,e,t)),n},f.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},f.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},f.prototype.callRejected=function(e){o.reject(this.promise,e)},f.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=h(p,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=u,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),u=0,s=-1,c=new this(i);++s<n;)f(e[s],s);return c;function f(e,i){t.resolve(e).then(function(e){a[i]=e,++u!==n||r||(r=!0,o.resolve(c,a))},function(e){r||(r=!0,o.reject(c,e))})}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r=-1,a=new this(i);++r<t;)this.resolve(e[r]).then(function(e){n||(n=!0,o.resolve(a,e))},function(e){n||(n=!0,o.reject(a,e))});return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueFromASTUntyped=function e(t,n){switch(t.kind){case o.Kind.NULL:return null;case o.Kind.INT:return parseInt(t.value,10);case o.Kind.FLOAT:return parseFloat(t.value);case o.Kind.STRING:case o.Kind.ENUM:case o.Kind.BOOLEAN:return t.value;case o.Kind.LIST:return t.values.map(function(t){return e(t,n)});case o.Kind.OBJECT:return(0,r.default)(t.fields,function(e){return e.name.value},function(t){return e(t.value,n)});case o.Kind.VARIABLE:var a=t.name.value;return n&&!(0,i.default)(n[a])?n[a]:void 0}throw new Error("Unexpected value kind: "+t.kind)};var r=a(n(81)),i=a(n(23)),o=n(3);function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=function(e){var t=[];if(e.nodes)e.nodes.forEach(function(e){e.loc&&t.push(i(e.loc.source,(0,r.getLocation)(e.loc.source,e.loc.start)))});else if(e.source&&e.locations){var n=e.source;e.locations.forEach(function(e){t.push(i(n,e))})}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"};var r=n(113);function i(e,t){var n=t.line,r=e.locationOffset.line-1,i=function(e,t){return 1===t.line?e.locationOffset.column-1:0}(e,t),u=n+r,s=t.column+i,c=(u-1).toString(),f=u.toString(),l=(u+1).toString(),p=l.length,d=e.body.split(/\r\n|[\n\r]/g);return d[0]=o(e.locationOffset.column-1)+d[0],[e.name+" ("+u+":"+s+")",n>=2&&a(p,c)+": "+d[n-2],a(p,f)+": "+d[n-1],o(2+p+s-1)+"^",n<d.length&&a(p,l)+": "+d[n]].filter(Boolean).join("\n")}function o(e){return Array(e+1).join(" ")}function a(e,t){return o(e-t.length)+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidName=function(e){var t=u(e);if(t)throw t;return e},t.isValidNameError=u;var r,i=n(36),o=(r=n(18))&&r.__esModule?r:{default:r},a=/^[_a-zA-Z][_a-zA-Z0-9]*$/;function u(e,t){return"string"!=typeof e&&(0,o.default)(0,"Expected string"),e.length>1&&"_"===e[0]&&"_"===e[1]?new i.GraphQLError('Name "'+e+'" must not begin with "__", which is reserved by GraphQL introspection.',t):a.test(e)?void 0:new i.GraphQLError('Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'+e+'" does not.',t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var r,i=(r=n(18))&&r.__esModule?r:{default:r};t.Source=function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.body=t,this.name=n||"GraphQL request",this.locationOffset=r||{line:1,column:1},this.locationOffset.line>0||(0,i.default)(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||(0,i.default)(0,"column in locationOffset is 1-indexed and must be positive")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locatedError=function(e,t,n){return e&&Array.isArray(e.path)?e:new r.GraphQLError(e&&e.message,e&&e.nodes||t,e&&e.source,e&&e.positions,n,e)};var r=n(36)},function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function i(e){return r(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,o=1;o<t.length;o++){var a=t[o],u=r(a);if(u<a.length&&(null===n||u<n)&&0===(n=u))break}if(n)for(var s=1;s<t.length;s++)t[s]=t[s].slice(n);for(;t.length>0&&i(t[0]);)t.shift();for(;t.length>0&&i(t[t.length-1]);)t.pop();return t.join("\n")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=function(e,t,n,c){return t||(0,r.default)(0,"Must provide document"),(0,o.assertValidSchema)(e),function(e,t,n,r){var o=new s.default(e,n,t),a=r.map(function(e){return e(o)});return(0,i.visit)(n,(0,i.visitWithTypeInfo)(t,(0,i.visitInParallel)(a))),o.getErrors()}(e,c||new a.TypeInfo(e),t,n||u.specifiedRules)};var r=c(n(18)),i=(n(0),n(47)),o=(n(13),n(80)),a=n(63),u=n(170),s=c(n(118));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifiedRules=void 0;var r=n(304),i=n(171),o=n(172),a=n(173),u=n(174),s=n(175),c=n(176),f=n(177),l=n(178),p=n(179),d=n(180),h=n(181),y=n(182),v=n(183),m=n(184),b=n(185),g=n(186),_=n(187),w=n(188),E=n(189),O=n(190),T=n(117),S=n(191),k=n(192),x=n(193),j=n(194),N=n(195);t.specifiedRules=[r.ExecutableDefinitions,i.UniqueOperationNames,o.LoneAnonymousOperation,a.SingleFieldSubscriptions,u.KnownTypeNames,s.FragmentsOnCompositeTypes,c.VariablesAreInputTypes,f.ScalarLeafs,l.FieldsOnCorrectType,p.UniqueFragmentNames,d.KnownFragmentNames,h.NoUnusedFragments,y.PossibleFragmentSpreads,v.NoFragmentCycles,m.UniqueVariableNames,b.NoUndefinedVariables,g.NoUnusedVariables,_.KnownDirectives,w.UniqueDirectivesPerLocation,E.KnownArgumentNames,O.UniqueArgumentNames,T.ValuesOfCorrectType,S.ProvidedNonNullArguments,k.VariablesDefaultValueAllowed,x.VariablesInAllowedPosition,j.OverlappingFieldsCanBeMerged,N.UniqueInputFieldNames]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateOperationNameMessage=i,t.UniqueOperationNames=function(e){var t=Object.create(null);return{OperationDefinition:function(n){var o=n.name;return o&&(t[o.value]?e.reportError(new r.GraphQLError(i(o.value),[t[o.value],o])):t[o.value]=o),!1},FragmentDefinition:function(){return!1}}};var r=n(0);function i(e){return'There can be only one operation named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anonOperationNotAloneMessage=function(){return"This anonymous operation must be the only defined operation."},t.LoneAnonymousOperation=function(e){var t=0;return{Document:function(e){t=e.definitions.filter(function(e){return e.kind===i.Kind.OPERATION_DEFINITION}).length},OperationDefinition:function(n){!n.name&&t>1&&e.reportError(new r.GraphQLError("This anonymous operation must be the only defined operation.",[n]))}}};var r=n(0),i=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.singleFieldOnlyMessage=i,t.SingleFieldSubscriptions=function(e){return{OperationDefinition:function(t){"subscription"===t.operation&&1!==t.selectionSet.selections.length&&e.reportError(new r.GraphQLError(i(t.name&&t.name.value),t.selectionSet.selections.slice(1)))}}};var r=n(0);function i(e){return(e?'Subscription "'+e+'" ':"Anonymous Subscription ")+"must select only one top level field."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownTypeMessage=u,t.KnownTypeNames=function(e){return{ObjectTypeDefinition:function(){return!1},InterfaceTypeDefinition:function(){return!1},UnionTypeDefinition:function(){return!1},InputObjectTypeDefinition:function(){return!1},NamedType:function(t){var n=e.getSchema(),o=t.name.value;n.getType(o)||e.reportError(new r.GraphQLError(u(o,(0,i.default)(o,Object.keys(n.getTypeMap()))),[t]))}}};var r=n(0),i=a(n(64)),o=a(n(115));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n='Unknown type "'+e+'".';return t.length&&(n+=" Did you mean "+(0,o.default)(t)+"?"),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inlineFragmentOnNonCompositeErrorMessage=u,t.fragmentOnNonCompositeErrorMessage=s,t.FragmentsOnCompositeTypes=function(e){return{InlineFragment:function(t){var n=t.typeCondition;if(n){var s=(0,a.typeFromAST)(e.getSchema(),n);s&&!(0,o.isCompositeType)(s)&&e.reportError(new r.GraphQLError(u((0,i.print)(n)),[n]))}},FragmentDefinition:function(t){var n=(0,a.typeFromAST)(e.getSchema(),t.typeCondition);n&&!(0,o.isCompositeType)(n)&&e.reportError(new r.GraphQLError(s(t.name.value,(0,i.print)(t.typeCondition)),[t.typeCondition]))}}};var r=n(0),i=n(22),o=n(1),a=n(28);function u(e){return'Fragment cannot condition on non composite type "'+String(e)+'".'}function s(e,t){return'Fragment "'+e+'" cannot condition on non composite type "'+String(t)+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonInputTypeOnVarMessage=u,t.VariablesAreInputTypes=function(e){return{VariableDefinition:function(t){var n=(0,a.typeFromAST)(e.getSchema(),t.type);n&&!(0,o.isInputType)(n)&&e.reportError(new r.GraphQLError(u(t.variable.name.value,(0,i.print)(t.type)),[t.type]))}}};var r=n(0),i=n(22),o=n(1),a=n(28);function u(e,t){return'Variable "$'+e+'" cannot be non-input type "'+t+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noSubselectionAllowedMessage=o,t.requiredSubselectionMessage=a,t.ScalarLeafs=function(e){return{Field:function(t){var n=e.getType(),u=t.selectionSet;n&&((0,i.isLeafType)((0,i.getNamedType)(n))?u&&e.reportError(new r.GraphQLError(o(t.name.value,n),[u])):u||e.reportError(new r.GraphQLError(a(t.name.value,n),[t])))}}};var r=n(0),i=n(1);function o(e,t){return'Field "'+e+'" must not have a selection since type "'+String(t)+'" has no subfields.'}function a(e,t){return'Field "'+e+'" of type "'+String(t)+'" must have a selection of subfields. Did you mean "'+e+' { ... }"?'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undefinedFieldMessage=s,t.FieldsOnCorrectType=function(e){return{Field:function(t){var n=e.getParentType();if(n&&!e.getFieldDef()){var o=e.getSchema(),u=t.name.value,c=function(e,t,n){if((0,a.isAbstractType)(t)){var r=[],i=Object.create(null);return e.getPossibleTypes(t).forEach(function(e){e.getFields()[n]&&(r.push(e.name),e.getInterfaces().forEach(function(e){e.getFields()[n]&&(i[e.name]=(i[e.name]||0)+1)}))}),Object.keys(i).sort(function(e,t){return i[t]-i[e]}).concat(r)}return[]}(o,n,u),f=0!==c.length?[]:function(e,t,n){if((0,a.isObjectType)(t)||(0,a.isInterfaceType)(t)){var r=Object.keys(t.getFields());return(0,i.default)(n,r)}return[]}(0,n,u);e.reportError(new r.GraphQLError(s(u,n.name,c,f),[t]))}}}};var r=n(0),i=u(n(64)),o=u(n(115)),a=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){var i='Cannot query field "'+e+'" on type "'+t+'".';return 0!==n.length?i+=" Did you mean to use an inline fragment on "+(0,o.default)(n)+"?":0!==r.length&&(i+=" Did you mean "+(0,o.default)(r)+"?"),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateFragmentNameMessage=i,t.UniqueFragmentNames=function(e){var t=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(n){var o=n.name.value;return t[o]?e.reportError(new r.GraphQLError(i(o),[t[o],n.name])):t[o]=n.name,!1}}};var r=n(0);function i(e){return'There can be only one fragment named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownFragmentMessage=i,t.KnownFragmentNames=function(e){return{FragmentSpread:function(t){var n=t.name.value;e.getFragment(n)||e.reportError(new r.GraphQLError(i(n),[t.name]))}}};var r=n(0);function i(e){return'Unknown fragment "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unusedFragMessage=i,t.NoUnusedFragments=function(e){var t=[],n=[];return{OperationDefinition:function(e){return t.push(e),!1},FragmentDefinition:function(e){return n.push(e),!1},Document:{leave:function(){var o=Object.create(null);t.forEach(function(t){e.getRecursivelyReferencedFragments(t).forEach(function(e){o[e.name.value]=!0})}),n.forEach(function(t){var n=t.name.value;!0!==o[n]&&e.reportError(new r.GraphQLError(i(n),[t]))})}}}};var r=n(0);function i(e){return'Fragment "'+e+'" is never used.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeIncompatibleSpreadMessage=u,t.typeIncompatibleAnonSpreadMessage=s,t.PossibleFragmentSpreads=function(e){return{InlineFragment:function(t){var n=e.getType(),o=e.getParentType();(0,a.isCompositeType)(n)&&(0,a.isCompositeType)(o)&&!(0,i.doTypesOverlap)(e.getSchema(),n,o)&&e.reportError(new r.GraphQLError(s(o,n),[t]))},FragmentSpread:function(t){var n=t.name.value,s=function(e,t){var r=e.getFragment(n);if(r){var i=(0,o.typeFromAST)(e.getSchema(),r.typeCondition);if((0,a.isCompositeType)(i))return i}}(e),c=e.getParentType();s&&c&&!(0,i.doTypesOverlap)(e.getSchema(),s,c)&&e.reportError(new r.GraphQLError(u(n,c,s),[t]))}}};var r=n(0),i=n(83),o=n(28),a=n(1);function u(e,t,n){return'Fragment "'+e+'" cannot be spread here as objects of type "'+String(t)+'" can never be of type "'+String(n)+'".'}function s(e,t){return'Fragment cannot be spread here as objects of type "'+String(e)+'" can never be of type "'+String(t)+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cycleErrorMessage=i,t.NoFragmentCycles=function(e){var t=Object.create(null),n=[],o=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(a){return t[a.name.value]||function a(u){var s=u.name.value;t[s]=!0;var c=e.getFragmentSpreads(u.selectionSet);if(0!==c.length){o[s]=n.length;for(var f=0;f<c.length;f++){var l=c[f],p=l.name.value,d=o[p];if(void 0===d){if(n.push(l),!t[p]){var h=e.getFragment(p);h&&a(h)}n.pop()}else{var y=n.slice(d);e.reportError(new r.GraphQLError(i(p,y.map(function(e){return e.name.value})),y.concat(l)))}}o[s]=void 0}}(a),!1}}};var r=n(0);function i(e,t){return'Cannot spread fragment "'+e+'" within itself'+(t.length?" via "+t.join(", "):"")+"."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateVariableMessage=i,t.UniqueVariableNames=function(e){var t=Object.create(null);return{OperationDefinition:function(){t=Object.create(null)},VariableDefinition:function(n){var o=n.variable.name.value;t[o]?e.reportError(new r.GraphQLError(i(o),[t[o],n.variable.name])):t[o]=n.variable.name}}};var r=n(0);function i(e){return'There can be only one variable named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undefinedVarMessage=i,t.NoUndefinedVariables=function(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){e.getRecursiveVariableUsages(n).forEach(function(o){var a=o.node,u=a.name.value;!0!==t[u]&&e.reportError(new r.GraphQLError(i(u,n.name&&n.name.value),[a,n]))})}},VariableDefinition:function(e){t[e.variable.name.value]=!0}}};var r=n(0);function i(e,t){return t?'Variable "$'+e+'" is not defined by operation "'+t+'".':'Variable "$'+e+'" is not defined.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unusedVariableMessage=i,t.NoUnusedVariables=function(e){var t=[];return{OperationDefinition:{enter:function(){t=[]},leave:function(n){var o=Object.create(null),a=e.getRecursiveVariableUsages(n),u=n.name?n.name.value:null;a.forEach(function(e){o[e.node.name.value]=!0}),t.forEach(function(t){var n=t.variable.name.value;!0!==o[n]&&e.reportError(new r.GraphQLError(i(n,u),[t]))})}},VariableDefinition:function(e){t.push(e)}}};var r=n(0);function i(e,t){return t?'Variable "$'+e+'" is never used in operation "'+t+'".':'Variable "$'+e+'" is never used.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownDirectiveMessage=s,t.misplacedDirectiveMessage=c,t.KnownDirectives=function(e){return{Directive:function(t,n,r,f,l){var p=(0,o.default)(e.getSchema().getDirectives(),function(e){return e.name===t.name.value});if(p){var d=function(e){var t=e[e.length-1];if(!Array.isArray(t))switch(t.kind){case a.Kind.OPERATION_DEFINITION:switch(t.operation){case"query":return u.DirectiveLocation.QUERY;case"mutation":return u.DirectiveLocation.MUTATION;case"subscription":return u.DirectiveLocation.SUBSCRIPTION}break;case a.Kind.FIELD:return u.DirectiveLocation.FIELD;case a.Kind.FRAGMENT_SPREAD:return u.DirectiveLocation.FRAGMENT_SPREAD;case a.Kind.INLINE_FRAGMENT:return u.DirectiveLocation.INLINE_FRAGMENT;case a.Kind.FRAGMENT_DEFINITION:return u.DirectiveLocation.FRAGMENT_DEFINITION;case a.Kind.SCHEMA_DEFINITION:return u.DirectiveLocation.SCHEMA;case a.Kind.SCALAR_TYPE_DEFINITION:case a.Kind.SCALAR_TYPE_EXTENSION:return u.DirectiveLocation.SCALAR;case a.Kind.OBJECT_TYPE_DEFINITION:case a.Kind.OBJECT_TYPE_EXTENSION:return u.DirectiveLocation.OBJECT;case a.Kind.FIELD_DEFINITION:return u.DirectiveLocation.FIELD_DEFINITION;case a.Kind.INTERFACE_TYPE_DEFINITION:case a.Kind.INTERFACE_TYPE_EXTENSION:return u.DirectiveLocation.INTERFACE;case a.Kind.UNION_TYPE_DEFINITION:case a.Kind.UNION_TYPE_EXTENSION:return u.DirectiveLocation.UNION;case a.Kind.ENUM_TYPE_DEFINITION:case a.Kind.ENUM_TYPE_EXTENSION:return u.DirectiveLocation.ENUM;case a.Kind.ENUM_VALUE_DEFINITION:return u.DirectiveLocation.ENUM_VALUE;case a.Kind.INPUT_OBJECT_TYPE_DEFINITION:case a.Kind.INPUT_OBJECT_TYPE_EXTENSION:return u.DirectiveLocation.INPUT_OBJECT;case a.Kind.INPUT_VALUE_DEFINITION:return e[e.length-3].kind===a.Kind.INPUT_OBJECT_TYPE_DEFINITION?u.DirectiveLocation.INPUT_FIELD_DEFINITION:u.DirectiveLocation.ARGUMENT_DEFINITION}}(l);d&&-1===p.locations.indexOf(d)&&e.reportError(new i.GraphQLError(c(t.name.value,d),[t]))}else e.reportError(new i.GraphQLError(s(t.name.value),[t]))}}};var r,i=n(0),o=(r=n(53))&&r.__esModule?r:{default:r},a=n(3),u=n(52);function s(e){return'Unknown directive "'+e+'".'}function c(e,t){return'Directive "'+e+'" may not be used on '+t+"."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateDirectiveMessage=i,t.UniqueDirectivesPerLocation=function(e){return{enter:function(t){var n=t.directives;if(n){var o=Object.create(null);n.forEach(function(t){var n=t.name.value;o[n]?e.reportError(new r.GraphQLError(i(n),[o[n],t])):o[n]=t})}}}};var r=n(0);function i(e){return'The directive "'+e+'" can only be used once at this location.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownArgMessage=s,t.unknownDirectiveArgMessage=c,t.KnownArgumentNames=function(e){return{Argument:function(t,n,o,u,f){if(!e.getArgument()){var l=f[f.length-1];if(l.kind===a.Kind.FIELD){var p=e.getFieldDef(),d=e.getParentType();p&&d&&e.reportError(new r.GraphQLError(s(t.name.value,p.name,d.name,(0,i.default)(t.name.value,p.args.map(function(e){return e.name}))),[t]))}else if(l.kind===a.Kind.DIRECTIVE){var h=e.getDirective();h&&e.reportError(new r.GraphQLError(c(t.name.value,h.name,(0,i.default)(t.name.value,h.args.map(function(e){return e.name}))),[t]))}}}}};var r=n(0),i=u(n(64)),o=u(n(115)),a=n(3);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){var i='Unknown argument "'+e+'" on field "'+t+'" of type "'+n+'".';return r.length&&(i+=" Did you mean "+(0,o.default)(r)+"?"),i}function c(e,t,n){var r='Unknown argument "'+e+'" on directive "@'+t+'".';return n.length&&(r+=" Did you mean "+(0,o.default)(n)+"?"),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateArgMessage=i,t.UniqueArgumentNames=function(e){var t=Object.create(null);return{Field:function(){t=Object.create(null)},Directive:function(){t=Object.create(null)},Argument:function(n){var o=n.name.value;return t[o]?e.reportError(new r.GraphQLError(i(o),[t[o],n.name])):t[o]=n.name,!1}}};var r=n(0);function i(e){return'There can be only one argument named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.missingFieldArgMessage=u,t.missingDirectiveArgMessage=s,t.ProvidedNonNullArguments=function(e){return{Field:{leave:function(t){var n=e.getFieldDef();if(!n)return!1;var r=(0,o.default)(t.arguments||[],function(e){return e.name.value});n.args.forEach(function(n){!r[n.name]&&(0,a.isNonNullType)(n.type)&&e.reportError(new i.GraphQLError(u(t.name.value,n.name,n.type),[t]))})}},Directive:{leave:function(t){var n=e.getDirective();if(!n)return!1;var r=(0,o.default)(t.arguments||[],function(e){return e.name.value});n.args.forEach(function(n){!r[n.name]&&(0,a.isNonNullType)(n.type)&&e.reportError(new i.GraphQLError(s(t.name.value,n.name,n.type),[t]))})}}}};var r,i=n(0),o=(r=n(37))&&r.__esModule?r:{default:r},a=n(1);function u(e,t,n){return'Field "'+e+'" argument "'+t+'" of type "'+String(n)+'" is required but not provided.'}function s(e,t,n){return'Directive "@'+e+'" argument "'+t+'" of type "'+String(n)+'" is required but not provided.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultForRequiredVarMessage=o,t.VariablesDefaultValueAllowed=function(e){return{VariableDefinition:function(t){var n=t.variable.name.value,a=t.defaultValue,u=e.getInputType();return(0,i.isNonNullType)(u)&&a&&e.reportError(new r.GraphQLError(o(n,u,u.ofType),[a])),!1},SelectionSet:function(){return!1},FragmentDefinition:function(){return!1}}};var r=n(0),i=n(1);function o(e,t,n){return'Variable "$'+e+'" of type "'+String(t)+'" is required and will not use the default value. Perhaps you meant to use type "'+String(n)+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.badVarPosMessage=u,t.VariablesInAllowedPosition=function(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){e.getRecursiveVariableUsages(n).forEach(function(n){var s=n.node,c=n.type,f=s.name.value,l=t[f];if(l&&c){var p=e.getSchema(),d=(0,a.typeFromAST)(p,l.type);d&&!(0,o.isTypeSubTypeOf)(p,function(e,t){return!t.defaultValue||(0,i.isNonNullType)(e)?e:(0,i.GraphQLNonNull)(e)}(d,l),c)&&e.reportError(new r.GraphQLError(u(f,d,c),[l,s]))}})}},VariableDefinition:function(e){t[e.variable.name.value]=e}}};var r=n(0),i=n(1),o=n(83),a=n(28);function u(e,t,n){return'Variable "$'+e+'" of type "'+String(t)+'" used in position expecting type "'+String(n)+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fieldsConflictMessage=f,t.OverlappingFieldsCanBeMerged=function(e){var t=new m,n=new Map;return{SelectionSet:function(r){(function(e,t,n,r,i){var o=[],a=y(e,t,r,i),u=a[0],s=a[1];if(function(e,t,n,r,i){Object.keys(i).forEach(function(o){var a=i[o];if(a.length>1)for(var u=0;u<a.length;u++)for(var s=u+1;s<a.length;s++){var c=h(e,n,r,!1,o,a[u],a[s]);c&&t.push(c)}})}(e,o,t,n,u),0!==s.length)for(var c=Object.create(null),f=0;f<s.length;f++){l(e,o,t,c,n,!1,u,s[f]);for(var d=f+1;d<s.length;d++)p(e,o,t,n,!1,s[f],s[d])}return o})(e,n,t,e.getParentType(),r).forEach(function(t){var n=t[0],r=t[1],o=t[2];return e.reportError(new i.GraphQLError(f(n[0],n[1]),r.concat(o)))})}}};var r,i=n(0),o=(r=n(53))&&r.__esModule?r:{default:r},a=n(3),u=n(22),s=n(1),c=n(28);function f(e,t){return'Fields "'+e+'" conflict because '+function e(t){return Array.isArray(t)?t.map(function(t){return'subfields "'+t[0]+'" conflict because '+e(t[1])}).join(" and "):t}(t)+". Use different aliases on the fields to fetch both if this was intentional."}function l(e,t,n,r,i,o,a,u){if(!r[u]){r[u]=!0;var s=e.getFragment(u);if(s){var c=v(e,n,s),f=c[0],p=c[1];if(a!==f){d(e,t,n,i,o,a,f);for(var h=0;h<p.length;h++)l(e,t,n,r,i,o,a,p[h])}}}}function p(e,t,n,r,i,o,a){if(o!==a&&!r.has(o,a,i)){r.add(o,a,i);var u=e.getFragment(o),s=e.getFragment(a);if(u&&s){var c=v(e,n,u),f=c[0],l=c[1],h=v(e,n,s),y=h[1];d(e,t,n,r,i,f,h[0]);for(var m=0;m<y.length;m++)p(e,t,n,r,i,o,y[m]);for(var b=0;b<l.length;b++)p(e,t,n,r,i,l[b],a)}}}function d(e,t,n,r,i,o,a){Object.keys(o).forEach(function(u){var s=a[u];if(s)for(var c=o[u],f=0;f<c.length;f++)for(var l=0;l<s.length;l++){var p=h(e,n,r,i,u,c[f],s[l]);p&&t.push(p)}})}function h(e,t,n,r,i,a,c){var f,h,v=a[0],m=a[1],b=a[2],g=c[0],_=c[1],w=c[2],E=r||v!==g&&(0,s.isObjectType)(v)&&(0,s.isObjectType)(g),O=b&&b.type,T=w&&w.type;if(!E){var S=m.name.value,k=_.name.value;if(S!==k)return[[i,S+" and "+k+" are different fields"],[m],[_]];if((f=m.arguments||[]).length!==(h=_.arguments||[]).length||!f.every(function(e){var t,n,r=(0,o.default)(h,function(t){return t.name.value===e.name.value});return!!r&&(n=r.value,!(t=e.value)&&!n||(0,u.print)(t)===(0,u.print)(n))}))return[[i,"they have differing arguments"],[m],[_]]}if(O&&T&&function e(t,n){return(0,s.isListType)(t)?!(0,s.isListType)(n)||e(t.ofType,n.ofType):!!(0,s.isListType)(n)||((0,s.isNonNullType)(t)?!(0,s.isNonNullType)(n)||e(t.ofType,n.ofType):!!(0,s.isNonNullType)(n)||!(!(0,s.isLeafType)(t)&&!(0,s.isLeafType)(n))&&t!==n)}(O,T))return[[i,"they return conflicting types "+String(O)+" and "+String(T)],[m],[_]];var x=m.selectionSet,j=_.selectionSet;return x&&j?function(e,t,n,r){if(e.length>0)return[[t,e.map(function(e){return e[0]})],e.reduce(function(e,t){return e.concat(t[1])},[n]),e.reduce(function(e,t){return e.concat(t[2])},[r])]}(function(e,t,n,r,i,o,a,u){var s=[],c=y(e,t,i,o),f=c[0],h=c[1],v=y(e,t,a,u),m=v[0],b=v[1];if(d(e,s,t,n,r,f,m),0!==b.length)for(var g=Object.create(null),_=0;_<b.length;_++)l(e,s,t,g,n,r,f,b[_]);if(0!==h.length)for(var w=Object.create(null),E=0;E<h.length;E++)l(e,s,t,w,n,r,m,h[E]);for(var O=0;O<h.length;O++)for(var T=0;T<b.length;T++)p(e,s,t,n,r,h[O],b[T]);return s}(e,t,n,E,(0,s.getNamedType)(O),x,(0,s.getNamedType)(T),j),i,m,_):void 0}function y(e,t,n,r){var i=t.get(r);if(!i){var o=Object.create(null),u=Object.create(null);!function e(t,n,r,i,o){for(var u=0;u<r.selections.length;u++){var f=r.selections[u];switch(f.kind){case a.Kind.FIELD:var l=f.name.value,p=void 0;((0,s.isObjectType)(n)||(0,s.isInterfaceType)(n))&&(p=n.getFields()[l]);var d=f.alias?f.alias.value:l;i[d]||(i[d]=[]),i[d].push([n,f,p]);break;case a.Kind.FRAGMENT_SPREAD:o[f.name.value]=!0;break;case a.Kind.INLINE_FRAGMENT:var h=f.typeCondition;e(t,h?(0,c.typeFromAST)(t.getSchema(),h):n,f.selectionSet,i,o)}}}(e,n,r,o,u),i=[o,Object.keys(u)],t.set(r,i)}return i}function v(e,t,n){return t.get(n.selectionSet)||y(e,t,(0,c.typeFromAST)(e.getSchema(),n.typeCondition),n.selectionSet)}var m=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._data=Object.create(null)}return e.prototype.has=function(e,t,n){var r=this._data[e],i=r&&r[t];return void 0!==i&&(!1!==n||!1===i)},e.prototype.add=function(e,t,n){b(this._data,e,t,n),b(this._data,t,e,n)},e}();function b(e,t,n,r){var i=e[t];i||(i=Object.create(null),e[t]=i),i[n]=r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateInputFieldMessage=i,t.UniqueInputFieldNames=function(e){var t=[],n=Object.create(null);return{ObjectValue:{enter:function(){t.push(n),n=Object.create(null)},leave:function(){n=t.pop()}},ObjectField:function(t){var o=t.name.value;return n[o]?e.reportError(new r.GraphQLError(i(o),[n[o],t.name])):n[o]=t.name,!1}}};var r=n(0);function i(e){return'There can be only one input field named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Boolean(e&&"function"==typeof e.then)}},function(e,t,n){"use strict";function r(e){var t=!(e&&!1===e.descriptions);return"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          "+(t?"description":"")+"\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      "+(t?"description":"")+"\n      fields(includeDeprecated: true) {\n        name\n        "+(t?"description":"")+"\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        "+(t?"description":"")+"\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      "+(t?"description":"")+"\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}Object.defineProperty(t,"__esModule",{value:!0}),t.getIntrospectionQuery=r,t.introspectionQuery=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASTDefinitionBuilder=void 0,t.buildASTSchema=m,t.getDescription=_,t.buildSchema=function(e,t){return m((0,s.parse)(e,t),t)};var r=v(n(37)),i=v(n(81)),o=n(86),a=v(n(168)),u=n(114),s=n(62),c=n(85),f=n(3),l=n(1),p=n(24),d=n(25),h=n(34),y=n(13);function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e||e.kind!==f.Kind.DOCUMENT)throw new Error("Must provide a document ast.");for(var n=void 0,r=[],i=Object.create(null),o=[],a=0;a<e.definitions.length;a++){var u=e.definitions[a];switch(u.kind){case f.Kind.SCHEMA_DEFINITION:if(n)throw new Error("Must provide only one schema definition.");n=u;break;case f.Kind.SCALAR_TYPE_DEFINITION:case f.Kind.OBJECT_TYPE_DEFINITION:case f.Kind.INTERFACE_TYPE_DEFINITION:case f.Kind.ENUM_TYPE_DEFINITION:case f.Kind.UNION_TYPE_DEFINITION:case f.Kind.INPUT_OBJECT_TYPE_DEFINITION:var s=u.name.value;if(i[s])throw new Error('Type "'+s+'" was defined more than once.');r.push(u),i[s]=u;break;case f.Kind.DIRECTIVE_DEFINITION:o.push(u)}}var c,l=n?(c={},n.operationTypes.forEach(function(e){var t=e.type.name.value,n=e.operation;if(c[n])throw new Error("Must provide only one "+n+" type in schema.");if(!i[t])throw new Error("Specified "+n+' type "'+t+'" not found in document.');c[n]=e.type}),c):{query:i.Query,mutation:i.Mutation,subscription:i.Subscription},d=new b(i,t,function(e){throw new Error('Type "'+e.name.value+'" not found in document.')}),h=d.buildTypes(r),v=o.map(function(e){return d.buildDirective(e)});return v.some(function(e){return"skip"===e.name})||v.push(p.GraphQLSkipDirective),v.some(function(e){return"include"===e.name})||v.push(p.GraphQLIncludeDirective),v.some(function(e){return"deprecated"===e.name})||v.push(p.GraphQLDeprecatedDirective),new y.GraphQLSchema({query:l.query?d.buildType(l.query):null,mutation:l.mutation?d.buildType(l.mutation):null,subscription:l.subscription?d.buildType(l.subscription):null,types:h,directives:v,astNode:n,assumeValid:t&&t.assumeValid,allowedLegacyNames:t&&t.allowedLegacyNames})}var b=t.ASTDefinitionBuilder=function(){function e(t,n,i){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._typeDefinitionsMap=t,this._options=n,this._resolveType=i,this._cache=(0,r.default)(h.specifiedScalarTypes.concat(d.introspectionTypes),function(e){return e.name})}return e.prototype.buildTypes=function(e){var t=this;return e.map(function(e){return t.buildType(e)})},e.prototype.buildType=function(e){var t=e.name.value;if(!this._cache[t])if(e.kind===f.Kind.NAMED_TYPE){var n=this._typeDefinitionsMap[t];this._cache[t]=n?this._makeSchemaDef(n):this._resolveType(e)}else this._cache[t]=this._makeSchemaDef(e);return this._cache[t]},e.prototype._buildWrappedType=function(e){return function e(t,n){if(n.kind===f.Kind.LIST_TYPE)return(0,l.GraphQLList)(e(t,n.type));if(n.kind===f.Kind.NON_NULL_TYPE){var r=e(t,n.type);return(0,l.GraphQLNonNull)((0,l.assertNullableType)(r))}return t}(this.buildType(function(e){for(var t=e;t.kind===f.Kind.LIST_TYPE||t.kind===f.Kind.NON_NULL_TYPE;)t=t.type;return t}(e)),e)},e.prototype.buildDirective=function(e){return new p.GraphQLDirective({name:e.name.value,description:_(e,this._options),locations:e.locations.map(function(e){return e.value}),args:e.arguments&&this._makeInputValues(e.arguments),astNode:e})},e.prototype.buildField=function(e){return{type:this._buildWrappedType(e.type),description:_(e,this._options),args:e.arguments&&this._makeInputValues(e.arguments),deprecationReason:g(e),astNode:e}},e.prototype._makeSchemaDef=function(e){switch(e.kind){case f.Kind.OBJECT_TYPE_DEFINITION:return this._makeTypeDef(e);case f.Kind.INTERFACE_TYPE_DEFINITION:return this._makeInterfaceDef(e);case f.Kind.ENUM_TYPE_DEFINITION:return this._makeEnumDef(e);case f.Kind.UNION_TYPE_DEFINITION:return this._makeUnionDef(e);case f.Kind.SCALAR_TYPE_DEFINITION:return this._makeScalarDef(e);case f.Kind.INPUT_OBJECT_TYPE_DEFINITION:return this._makeInputObjectDef(e);default:throw new Error('Type kind "'+e.kind+'" not supported.')}},e.prototype._makeTypeDef=function(e){var t=this,n=e.interfaces;return new l.GraphQLObjectType({name:e.name.value,description:_(e,this._options),fields:function(){return t._makeFieldDefMap(e)},interfaces:n?function(){return t.buildTypes(n)}:[],astNode:e})},e.prototype._makeFieldDefMap=function(e){var t=this;return e.fields?(0,i.default)(e.fields,function(e){return e.name.value},function(e){return t.buildField(e)}):{}},e.prototype._makeInputValues=function(e){var t=this;return(0,i.default)(e,function(e){return e.name.value},function(e){var n=t._buildWrappedType(e.type);return{type:n,description:_(e,t._options),defaultValue:(0,o.valueFromAST)(e.defaultValue,n),astNode:e}})},e.prototype._makeInterfaceDef=function(e){var t=this;return new l.GraphQLInterfaceType({name:e.name.value,description:_(e,this._options),fields:function(){return t._makeFieldDefMap(e)},astNode:e})},e.prototype._makeEnumDef=function(e){var t=this;return new l.GraphQLEnumType({name:e.name.value,description:_(e,this._options),values:e.values?(0,i.default)(e.values,function(e){return e.name.value},function(e){return{description:_(e,t._options),deprecationReason:g(e),astNode:e}}):{},astNode:e})},e.prototype._makeUnionDef=function(e){return new l.GraphQLUnionType({name:e.name.value,description:_(e,this._options),types:e.types?this.buildTypes(e.types):[],astNode:e})},e.prototype._makeScalarDef=function(e){return new l.GraphQLScalarType({name:e.name.value,description:_(e,this._options),astNode:e,serialize:function(e){return e}})},e.prototype._makeInputObjectDef=function(e){var t=this;return new l.GraphQLInputObjectType({name:e.name.value,description:_(e,this._options),fields:function(){return e.fields?t._makeInputValues(e.fields):{}},astNode:e})},e}();function g(e){var t=(0,c.getDirectiveValues)(p.GraphQLDeprecatedDirective,e);return t&&t.reason}function _(e,t){if(e.description)return e.description.value;if(t&&t.commentDescriptions){var n=function(e){var t=e.loc;if(t){for(var n=[],r=t.startToken.prev;r&&r.kind===u.TokenKind.COMMENT&&r.next&&r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){var i=String(r.value);n.push(i),r=r.prev}return n.reverse().join("\n")}}(e);if(void 0!==n)return(0,a.default)("\n"+n)}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),a=n(85),u=Object.prototype.hasOwnProperty,s=function(){function e(){}return e.implementsVisitorMethod=function(t){if(!t.startsWith("visit"))return!1;var n=this.prototype[t];return"function"==typeof n&&(this===e||n!==e.prototype[t])},e.prototype.visitSchema=function(e){},e.prototype.visitScalar=function(e){},e.prototype.visitObject=function(e){},e.prototype.visitFieldDefinition=function(e,t){},e.prototype.visitArgumentDefinition=function(e,t){},e.prototype.visitInterface=function(e){},e.prototype.visitUnion=function(e){},e.prototype.visitEnum=function(e){},e.prototype.visitEnumValue=function(e,t){},e.prototype.visitInputObject=function(e){},e.prototype.visitInputFieldDefinition=function(e,t){},e}();function c(e,t){function n(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t(n,e).every(function(t){var i=t[e].apply(t,[n].concat(r));if("undefined"==typeof i)return!0;if("visitSchema"===e||n instanceof o.GraphQLSchema)throw new Error("Method "+e+" cannot replace schema with "+i);if(null===i)return n=null,!1;n=i}),n}function r(e){p(e.getFields(),function(t){var r=n("visitFieldDefinition",t,{objectType:e});return r&&r.args&&p(r.args,function(t){return n("visitArgumentDefinition",t,{field:r,objectType:e})}),r})}return function e(t){if(t instanceof o.GraphQLSchema)return n("visitSchema",t),p(t.getTypeMap(),function(t,n){if(!n.startsWith("__"))return e(t)}),t;if(t instanceof o.GraphQLObjectType){var i=n("visitObject",t);return i&&r(i),i}if(t instanceof o.GraphQLInterfaceType){var a=n("visitInterface",t);return a&&r(a),a}if(t instanceof o.GraphQLInputObjectType){var u=n("visitInputObject",t);return u&&p(u.getFields(),function(e){return n("visitInputFieldDefinition",e,{objectType:u})}),u}if(t instanceof o.GraphQLScalarType)return n("visitScalar",t);if(t instanceof o.GraphQLUnionType)return n("visitUnion",t);if(t instanceof o.GraphQLEnumType){var s=n("visitEnum",t);return s&&p(s.getValues(),function(e){return n("visitEnumValue",e,{enumType:s})}),s}throw new Error("Unexpected schema type: "+t)}(e),e}function f(e){return function e(r){if(r instanceof o.GraphQLSchema){var i=r.getTypeMap(),a=Object.create(null);l(i,function(e,t){if(!t.startsWith("__")){var n=e.name;if(!n.startsWith("__")){if(u.call(a,n))throw new Error("Duplicate schema type name "+n);a[n]=e}}}),l(a,function(e,t){i[t]=e}),l(r.getDirectives(),function(e){e.args&&l(e.args,function(e){e.type=n(e.type)})}),l(i,function(t,n){n.startsWith("__")||e(t)}),p(i,function(e,t){if(!t.startsWith("__")&&!u.call(a,t))return null})}else if(r instanceof o.GraphQLObjectType)t(r),l(r.getInterfaces(),function(t){return e(t)});else if(r instanceof o.GraphQLInterfaceType)t(r);else if(r instanceof o.GraphQLInputObjectType)l(r.getFields(),function(e){e.type=n(e.type)});else if(r instanceof o.GraphQLScalarType);else if(r instanceof o.GraphQLUnionType)p(r.getTypes(),function(e){return n(e)});else if(!(r instanceof o.GraphQLEnumType))throw new Error("Unexpected schema type: "+r)}(e),e;function t(e){l(e.getFields(),function(e){e.type=n(e.type),e.args&&l(e.args,function(e){e.type=n(e.type)})})}function n(t){if(t instanceof o.GraphQLList||t instanceof o.GraphQLNonNull)t.ofType=n(t.ofType);else if(o.isNamedType(t)){var r=t,i=e.getType(r.name);if(i&&r!==i)return i}return t}}function l(e,t){Object.keys(e).forEach(function(n){t(e[n],n)})}function p(e,t){var n=0;Object.keys(e).forEach(function(r){var i=t(e[r],r);if("undefined"!=typeof i)return null===i?(delete e[r],void n++):void(e[r]=i)}),n>0&&Array.isArray(e)&&e.splice(0).forEach(function(t){e.push(t)})}function d(e){switch(e.kind){case o.Kind.NULL:return null;case o.Kind.INT:return parseInt(e.value,10);case o.Kind.FLOAT:return parseFloat(e.value);case o.Kind.STRING:case o.Kind.ENUM:case o.Kind.BOOLEAN:return e.value;case o.Kind.LIST:return e.values.map(d);case o.Kind.OBJECT:var t=Object.create(null);return e.fields.forEach(function(e){t[e.name.value]=d(e.value)}),t;default:throw new Error("Unexpected value kind: "+e.kind)}}t.SchemaVisitor=s,t.visitSchema=c,t.healSchema=f,t.SchemaDirectiveVisitor=function(e){function t(t){var n=e.call(this)||this;return n.name=t.name,n.args=t.args,n.visitedType=t.visitedType,n.schema=t.schema,n.context=t.context,n}return i(t,e),t.getDirectiveDeclaration=function(e,t){return t.getDirective(e)},t.visitSchemaDirectives=function(e,t,n){void 0===n&&(n=Object.create(null));var r=this.getDeclaredDirectives(e,t),i=Object.create(null);return Object.keys(t).forEach(function(e){i[e]=[]}),c(e,function(o,s){var c=[],f=o.astNode&&o.astNode.directives;return f?(f.forEach(function(i){var f=i.name.value;if(u.call(t,f)){var l=t[f];if(l.implementsVisitorMethod(s)){var p,h=r[f];h?p=a.getArgumentValues(h,i):(p=Object.create(null),i.arguments.forEach(function(e){p[e.name.value]=d(e.value)})),c.push(new l({name:f,args:p,visitedType:o,schema:e,context:n}))}}}),c.length>0&&c.forEach(function(e){i[e.name].push(e)}),c):c}),f(e),i},t.getDeclaredDirectives=function(e,t){var n=Object.create(null);return l(e.getDirectives(),function(e){n[e.name]=e}),l(t,function(t,r){var i=t.getDirectiveDeclaration(r,e);i&&(n[r]=i)}),l(n,function(e,n){if(u.call(t,n)){var r=t[n];l(e.locations,function(e){var t=function(e){return"visit"+e.replace(/([^_]*)_?/g,function(e,t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})}(e);if(s.implementsVisitorMethod(t)&&!r.implementsVisitorMethod(t))throw new Error("SchemaDirectiveVisitor for @"+n+" must implement "+t+" method")})}}),n},t}(s)},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){var i=Object.assign({},t);return r(t)&&r(n)&&Object.keys(n).forEach(function(o){var a,u;r(n[o])?o in t?i[o]=e(t[o],n[o]):Object.assign(i,((a={})[o]=n[o],a)):Object.assign(i,((u={})[o]=n[o],u))}),i}},function(e,t,n){var r=n(333),i=n(334),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(106),i=n(106);t.execute=i.execute,t.default=function(e){return function(t){return r.makePromise(r.execute(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!0;for(var t in e)if(Object.hasOwnProperty.call(e,t))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(0),o=n(121);t.default=function(e,t,n,a){var u=a.fieldNodes[0].alias?a.fieldNodes[0].alias.value:a.fieldName,s=o.getErrorsFromParent(e,u);if("OWN"===s.kind)throw i.locatedError(new Error(s.error.message),a.fieldNodes,r.responsePathAsArray(a.path));if(e){var c=e[u];return!c&&e.data&&e.data[u]&&(c=e.data[u]),s.errors&&(c=o.annotateWithChildrenErrors(c,s.errors)),c}return null}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),u=n(121);function s(e,t,n,r,i,o,u,s){var f=n.getFields()[r],l=[],h={kind:a.Kind.SELECTION_SET,selections:o.map(function(e){if(e.kind===a.Kind.FIELD){var t=function(e,t,n){var r=e.arguments||[],i=r.map(function(e){return e.name.value}),o=n.args.map(function(e){return e.name}),u=d(o,i),s=d(i,o),c=r.filter(function(e){return-1===s.indexOf(e.name.value)}),f=[],l=u.map(function(e){var t="_"+e;return f.push({arg:e,variable:t}),{kind:a.Kind.ARGUMENT,name:{kind:a.Kind.NAME,value:e},value:{kind:a.Kind.VARIABLE,name:{kind:a.Kind.NAME,value:t}}}});return{selection:{kind:a.Kind.FIELD,alias:null,arguments:c.concat(l),selectionSet:e.selectionSet,name:{kind:a.Kind.NAME,value:t}},variables:f}}(e,r,f),n=t.selection;return l.push.apply(l,t.variables),n}return e})},y=[];l.forEach(function(e){var t=e.arg,n=e.variable;if(!y.find(function(e){return e.variable.name.value===n})){var r=f.args.find(function(e){return e.name===t});if(!r)throw new Error("Unexpected missing arg");var i=function e(t){if(t instanceof a.GraphQLNonNull){var n=e(t.ofType);if(n.kind===a.Kind.LIST_TYPE||n.kind===a.Kind.NAMED_TYPE)return{kind:a.Kind.NON_NULL_TYPE,type:n};throw new Error("Incorrent inner non-null type")}return t instanceof a.GraphQLList?{kind:a.Kind.LIST_TYPE,type:e(t.ofType)}:{kind:a.Kind.NAMED_TYPE,name:{kind:a.Kind.NAME,value:t.toString()}}}(r.type);y.push({kind:a.Kind.VARIABLE_DEFINITION,variable:{kind:a.Kind.VARIABLE,name:{kind:a.Kind.NAME,value:n}},type:i})}});var v=function(e,t,n,r,i){var o=[];Object.keys(i).forEach(function(t){var n=i[t];e.getType(n.typeCondition.name.value)&&o.push(n)});for(var u=c(e,t,n,r,o),s=u.selectionSet,f=u.usedFragments,l=u.usedVariables,d={};f.length>0;){var h=f.pop();if(!d[h]){var y=i[h];if(!h)throw new Error("Could not find fragment "+h);var v=e.getType(y.typeCondition.name.value);if(v){var m=c(e,t,v,y.selectionSet,o),b=m.selectionSet,g=m.usedVariables;f=p(f,m.usedFragments),l=p(l,g),d[h]={kind:a.Kind.FRAGMENT_DEFINITION,name:{kind:a.Kind.NAME,value:h},typeCondition:y.typeCondition,selectionSet:b}}}}return{selectionSet:s,fragments:Object.keys(d).map(function(e){return d[e]}),usedVariables:l}}(e,t,n,h,u),m=v.selectionSet,b=v.fragments,g=v.usedVariables,_={kind:a.Kind.OPERATION_DEFINITION,operation:i,variableDefinitions:(s||[]).filter(function(e){return-1!==g.indexOf(e.variable.name.value)}).concat(y),selectionSet:m};return{kind:a.Kind.DOCUMENT,definitions:[_].concat(b)}}function c(e,t,n,i,o){var u,s=[],c=[],p=[n];return{selectionSet:a.visit(i,((u={})[a.Kind.FIELD]={enter:function(e){var t=f(p[p.length-1]);if(t instanceof a.GraphQLObjectType||t instanceof a.GraphQLInterfaceType){var n=t.getFields(),r="__typename"===e.name.value?a.TypeNameMetaFieldDef:n[e.name.value];if(!r)return null;p.push(r.type)}else t instanceof a.GraphQLUnionType&&"__typename"===e.name.value&&p.push(a.TypeNameMetaFieldDef.type)},leave:function(){p.pop()}},u[a.Kind.SELECTION_SET]=function(e){var n=f(p[p.length-1]),i=n.name,o=e.selections;if((n instanceof a.GraphQLInterfaceType||n instanceof a.GraphQLUnionType)&&!o.find(function(e){return e.kind===a.Kind.FIELD&&"__typename"===e.name.value})&&(o=o.concat({kind:a.Kind.FIELD,name:{kind:a.Kind.NAME,value:"__typename"}})),t[i]&&o.forEach(function(e){if(e.kind===a.Kind.FIELD){var n=t[i][e.name.value];n&&(o=o.concat(n))}}),o!==e.selections)return r({},e,{selections:o})},u[a.Kind.FRAGMENT_SPREAD]=function(t){var n=o.filter(function(e){return e.name.value===t.name.value})[0];if(!n)return null;if(n.typeCondition){var r=e.getType(n.typeCondition.name.value);if(!l(f(p[p.length-1]),r))return null}s.push(t.name.value)},u[a.Kind.INLINE_FRAGMENT]={enter:function(t){if(t.typeCondition){var n=e.getType(t.typeCondition.name.value);if(!l(f(p[p.length-1]),n))return null;p.push(n)}},leave:function(t){if(t.typeCondition){if(!e.getType(t.typeCondition.name.value))return null;p.pop()}}},u[a.Kind.VARIABLE]=function(e){c.push(e.name.value)},u)),usedFragments:s,usedVariables:c}}function f(e){for(var t=e;t instanceof a.GraphQLNonNull||t instanceof a.GraphQLList;)t=t.ofType;return t}function l(e,t,n){return void 0===n&&(n=!1),e===t||(e instanceof a.GraphQLInterfaceType&&t instanceof a.GraphQLObjectType?-1!==t.getInterfaces().indexOf(e):e instanceof a.GraphQLInterfaceType&&t instanceof a.GraphQLInterfaceType||(e instanceof a.GraphQLUnionType&&t instanceof a.GraphQLObjectType?-1!==e.getTypes().indexOf(t):e instanceof a.GraphQLObjectType&&!n&&l(t,e,!0)))}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={},r=[];return e.forEach(function(e){e.forEach(function(e){n[e]||(n[e]=!0,r.push(e))})}),r}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};return t.forEach(function(e){e.forEach(function(e){r[e]=!0})}),e.filter(function(e){return!r[e]})}t.default=function(e,t,n,r,c,f,l){return i(this,void 0,void 0,function(){var i,p,d,h,y,v,m,b,g,_;return o(this,function(o){switch(o.label){case 0:if(!(i="mutation"===n?e.getMutationType():"subscription"===n?e.getSubscriptionType():e.getQueryType()))return[3,3];if(p=s(e,t,i,r,n,l.fieldNodes,l.fragments,l.operation.variableDefinitions),(d=a.validate(e,p)).length>0)throw d;if(h=p.definitions.find(function(e){return e.kind===a.Kind.OPERATION_DEFINITION}),y={},h&&h.kind===a.Kind.OPERATION_DEFINITION&&h.variableDefinitions&&Array.isArray(h.variableDefinitions))for(v=0,m=h.variableDefinitions;v<m.length;v++)g=(b=m[v].variable.name.value).startsWith("_")?b.slice(1):b,y[b]=null!=c[g]?c[g]:l.variableValues[b];return"query"!==n&&"mutation"!==n?[3,2]:[4,a.execute(e,p,l.rootValue,f,y)];case 1:return _=o.sent(),[2,u.checkResultAndHandleErrors(_,l,r)];case 2:if("subscription"===n)return[2,a.subscribe(e,p,l.rootValue,f,y)];o.label=3;case 3:throw new Error("Could not forward to merged schema")}})})},t.createDocument=s},function(e,t,n){"use strict";var r=n(122),i=n(61),o=n(72),a=n(99),u=n(58),s=n(235),c=n(442),f=n(55);t.a={create:r.a.create,removeDatabase:r.a.removeDatabase,checkAdapter:r.a.checkAdapter,plugin:c.a.addPlugin,dbCount:r.a.dbCount,isRxDatabase:r.a.isInstanceOf,isRxCollection:u.a.isInstanceOf,isRxDocument:o.a.isInstanceOf,isRxQuery:a.a.isInstanceOf,isRxSchema:i.a.isInstanceOf,RxSchema:i.a,PouchDB:f.a,QueryChangeDetector:s.a,RxDatabase:r.a}},function(e,t){},function(e,t,n){"use strict";var r=n(359)(!0);n(211)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(88),i=n(38),o=n(213),a=n(48),u=n(66),s=n(360),c=n(93),f=n(365),l=n(15)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,h,y,v,m){s(n,t,h);var b,g,_,w=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",O="values"==y,T=!1,S=e.prototype,k=S[l]||S["@@iterator"]||y&&S[y],x=k||w(y),j=y?O?w("entries"):x:void 0,N="Array"==t&&S.entries||k;if(N&&(_=f(N.call(new e)))!==Object.prototype&&_.next&&(c(_,E,!0),r||"function"==typeof _[l]||a(_,l,d)),O&&k&&"values"!==k.name&&(T=!0,x=function(){return k.call(this)}),r&&!m||!p&&!T&&S[l]||a(S,l,x),u[t]=x,u[E]=d,y)if(b={values:O?x:w("values"),keys:v?x:w("keys"),entries:j},m)for(g in b)g in S||o(S,g,b[g]);else i(i.P+i.F*(p||T),t,b);return b}},function(e,t,n){e.exports=!n(41)&&!n(90)(function(){return 7!=Object.defineProperty(n(125)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(48)},function(e,t,n){var r=n(49),i=n(54),o=n(363)(!1),a=n(129)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(123),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(14).document;e.exports=r&&r.documentElement},function(e,t,n){n(367);for(var r=n(14),i=n(48),o=n(66),a=n(15)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],f=r[c],l=f&&f.prototype;l&&!l[a]&&i(l,a,c),o[c]=o.Array}},function(e,t,n){var r=n(67),i=n(15)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(30),i=n(89),o=n(15)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(65),u=n(376),s=n(216),c=n(125),f=n(14),l=f.process,p=f.setImmediate,d=f.clearImmediate,h=f.MessageChannel,y=f.Dispatch,v=0,m={},b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},g=function(e){b.call(e.data)};p&&d||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){u("function"==typeof e?e:Function(e),t)},r(v),v},d=function(e){delete m[e]},"process"==n(67)(l)?r=function(e){l.nextTick(a(b,e,1))}:y&&y.now?r=function(e){y.now(a(b,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=g,r=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:p,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(30),i=n(40),o=n(132);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){!function(t){var n=function(e,t){return isNaN(t)?void 0:t<1?void 0:function(e,t){for(var n,r="",i=e.length;t--;)r+=e[(n=i,Math.floor(Math.random()*n))];return r}(e,t)};function r(e){var t=n.bind(n,e="string"==typeof e&&e.length>0?e:"abcdefghijklmnopqrstuvwxzy0123456789");return t.salt=function(){return e},t.create=r,t.gen=r,t}n.gen=r,e.exports=r()}()},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,a,u,s,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(f,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(f,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,o[14]=u,o[15]=s,n(f,o),f}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}return u(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,i,o,a,u=this.byteLength,s=e(t,u),c=u;return void 0!==n&&(c=e(n,u)),s>c?new ArrayBuffer(0):(r=c-s,i=new ArrayBuffer(r),o=new Uint8Array(i),a=new Uint8Array(this,s,r),o.set(a),i)}}(),f.prototype.append=function(e){return this.appendBinary(s(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=u(this._hash),e&&(n=c(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var r,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},f.hash=function(e,t){return f.hashBinary(s(e),t)},f.hashBinary=function(e,t){var n=u(o(e));return t?c(n):n},(f.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,r,o,a,u=(r=this._buff.buffer,o=e,(a=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),a.set(new Uint8Array(o),r.byteLength),a),s=u.length;for(this._length+=e.byteLength,t=64;t<=s;t+=64)n(this._hash,i(u.subarray(t-64,t)));return this._buff=t-64<s?new Uint8Array(u.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=u(this._hash),e&&(n=c(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e=f.prototype.getState.call(this);return e.buff=String.fromCharCode.apply(null,new Uint8Array(e.buff)),e},f.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return o}(e.buff),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var r=u(function(e){var t,r,o,a,u,s,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(f,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(f,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,o[14]=u,o[15]=s,n(f,o),f}(new Uint8Array(e)));return t?c(r):r},f}()},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(395)),i=a(n(397)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return"undefined"==typeof e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":"undefined"==typeof e?"undefined":o(e)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(214),i=n(131).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(137),i=n(91),o=n(54),a=n(126),u=n(49),s=n(212),c=Object.getOwnPropertyDescriptor;t.f=n(41)?c:function(e,t){if(e=o(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(e){n=function(){}}try{r=Set}catch(e){r=function(){}}try{i=Promise}catch(e){i=function(){}}function o(a,s,c,f,l){"object"==typeof s&&(c=s.depth,f=s.prototype,l=s.includeNonEnumerable,s=s.circular);var p=[],d=[],h="undefined"!=typeof t;return"undefined"==typeof s&&(s=!0),"undefined"==typeof c&&(c=1/0),function a(c,y){if(null===c)return null;if(0===y)return c;var v,m;if("object"!=typeof c)return c;if(e(c,n))v=new n;else if(e(c,r))v=new r;else if(e(c,i))v=new i(function(e,t){c.then(function(t){e(a(t,y-1))},function(e){t(a(e,y-1))})});else if(o.__isArray(c))v=[];else if(o.__isRegExp(c))v=new RegExp(c.source,u(c)),c.lastIndex&&(v.lastIndex=c.lastIndex);else if(o.__isDate(c))v=new Date(c.getTime());else{if(h&&t.isBuffer(c))return v=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(v),v;e(c,Error)?v=Object.create(c):"undefined"==typeof f?(m=Object.getPrototypeOf(c),v=Object.create(m)):(v=Object.create(f),m=f)}if(s){var b=p.indexOf(c);if(-1!=b)return d[b];p.push(c),d.push(v)}for(var g in e(c,n)&&c.forEach(function(e,t){var n=a(t,y-1),r=a(e,y-1);v.set(n,r)}),e(c,r)&&c.forEach(function(e){var t=a(e,y-1);v.add(t)}),c){var _;m&&(_=Object.getOwnPropertyDescriptor(m,g)),_&&null==_.set||(v[g]=a(c[g],y-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);for(g=0;g<w.length;g++){var E=w[g];(!(T=Object.getOwnPropertyDescriptor(c,E))||T.enumerable||l)&&(v[E]=a(c[E],y-1),T.enumerable||Object.defineProperty(v,E,{enumerable:!1}))}}if(l){var O=Object.getOwnPropertyNames(c);for(g=0;g<O.length;g++){var T,S=O[g];(T=Object.getOwnPropertyDescriptor(c,S))&&T.enumerable||(v[S]=a(c[S],y-1),Object.defineProperty(v,S,{enumerable:!1}))}}return v}(a,c)}function a(e){return Object.prototype.toString.call(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=u,o}();"object"==typeof e&&e.exports&&(e.exports=n)}).call(t,n(20).Buffer)},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=n(59);function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.getSymbolObservable=i,t.observable=i(r.root),t.$$observable=t.observable},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=i},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(133),a=n(60),u=n.n(a),s=!1,c=!1,f=function(){function e(t){i()(this,e),this.query=t,this.primaryKey=this.query.collection.schema.primaryPath}return e.prototype.runChangeDetection=function(e){var t=this;if(0===e.length)return!1;if(!c)return!0;var n=this.query._resultsData,r=!1;return!!e.find(function(e){var i=t.handleSingleChange(n,e);return Array.isArray(i)?(r=!0,n=i,!1):!!i||void 0})||!!r&&n},e.prototype._debugMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.dir({name:"QueryChangeDetector",title:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"optimized",query:this.query.toString(),key:e,changeEventData:t})},e.prototype.handleSingleChange=function(e,t){var n=this,r=e.slice(0),i=this.query.toJSON(),o=t.data.v,a=this._isDocInResultData(o,e),u=this.doesDocMatchQuery(o),c=!i.limit||i.limit&&e.length>=i.limit,f=i.limit&&e.length>=i.limit;s&&(console.log("QueryChangeDetector.handleSingleChange()"),this._debugMessage("start",t.data.v,"handleSingleChange()"),console.log("changeEvent.data:"),console.dir(t.data),console.log("wasDocInResults: "+a),console.log("doesMatchNow: "+u),console.log("isFilled: "+c));var l=null,p=null,d=null;if("REMOVE"===t.data.op){if(!u)return s&&this._debugMessage("R1",o),!1;if(i.skip&&u&&(null===p&&(p=n._isSortedBefore(o,r[0])),p)&&!c)return s&&this._debugMessage("R2",o),r.shift(),r;if(u&&a&&!c)return s&&this._debugMessage("R3",o),r.filter(function(e){return e[n.primaryKey]!==o[n.primaryKey]});if(u&&a&&!i.limit&&!i.skip)return s&&this._debugMessage("R3.1",o),r.filter(function(e){return e[n.primaryKey]!==o[n.primaryKey]});if(u&&i.limit&&(null===l&&(l=n._isSortedBefore(r[r.length-1],o)),l))return s&&this._debugMessage("R4",o),!1}else{if(!(i.skip||i.limit||a||u))return s&&this._debugMessage("U1",o),!1;if(!i.skip&&!i.limit&&a&&u){var h=r.find(function(e){return e[n.primaryKey]===o[n.primaryKey]});return r[r.indexOf(h)]=o,function(){if(null===d){var t=e.find(function(e){return e[n.primaryKey]===o[n.primaryKey]});d=n._sortFieldChanged(t,o)}return d}()?(s&&this._debugMessage("U2 - resort",o),this._resortDocData(r)):(s&&this._debugMessage("U2 - no-resort",o),r)}if(!i.skip&&!f&&!a&&u)return s&&this._debugMessage("U3",o),r.push(o),this._resortDocData(r)}return!0},e.prototype.doesDocMatchQuery=function(e){e=this.query.collection.schema.swapPrimaryToId(e);var t=Object.keys(this.query.toJSON().selector);return 1===Object(o.b)([{doc:e}],{selector:Object(o.f)(this.query.toJSON().selector)},t).length},e.prototype._isDocInResultData=function(e,t){var n=this.query.collection.schema.primaryPath;return!!t.find(function(t){return t[n]===e[n]})},e.prototype._sortFieldChanged=function(e,t){var n=!1;return this.query.toJSON().sort.map(function(e){return Object.keys(e).pop()}).find(function(r){return u.a.get(e,r)!==u.a.get(t,r)&&(n=!0,!0)}),n},e.prototype._isSortedBefore=function(e,t){var n=this.query.toJSON(),r=Object.keys(this.query.toJSON().selector),i=this.query.collection.schema.swapPrimaryToId(e),a=[i,this.query.collection.schema.swapPrimaryToId(t)].map(function(e){return{id:e._id,doc:e}});return Object(o.b)(a,{selector:Object(o.f)(this.query.toJSON().selector),sort:n.sort},r)[0].id===i._id},e.prototype._resortDocData=function(e){var t=this,n=e.map(function(e){return{doc:t.query.collection.schema.swapPrimaryToId(e)}}),r=this.query.toJSON(),i=Object.keys(this.query.toJSON().selector);return Object(o.b)(n,{selector:Object(o.f)(this.query.toJSON().selector),sort:r.sort},i).map(function(e){return e.doc}).map(function(e){return t.query.collection.schema.swapIdToPrimary(e)})},e}();t.a={create:function(e){return new f(e)},enableDebugging:function(){console.log("QueryChangeDetector.enableDebugging()"),s=!0},enable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("QueryChangeDetector.enableDebugging("+e+")"),c=e}}},function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(431),o=n(436);t.mergeMap=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(n=t,t=null),r.lift(new a(e,t,n))}};var a=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=a;var u=function(e){function t(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(i.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeMapSubscriber=u},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=function(){function e(){i()(this,e),this._map=new Map}return e.prototype.get=function(e){return this._map.get(e)},e.prototype.set=function(e,t){return this._map.set(e,t)},e.prototype.delete=function(e){this._map.delete(e)},e}();t.a={create:function(){return new o}}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=function(){function e(t){var n=this;i()(this,e),this.collection=t,this.subs=[],this.limit=100,this.buffer=[],this.counter=0,this.eventCounterMap=new WeakMap,this.subs.push(this.collection.$.subscribe(function(e){return n._handleChangeEvent(e)}))}return e.prototype._handleChangeEvent=function(e){for(this.counter++,this.buffer.push(e),this.eventCounterMap.set(e,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},e.prototype.getArrayIndexByPointer=function(e){var t=this.eventCounterMap.get(this.buffer[0]);return e<t?null:e-t},e.prototype.getFrom=function(e){var t=[],n=this.getArrayIndexByPointer(e);if(null===n)return null;for(;;){var r=this.buffer[n];if(n++,!r)return t;t.push(r)}},e.prototype.runFrom=function(e,t){this.getFrom(e).forEach(function(e){return t(e)})},e.prototype.reduceByLastOfDoc=function(e){var t={};return e.forEach(function(e){t[e.data.doc]=e}),Object.values(t)},e.prototype.destroy=function(){this.subs.forEach(function(e){return e.unsubscribe()})},e}();t.a={create:function(e){return new o(e)}}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(19),a=n.n(o),u=n(241),s=(n.n(u),n(98)),c=(n.n(s),n(44)),f=(n.n(c),function(){function e(t,n){i()(this,e),this.name=n,this.database=t,this.token=t.token}return e.prototype.write=function(e,t){return this.bc.postMessage(JSON.stringify({type:e,it:this.token,data:t,t:(new Date).getTime()}))},e.prototype.destroy=function(){this._bc&&this._bc.close()},a()(e,[{key:"bc",get:function(){return this._bc||(this._bc=new BroadcastChannel("RxDB:"+this.database.name+":"+this.name)),this._bc}},{key:"$",get:function(){var e=this;return this._$||(this._$=Object(u.fromEvent)(this.bc,"message").pipe(Object(s.map)(function(e){return e.data}),Object(s.map)(function(e){return JSON.parse(e)}),Object(c.filter)(function(t){return t.it!==e.token}))),this._$}}]),e}()),l=null;function p(){return null===l&&(l=!("object"!=typeof window||!window.BroadcastChannel||"function"!=typeof window.BroadcastChannel||"function"!=typeof window.BroadcastChannel.prototype.postMessage||"function"!=typeof window.BroadcastChannel.prototype.close)),l}t.a={create:function(e,t){return p()?new f(e,t):null},canIUse:p}},function(e,t,n){"use strict";var r=n(441);t.fromEvent=r.FromEventObservable.create},function(e,t,n){"use strict";var r=n(60),i=n.n(r),o=n(72),a=n(5),u=n(61);t.a={rxdb:!0,hooks:{preCreateRxSchema:function(e){if(e.properties._id)throw a.a.newRxError("SC9",{schema:e});if(e.properties._rev)throw a.a.newRxError("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw a.a.newRxError("SC11",{version:e.version});!function(t){function n(e,t,n){if("string"!=typeof e||"object"!=typeof t||Array.isArray(t)||function(e){if(""!==e){if(["properties","language"].includes(e))throw a.a.newRxError("SC23",{fieldName:e});var t="^[a-zA-Z][[a-zA-Z0-9_]*]?[a-zA-Z0-9]$",n=new RegExp(t);if(!e.match(n))throw a.a.newRxError("SC1",{regex:t,fieldName:e})}}(e),t.hasOwnProperty("item")&&"array"!==t.type)throw a.a.newRxError("SC2",{fieldName:e});if(t.hasOwnProperty("ref"))switch(t.type){case"string":break;case"array":if(!t.items||!t.items.type||"string"!==t.items.type)throw a.a.newRxError("SC3",{fieldName:e});break;default:throw a.a.newRxError("SC4",{fieldName:e})}if(t.hasOwnProperty("ref")&&t.primary)throw a.a.newRxError("SC5",{fieldName:e});var r=n.split(".").length>=2;if(r){if(t.primary)throw a.a.newRxError("SC6",{path:n,primary:t.primary});if(t.default)throw a.a.newRxError("SC7",{path:n})}if(!r&&"_"===e.charAt(0))throw a.a.newRxError("SC8",{fieldName:e})}!function e(t,r){if("object"==typeof t)for(var i in t){t.properties||n(i,t[i],r);var o=r;"properties"!==i&&(o=o+"."+i),e(t[i],o)}}(e,"")}();var t=void 0;if(Object.keys(e.properties).forEach(function(n){var r=e.properties[n];if(r.primary){if(t)throw a.a.newRxError("SC12",{value:r});if(t=n,r.index)throw a.a.newRxError("SC13",{value:r});if(r.unique)throw a.a.newRxError("SC14",{value:r});if(r.encrypted)throw a.a.newRxError("SC15",{value:r});if("string"!==r.type)throw a.a.newRxError("SC16",{value:r})}if(o.a.properties().includes(n))throw a.a.newRxError("SC17",{key:n})}),e.compoundIndexes){if(!Array.isArray(e.compoundIndexes))throw a.a.newRxError("SC18",{compoundIndexes:e.compoundIndexes});e.compoundIndexes.forEach(function(t){if(!Array.isArray(t))throw a.a.newRxError("SC19",{compoundIndexes:e.compoundIndexes});t.forEach(function(t){if("string"!=typeof t)throw a.a.newRxError("SC20",{compoundIndexes:e.compoundIndexes})})})}Object(u.b)(e).reduce(function(e,t){return e.concat(t)},[]).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(t){var n=i.a.get(e,"properties."+t.replace(".",".properties."));if(!n||"object"!=typeof n)throw a.a.newRxError("SC21",{key:t});return{key:t,schemaObj:n}}).filter(function(e){return"string"!==e.schemaObj.type&&"integer"!==e.schemaObj.type&&"number"!==e.schemaObj.type}).forEach(function(e){throw a.a.newRxError("SC22",{key:e.key,type:e.schemaObj.type})})}}}},function(e,t,n){"use strict";var r=n(444),i=n.n(r),o=n(5),a=n(4),u={},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.hash;u[t]||(u[t]={});var n=u[t];if(!n[e]){var r=""===e?this.jsonID:this.getSchemaByObjectPath(e);if(!r)throw o.a.newRxError("VD1",{schemaPath:e});n[e]=i()(r)}return n[e]},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this._getValidator(t);if(n(e))return e;throw o.a.newRxError("VD2",{errors:n.errors,schemaPath:t,obj:e,schema:this.jsonID})};t.a={rxdb:!0,prototypes:{RxSchema:function(e){e._getValidator=s,e.validate=c}},hooks:{createRxSchema:function(e){a.l(function(){e._getValidator()})}}}},function(e,t,n){(function(t){function n(e){this.db=e,this._ended=!1,this._nexting=!1}n.prototype.next=function(e){var n=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return n._ended?(t.nextTick(e,new Error("cannot call next() after end()")),n):n._nexting?(t.nextTick(e,new Error("cannot call next() before previous next() has completed")),n):(n._nexting=!0,n._next(function(){n._nexting=!1,e.apply(null,arguments)}),n)},n.prototype._next=function(e){t.nextTick(e)},n.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return t.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},n.prototype._end=function(e){t.nextTick(e)},e.exports=n}).call(t,n(6))},function(e,t,n){(function(t){function n(e){this._db=e,this._operations=[],this._written=!1}n.prototype._serializeKey=function(e){return this._db._serializeKey(e)},n.prototype._serializeValue=function(e){return this._db._serializeValue(e)},n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(e,t){this._checkWritten();var n=this._db._checkKey(e,"key");if(n)throw n;return e=this._serializeKey(e),t=this._serializeValue(t),this._put(e,t),this},n.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},n.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key");if(t)throw t;return e=this._serializeKey(e),this._del(e),this},n.prototype._del=function(e){this._operations.push({type:"del",key:e})},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},n.prototype._clear=function(){},n.prototype.write=function(e,n){if(this._checkWritten(),"function"==typeof e&&(n=e),"function"!=typeof n)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(n):"function"==typeof this._db._batch?this._db._batch(this._operations,e,n):void t.nextTick(n)},e.exports=n}).call(t,n(6))},function(e,t,n){(function(r,i){var o=n(247),a=n(248),u=a.join,s=a.dirname,c=o.accessSync&&function(e){try{o.accessSync(e)}catch(e){return!1}return!0}||o.existsSync||a.existsSync,f={arrow:r.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:r.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:r.platform,arch:r.arch,version:r.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"]]};e.exports=t=function(e){"string"==typeof e?e={bindings:e}:e||(e={}),Object.keys(f).map(function(t){t in e||(e[t]=f[t])}),e.module_root||(e.module_root=t.getRoot(t.getFileName())),".node"!=a.extname(e.bindings)&&(e.bindings+=".node");for(var n,r,i,o=[],s=0,c=e.try.length;s<c;s++){n=u.apply(null,e.try[s].map(function(t){return e[t]||t})),o.push(n);try{return r=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),e.path||(r.path=n),r}catch(e){if(!/not find/i.test(e.message))throw e}}throw(i=new Error("Could not locate the bindings file. Tried:\n"+o.map(function(t){return e.arrow+t}).join("\n"))).tries=o,i},t.getFileName=function(e){var t,n=Error.prepareStackTrace,r=Error.stackTraceLimit;return Error.stackTraceLimit=10,Error.prepareStackTrace=function(n,r){for(var o=0,a=r.length;o<a;o++)if((t=r[o].getFileName())!==i){if(!e)return;if(t!==e)return}},Error.captureStackTrace({}),Error.prepareStackTrace=n,Error.stackTraceLimit=r,t},t.getRoot=function(e){for(var t,n=s(e);;){if("."===n&&(n=r.cwd()),c(u(n,"package.json"))||c(u(n,"node_modules")))return n;if(t===n)throw new Error('Could not find module root given file: "'+e+'". Do you have a `package.json` file? ');t=n,n=u(n,"..")}}}).call(t,n(6),"/index.js")},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(o(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===a(e,-1);return(e=n(o(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),u=a,s=0;s<a;s++)if(i[s]!==o[s]){u=s;break}var c=[];for(s=u;s<i.length;s++)c.push("..");return(c=c.concat(o.slice(u))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(6))},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=249},function(e,t,n){(function(t,n){var r=t.maxTickDepth/2||1e3;e.exports=n.setImmediate?function(){var e=0;return function(i){e>=r?(n.setImmediate(i),e=0):t.nextTick(i),e++}}:function(){return t.nextTick}}).call(t,n(6),n(7))},function(e,t,n){"use strict";var r=n(57),i=n(42),o=n(11),a=n(26),u=n(252),s=n.n(u),c=n(510),f=n(261),l=(n.n(f),n(95)),p=n.n(l),d=n(512),h=n.n(d),y=n(513),v=n.n(y),m=n(143),b=n(56),g=n(142),_=n(69),w=n(43);function E(e,t){var n=new Uint8Array(e);return Object(r.d)([n],{type:t})}function O(e,t){var n=t.prefix()[0],r=e._cache,o=r.get(n);return o||(o=new i.a,r.set(n,o)),o}function T(){this._batch=[],this._cache=new i.a}T.prototype.get=function(e,t,n){var r=O(this,e),i=r.get(t);return i?Object(o.p)(function(){n(null,i)}):null===i?Object(o.p)(function(){n({name:"NotFoundError"})}):void e.get(t,function(e,i){if(e)return"NotFoundError"===e.name&&r.set(t,null),n(e);r.set(t,i),n(null,i)})},T.prototype.batch=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];O(this,r.prefix).set(r.key,"put"===r.type?r.value:null)}this._batch=this._batch.concat(e)},T.prototype.execute=function(e,t){for(var n=new i.b,r=[],o=this._batch.length-1;o>=0;o--){var a=this._batch[o],u=a.prefix.prefix()[0]+"\xff"+a.key;n.has(u)||(n.add(u),r.push(a))}e.batch(r,t)};var S="document-store",k="by-sequence",x="attach-store",j="attach-binary-store",N="local-store",I="meta-store",A=new i.a,L="_local_last_update_seq",D="_local_doc_count",P="_local_uuid",R="md5-",C={encode:g.b,decode:g.a,buffer:!1,type:"cheap-json"},M=new o.d;function F(e){return"winningRev"in e?e.winningRev:Object(b.k)(e)}function q(e,t){return"deleted"in e?e.deleted:Object(m.b)(e,t)}function U(e,t,n){var i=[];return e.forEach(function(e){e.doc&&e.doc._attachments&&Object.keys(e.doc._attachments).forEach(function(t){var n=e.doc._attachments[t];"data"in n||i.push(n)})}),a.a.all(i.map(function(e){return function(e,t,n){var i=e.content_type;return new a.a(function(o,a){t.binaryStore.get(e.digest,function(t,u){var s;if(t){if("NotFoundError"!==t.name)return a(t);s=n.binary?Object(r.c)("",i):""}else s=n.binary?E(u,i):u.toString("base64");delete e.stub,delete e.length,e.data=s,o()})})}(e,t,n)}))}t.a=function(e,t){var n,u,l=this,d={},y=(e=Object(o.e)(e)).revs_limit,g=e.name;"undefined"==typeof e.createIfMissing&&(e.createIfMissing=!0);var O,B=e.db,G=Object(o.j)(B);function Q(){d.docStore=u.sublevel(S,{valueEncoding:C}),d.bySeqStore=u.sublevel(k,{valueEncoding:"json"}),d.attachmentStore=u.sublevel(x,{valueEncoding:"json"}),d.binaryStore=u.sublevel(j,{valueEncoding:"binary"}),d.localStore=u.sublevel(N,{valueEncoding:"json"}),d.metaStore=u.sublevel(I,{valueEncoding:"json"}),"object"==typeof e.migrate?e.migrate.doMigrationTwo(u,d,V):V()}function V(){d.metaStore.get(L,function(e,r){"undefined"==typeof u._updateSeq&&(u._updateSeq=r||0),d.metaStore.get(D,function(e,r){u._docCount=e?0:r,d.metaStore.get(P,function(e,r){n=e?Object(o.y)():r,d.metaStore.put(P,n,function(){Object(o.p)(function(){t(null,l)})})})})})}function K(e,t){try{e.apply(null,t)}catch(e){t[t.length-1](e)}}function $(){var e=u._queue.peekFront();"read"===e.type?function(e){for(var t=[e],n=1,r=u._queue.get(n);"undefined"!=typeof r&&"read"===r.type;)t.push(r),r=u._queue.get(++n);var i=0;t.forEach(function(e){var n=e.args,r=n[n.length-1];n[n.length-1]=p()(function(e){r.apply(null,e),++i===t.length&&Object(o.p)(function(){t.forEach(function(){u._queue.shift()}),u._queue.length&&$()})}),K(e.fun,n)})}(e):function(e){var t=e.args,n=t[t.length-1];t[t.length-1]=p()(function(e){n.apply(null,e),Object(o.p)(function(){u._queue.shift(),u._queue.length&&$()})}),K(e.fun,t)}(e)}function z(e){return p()(function(t){u._queue.push({fun:e,args:t,type:"write"}),1===u._queue.length&&Object(o.p)($)})}function J(e){return p()(function(t){u._queue.push({fun:e,args:t,type:"read"}),1===u._queue.length&&Object(o.p)($)})}function Y(e){return("0000000000000000"+e).slice(-16)}function W(e,t){B.destroy(e,t)}A.has(G)?O=A.get(G):(O=new i.a,A.set(G,O)),O.has(g)?(u=O.get(g),Q()):O.set(g,Object(c.a)(s()(B(g),e,function(n){if(n)return O.delete(g),t(n);(u=O.get(g))._docCount=-1,u._queue=new h.a,"object"==typeof e.migrate?e.migrate.doMigrationOne(g,u,Q):Q()}))),l._remote=!1,l.type=function(){return"leveldb"},l._id=function(e){e(null,n)},l._info=function(e){var t={doc_count:u._docCount,update_seq:u._updateSeq,backend_adapter:Object(o.j)(B)};return Object(o.p)(function(){e(null,t)})},l._get=J(function(e,t,n){t=Object(o.e)(t),d.docStore.get(e,function(e,r){if(e||!r)return n(Object(w.r)(w.h,"missing"));var i;if(t.rev)i=t.latest?Object(b.f)(t.rev,r):t.rev;else if(i=F(r),q(r,i))return n(Object(w.r)(w.h,"deleted"));d.bySeqStore.get(Y(r.rev_map[i]),function(e,t){if(!t)return n(Object(w.r)(w.h));if("_id"in t&&t._id!==r.id)return n(new Error("wrong doc returned"));if(t._id=r.id,"_rev"in t){if(t._rev!==i)return n(new Error("wrong doc returned"))}else t._rev=i;return n(null,{doc:t,metadata:r})})})}),l._getAttachment=function(e,t,n,i,o){var a=n.content_type;d.binaryStore.get(n.digest,function(e,t){if(e)return"NotFoundError"!==e.name?o(e):o(null,i.binary?function(e){return Object(r.d)([""],{type:e})}(a):"");o(null,i.binary?E(t,a):t.toString("base64"))})},l._bulkDocs=z(function(e,t,n){var s=t.new_edits,c=new Array(e.docs.length),f=new i.a,p=new i.a,h=new T,E=0,O=u._updateSeq,S=e.docs,k=S.map(function(e){if(e._id&&Object(m.c)(e._id))return e;var t=Object(m.d)(e,s);return t.metadata&&!t.metadata.rev_map&&(t.metadata.rev_map={}),t}),x=k.filter(function(e){return e.error});if(x.length)return n(x[0]);function j(e,t){var n=a.a.resolve();e.forEach(function(e,t){n=n.then(function(){return new a.a(function(n,r){l._doCompactionNoLock(t,e,{ctx:h},function(e){if(e)return r(e);n()})})})}),n.then(function(){t()},t)}function N(){j(p,function(e){if(e&&C(e),l.auto_compaction)return t=C,n=new i.a,f.forEach(function(e,t){n.set(t,Object(b.c)(e))}),void j(n,t);var t,n;C()})}function I(e,t,i,o,a,u,s,l){E+=u;var y=null,m=0;e.metadata.winningRev=t,e.metadata.deleted=i,e.data._id=e.metadata.id,e.data._rev=e.metadata.rev,o&&(e.data._deleted=!0),e.stemmedRevs.length&&p.set(e.metadata.id,e.stemmedRevs);var b,g,T=e.data._attachments?Object.keys(e.data._attachments):[];function S(e){m++,y||(e?l(y=e):m===T.length&&A())}function k(e,t,n){return function(r){Object(_.a)(r,function(e,t,n,r){return function(i){!function(e,t,n,r,i){var o=e.data._attachments[n];delete o.data,o.digest=t,o.length=r.length;var a=e.metadata.id,u=e.metadata.rev;o.revpos=parseInt(u,10),P(a,u,t,function(e,n){return e?i(e):0===r.length?i(e):n?(h.batch([{type:"put",prefix:d.binaryStore,key:t,value:v()(r,"binary")}]),void i()):i(e)})}(e,R+i,t,n,r)}}(e,t,r,n))}}for(var x=0;x<T.length;x++){var j,N=T[x],I=e.data._attachments[N];if(I.stub)P(e.data._id,e.data._rev,I.digest,S);else if("string"==typeof I.data){try{j=Object(r.a)(I.data)}catch(e){return void n(Object(w.r)(w.a,"Attachment is not a valid base64 string"))}k(e,N,S)(j)}else b=I.data,g=k(e,N,S),Object(r.i)(b,g)}function A(){var t=e.metadata.rev_map[e.metadata.rev];if(t)return l();t=++O,e.metadata.rev_map[e.metadata.rev]=e.metadata.seq=t;var n=Y(t);h.batch([{key:n,value:e.data,prefix:d.bySeqStore,type:"put"},{key:e.metadata.id,value:e.metadata,prefix:d.docStore,type:"put"}]),c[s]={ok:!0,id:e.metadata.id,rev:e.metadata.rev},f.set(e.metadata.id,e.metadata),l()}T.length||A()}var A={};function P(e,t,n,r){function i(r){var i=[e,t].join("@"),o={};return r?r.refs&&(o.refs=r.refs,o.refs[i]=!0):(o.refs={},o.refs[i]=!0),new a.a(function(e){h.batch([{type:"put",prefix:d.attachmentStore,key:n,value:o}]),e(!r)})}var o=A[n]||a.a.resolve();A[n]=o.then(function(){return new a.a(function(e,t){h.get(d.attachmentStore,n,function(n,r){if(n&&"NotFoundError"!==n.name)return t(n);e(r)})}).then(i).then(function(e){r(null,e)},r)})}function C(e){if(e)return Object(o.p)(function(){n(e)});h.batch([{prefix:d.metaStore,type:"put",key:L,value:O},{prefix:d.metaStore,type:"put",key:D,value:u._docCount+E}]),h.execute(u,function(e){if(e)return n(e);u._docCount+=E,u._updateSeq=O,M.notify(g),Object(o.p)(function(){n(null,c)})})}if(!k.length)return n(null,[]);!function(e){var t=[];if(S.forEach(function(e){e&&e._attachments&&Object.keys(e._attachments).forEach(function(n){var r=e._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,r=0;t.forEach(function(i){!function(e,t){h.get(d.attachmentStore,e,function(n){if(n){var r=Object(w.r)(w.j,"unknown stub attachment with digest "+e);t(r)}else t()})}(i,function(i){i&&!n&&(n=i),++r===t.length&&e(n)})})}(function(e){if(e)return n(e);!function(e){var t,n=0;function r(){if(++n===S.length)return e(t)}S.forEach(function(e){if(e._id&&Object(m.c)(e._id))return r();h.get(d.docStore,e._id,function(n,i){n?"NotFoundError"!==n.name&&(t=n):f.set(e._id,i),r()})})}(function(e){if(e)return n(e);Object(m.f)(y,k,l,f,h,c,I,t,N)})})}),l._allDocs=function(e,t){return"keys"in e?Object(m.a)(this,e):J(function(e,t){e=Object(o.e)(e),function(e){u.isClosed()?e(new Error("database is closed")):e(null,u._docCount)}(function(n,r){if(n)return t(n);var i,o={},s=e.skip||0;if(e.startkey&&(o.gte=e.startkey),e.endkey&&(o.lte=e.endkey),e.key&&(o.gte=o.lte=e.key),e.descending){o.reverse=!0;var c=o.lte;o.lte=o.gte,o.gte=c}if("number"==typeof e.limit&&(i=e.limit),0===i||"gte"in o&&"lte"in o&&o.gte>o.lte){var l={total_rows:r,offset:e.skip,rows:[]};return e.update_seq&&(l.update_seq=u._updateSeq),t(null,l)}var p=[],h=d.docStore.readStream(o),y=Object(f.obj)(function(t,n,r){var o=t.value,a=F(o),u=q(o,a);if(u){if("ok"!==e.deleted)return void r()}else{if(s-- >0)return void r();if("number"==typeof i&&i--<=0)return h.unpipe(),h.destroy(),void r()}function c(t){var n={id:o.id,key:o.id,value:{rev:a}};if(e.include_docs){if(n.doc=t,n.doc._rev=n.value.rev,e.conflicts){var i=Object(b.a)(o);i.length&&(n.doc._conflicts=i)}for(var s in n.doc._attachments)n.doc._attachments.hasOwnProperty(s)&&(n.doc._attachments[s].stub=!0)}if(!1===e.inclusive_end&&o.id===e.endkey)return r();if(u){if("ok"!==e.deleted)return r();n.value.deleted=!0,n.doc=null}p.push(n),r()}e.include_docs?d.bySeqStore.get(Y(o.rev_map[a]),function(e,t){c(t)}):c()},function(n){a.a.resolve().then(function(){if(e.include_docs&&e.attachments)return U(p,d,e)}).then(function(){var n={total_rows:r,offset:e.skip,rows:p};e.update_seq&&(n.update_seq=u._updateSeq),t(null,n)},t),n()}).on("unpipe",function(){y.end()});h.on("error",t),h.pipe(y)})})(e,t)},l._changes=function(e){if((e=Object(o.e)(e)).continuous){var t=g+":"+Object(o.y)();return M.addListener(g,t,l,e),M.notify(g),{cancel:function(){M.removeListener(g,t)}}}var n,r=e.descending,a=[],s=e.since||0,c=0,p={reverse:r};"limit"in e&&e.limit>0&&(n=e.limit),p.reverse||(p.start=Y(e.since||0));var h,y=e.doc_ids&&new i.b(e.doc_ids),v=Object(o.h)(e),b=new i.a;function _(){e.done=!0,h&&e.limit&&e.limit<a.length&&(a.length=e.limit),w.unpipe(E),w.destroy(),e.continuous||e.cancelled||(e.include_docs&&e.attachments?U(a,d,e).then(function(){e.complete(null,{results:a,last_seq:s})}):e.complete(null,{results:a,last_seq:s}))}h="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var w=d.bySeqStore.readStream(p),E=Object(f.obj)(function(t,i,o){if(n&&c>=n)return _(),o();if(e.cancelled||e.done)return o();var f,l=parseInt(t.key,10),p=t.value;if(l===e.since&&!r)return o();if(y&&!y.has(p._id))return o();function g(t){var n=F(t);function r(n){var r=e.processChange(n,t,e);r.seq=t.seq;var i=v(r);if("object"==typeof i)return e.complete(i);i&&(c++,e.attachments&&e.include_docs?U([r],d,e).then(function(){e.onChange(r)}):e.onChange(r),h&&a.push(r)),o()}return t.seq!==l?o():(s=l,n===p._rev?r(p):void d.bySeqStore.get(Y(t.rev_map[n]),function(e,t){r(t)}))}if(f=b.get(p._id))return g(f);d.docStore.get(p._id,function(t,n){if(e.cancelled||e.done||u.isClosed()||Object(m.c)(n.id))return o();b.set(p._id,n),g(n)})},function(t){if(e.cancelled)return t();h&&e.limit&&e.limit<a.length&&(a.length=e.limit),t()}).on("unpipe",function(){E.end(),_()});return w.pipe(E),{cancel:function(){e.cancelled=!0,_()}}},l._close=function(e){if(u.isClosed())return e(Object(w.r)(w.l));u.close(function(t){t?e(t):(O.delete(g),e())})},l._getRevisionTree=function(e,t){d.docStore.get(e,function(e,n){e?t(Object(w.r)(w.h)):t(null,n.rev_tree)})},l._doCompaction=z(function(e,t,n,r){l._doCompactionNoLock(e,t,n,r)}),l._doCompactionNoLock=function(e,t,n,r){if("function"==typeof n&&(r=n,n={}),!t.length)return r();var o=n.ctx||new T;o.get(d.docStore,e,function(a,s){if(a)return r(a);var c=t.map(function(e){var t=s.rev_map[e];return delete s.rev_map[e],t});Object(b.j)(s.rev_tree,function(e,n,r,i,o){-1!==t.indexOf(n+"-"+r)&&(o.status="missing")});var f=[];f.push({key:s.id,value:s,type:"put",prefix:d.docStore});var l,p={},h=0;function y(n){if(n&&(l=n),++h===t.length){if(l)return r(l);!function(){var n=Object.keys(p);if(!n.length)return v();var r,a=0;function u(e){e&&(r=e),++a===n.length&&v(r)}var s=new i.a;t.forEach(function(t){s.set(e+"@"+t,!0)}),n.forEach(function(e){o.get(d.attachmentStore,e,function(t,n){if(t)return"NotFoundError"===t.name?u():u(t);var r=Object.keys(n.refs||{}).filter(function(e){return!s.has(e)}),i={};r.forEach(function(e){i[e]=!0}),r.length?f.push({key:e,type:"put",value:{refs:i},prefix:d.attachmentStore}):f=f.concat([{key:e,type:"del",prefix:d.attachmentStore},{key:e,type:"del",prefix:d.binaryStore}]),u()})})}()}}function v(e){return e?r(e):(o.batch(f),n.ctx?r():void o.execute(u,r))}c.forEach(function(e){f.push({key:Y(e),type:"del",prefix:d.bySeqStore}),o.get(d.bySeqStore,Y(e),function(e,t){if(e)return"NotFoundError"===e.name?y():y(e);Object.keys(t._attachments||{}).forEach(function(e){p[t._attachments[e].digest]=!0}),y()})})})},l._getLocal=function(e,t){d.localStore.get(e,function(e,n){e?t(Object(w.r)(w.h)):t(null,n)})},l._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),t.ctx?l._putLocalNoLock(e,t,n):l._putLocalWithLock(e,t,n)},l._putLocalWithLock=z(function(e,t,n){l._putLocalNoLock(e,t,n)}),l._putLocalNoLock=function(e,t,n){delete e._revisions;var r=e._rev,i=e._id,o=t.ctx||new T;o.get(d.localStore,i,function(a,s){if(a&&r)return n(Object(w.r)(w.o));if(s&&s._rev!==r)return n(Object(w.r)(w.o));e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1",o.batch([{type:"put",prefix:d.localStore,key:i,value:e}]);var c={ok:!0,id:e._id,rev:e._rev};if(t.ctx)return n(null,c);o.execute(u,function(e){if(e)return n(e);n(null,c)})})},l._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),t.ctx?l._removeLocalNoLock(e,t,n):l._removeLocalWithLock(e,t,n)},l._removeLocalWithLock=z(function(e,t,n){l._removeLocalNoLock(e,t,n)}),l._removeLocalNoLock=function(e,t,n){var r=t.ctx||new T;r.get(d.localStore,e._id,function(i,o){if(i)return n("NotFoundError"!==i.name?i:Object(w.r)(w.h));if(o._rev!==e._rev)return n(Object(w.r)(w.o));r.batch([{prefix:d.localStore,type:"del",key:e._id}]);var a={ok:!0,id:e._id,rev:"0-0"};if(t.ctx)return n(null,a);r.execute(u,function(e){if(e)return n(e);n(null,a)})})},l._destroy=function(e,t){var n,r=Object(o.j)(B);if(!A.has(r))return W(g,t);(n=A.get(r)).has(g)?(M.removeAllListeners(g),n.get(g).close(function(){n.delete(g),W(g,t)})):W(g,t)}}},function(e,t,n){(function(t){var r=n(29).EventEmitter,i=n(16).inherits,o=n(75),a=n(497),u=n(499),s=n(505),c=n(145),f=n(509),l=n(258),p=c.WriteError,d=c.ReadError,h=c.NotFoundError,y=c.OpenError,v=c.InitializationError;function m(e,n,i){if(!(this instanceof m))return new m(e,n,i);var o;if(r.call(this),this.setMaxListeners(1/0),"function"==typeof n&&(i=n,n={}),n=n||{},!e||"object"!=typeof e){if(o=new v("Must provide db"),"function"==typeof i)return t.nextTick(i,o);throw o}f.equal(typeof e.status,"string",".status required, old abstract-leveldown"),this.options=g(n),this._db=e,this.db=new a(e),this.open(i)}function b(e,t){return"function"==typeof e?e:t}function g(e){return"object"==typeof e&&null!==e?e:{}}function _(e,n){if(!e._isOpening()&&!e.isOpen())return t.nextTick(n,new d("Database is not open")),!0}m.prototype.emit=r.prototype.emit,m.prototype.once=r.prototype.once,i(m,r),m.prototype.open=function(e){var n,r=this;return e||(n=(e=l()).promise),this.isOpen()?(t.nextTick(e,null,r),n):this._isOpening()?(this.once("open",function(){e(null,r)}),n):(this.emit("opening"),this.db.open(this.options,function(t){if(t)return e(new y(t));r.db=r._db,e(null,r),r.emit("open"),r.emit("ready")}),n)},m.prototype.close=function(e){var n,r=this;return e||(n=(e=l()).promise),this.isOpen()?(this.db.close(function(){r.emit("closed"),e.apply(null,arguments)}),this.emit("closing"),this.db=new a(this._db)):this.isClosed()?t.nextTick(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",function(){r.close(e)}),n},m.prototype.isOpen=function(){return"open"===this.db.status},m.prototype._isOpening=function(){return"opening"===this.db.status},m.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},m.prototype.get=function(e,t,n){if(null===e||void 0===e)throw new d("get() requires a key argument");var r;return(n=b(t,n))||(r=(n=l()).promise),_(this,n)?r:(t=g(t),this.db.get(e,t,function(t,r){if(t)return t=/notfound/i.test(t)||t.notFound?new h("Key not found in database ["+e+"]",t):new d(t),n(t);n(null,r)}),r)},m.prototype.put=function(e,t,n,r){if(null===e||void 0===e)throw new p("put() requires a key argument");var i,o=this;return(r=b(n,r))||(i=(r=l()).promise),_(this,r)?i:(n=g(n),this.db.put(e,t,n,function(n){if(n)return r(new p(n));o.emit("put",e,t),r()}),i)},m.prototype.del=function(e,t,n){if(null===e||void 0===e)throw new p("del() requires a key argument");var r,i=this;return(n=b(t,n))||(r=(n=l()).promise),_(this,n)?r:(t=g(t),this.db.del(e,t,function(t){if(t)return n(new p(t));i.emit("del",e),n()}),r)},m.prototype.batch=function(e,t,n){if(!arguments.length)return new s(this);if(!Array.isArray(e))throw new p("batch() requires an array argument");var r,i=this;return(n=b(t,n))||(r=(n=l()).promise),_(this,n)?r:(t=g(t),e=e.map(function(e){return e.type||void 0===e.key||void 0===e.value||(e.type="put"),e}),this.db.batch(e,t,function(t){if(t)return n(new p(t));i.emit("batch",e),n()}),r)},m.prototype.readStream=m.prototype.createReadStream=function(e){return"number"!=typeof(e=o({keys:!0,values:!0},e)).limit&&(e.limit=-1),new u(this.db.iterator(e),e)},m.prototype.keyStream=m.prototype.createKeyStream=function(e){return this.createReadStream(o(e,{keys:!0,values:!1}))},m.prototype.valueStream=m.prototype.createValueStream=function(e){return this.createReadStream(o(e,{keys:!1,values:!0}))},m.prototype.toString=function(){return"LevelUP"},m.errors=c,e.exports=m.default=m}).call(t,n(6))},function(e,t,n){"use strict";(function(t,r){var i=n(101);e.exports=g;var o,a=n(230);g.ReadableState=b,n(29);var u=function(e,t){return e.listeners(t).length},s=n(254),c=n(102).Buffer,f=t.Uint8Array||function(){},l=n(77);l.inherits=n(12);var p=n(500),d=void 0;d=p&&p.debuglog?p.debuglog("stream"):function(){};var h,y=n(501),v=n(255);l.inherits(g,s);var m=["error","close","destroy","pause","resume"];function b(e,t){var r=t instanceof(o=o||n(51));this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(256).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function g(e){if(o=o||n(51),!(this instanceof g))return new g(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function _(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,T(e)}}(e,a)):(i||(o=function(e,t){var n,r;return c.isBuffer(r=t)||r instanceof f||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):k(e,a)):w(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),k(e,t)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=v.destroy,g.prototype._undestroy=v.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},g.prototype.unshift=function(e){return _(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return h||(h=n(256).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var E=8388608;function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(S,e):S(e))}function S(e){d("emit readable"),e.emit("readable"),I(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(x,e,t))}function x(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function j(e){d("readable nexttick read 0"),e.read(0)}function N(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(i+=a===o.length?o:o.slice(0,e),0==(e-=a)){a===o.length?(++r,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++i,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function L(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(D,t,e))}function D(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}g.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):T(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&L(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==r&&this.emit("data",r),r},g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var s=t&&!1===t.end||e===r.stdout||e===r.stderr?b:c;function c(){d("onend"),e.end()}o.endEmitted?i.nextTick(s):n.once("end",s),e.on("unpipe",function t(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",f),e.removeListener("error",y),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",h),l=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())});var f=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",f);var l=!1,p=!1;function h(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==P(o.pipes,e))&&!l&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function y(t){d("onerror",t),b(),e.removeListener("error",y),0===u(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",m),b()}function m(){d("onfinish"),e.removeListener("close",v),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,y),e.once("close",v),e.once("finish",m),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=P(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},g.prototype.addListener=g.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):i.nextTick(j,this))}return n},g.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(N,e,t))}(this,e)),this},g.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=A}).call(t,n(7),n(6))},function(e,t,n){e.exports=n(29).EventEmitter},function(e,t,n){"use strict";var r=n(101);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(102).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=c,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function f(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(51),i=n(77);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:(function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}).bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){u(e,t,n)}):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(12),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t){e.exports=function(){var e,t=new Promise(function(t,n){e=function(e,r){e?n(e):t(r)}});return e.promise=t,e}},function(e,t,n){(function(e){function n(e,t){return Object.hasOwnProperty.call(e,t)}function r(e){return void 0!==e&&""!==e}function n(e,t){return Object.hasOwnProperty.call(e,t)}function i(e,t){return Object.hasOwnProperty.call(e,t)&&t}t.compare=function(t,n){if(e.isBuffer(t)){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t[i]-n[i];if(o)return o}return t.length-n.length}return t<n?-1:t>n?1:0};var o=t.lowerBoundKey=function(e){return i(e,"gt")||i(e,"gte")||i(e,"min")||i(e,e.reverse?"end":"start")||void 0},a=t.lowerBound=function(e){var t=o(e);return t&&e[t]},u=t.lowerBoundInclusive=function(e){return!n(e,"gt")},s=t.upperBoundInclusive=function(e){return!n(e,"lt")},c=t.lowerBoundExclusive=function(e){return!u(e)},f=t.upperBoundExclusive=function(e){return!s(e)},l=t.upperBoundKey=function(e){return i(e,"lt")||i(e,"lte")||i(e,"max")||i(e,e.reverse?"start":"end")||void 0},p=t.upperBound=function(e){var t=l(e);return t&&e[t]};function d(e){return e}t.toLtgt=function(e,r,i,o,a){r=r||{},i=i||d;var u=arguments.length>3,s=t.lowerBoundKey(e),c=t.upperBoundKey(e);return s?"gt"===s?r.gt=i(e.gt,!1):r.gte=i(e[s],!1):u&&(r.gte=i(o,!1)),c?"lt"===c?r.lt=i(e.lt,!0):r.lte=i(e[c],!0):u&&(r.lte=i(a,!0)),null!=e.reverse&&(r.reverse=!!e.reverse),n(r,"max")&&delete r.max,n(r,"min")&&delete r.min,n(r,"start")&&delete r.start,n(r,"end")&&delete r.end,r},t.contains=function(e,n,i){i=i||t.compare;var o=a(e);if(r(o)&&((u=i(n,o))<0||0===u&&c(e)))return!1;var u,s=p(e);return!r(s)||!((u=i(n,s))>0||0===u&&f(e))},t.filter=function(e,n){return function(r){return t.contains(e,r,n)}}}).call(t,n(20).Buffer)},function(e,t,n){var r=n(511);function i(e){this.opts=e||{},this.encodings=r}e.exports=i,i.prototype._encoding=function(e){return"string"==typeof e&&(e=r[e]),e||(e=r.id),e},i.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},i.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},i.prototype.encodeKey=function(e,t,n){return this._keyEncoding(t,n).encode(e)},i.prototype.encodeValue=function(e,t,n){return this._valueEncoding(t,n).encode(e)},i.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},i.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},i.prototype.encodeBatch=function(e,t){var n=this;return e.map(function(e){var r={type:e.type,key:n.encodeKey(e.key,t,e)};return n.keyAsBuffer(t,e)&&(r.keyEncoding="binary"),e.prefix&&(r.prefix=e.prefix),"value"in e&&(r.value=n.encodeValue(e.value,t,e),n.valueAsBuffer(t,e)&&(r.valueEncoding="binary")),r})};var o=["lt","gt","lte","gte","start","end"];i.prototype.encodeLtgt=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){n[r]=o.indexOf(r)>-1?t.encodeKey(e[r],e):e[r]}),n},i.prototype.createStreamDecoder=function(e){var t=this;return e.keys&&e.values?function(n,r){return{key:t.decodeKey(n,e),value:t.decodeValue(r,e)}}:e.keys?function(n){return t.decodeKey(n,e)}:e.values?function(n,r){return t.decodeValue(r,e)}:function(){}},i.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},i.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}},function(e,t,n){(function(t){var r=n(262),i=n(16).inherits,o=n(75);function a(e){r.call(this,e),this._destroyed=!1}function u(e,t,n){n(null,e)}function s(e){return function(t,n,r){return"function"==typeof t&&(r=n,n=t,t={}),"function"!=typeof n&&(n=u),"function"!=typeof r&&(r=null),e(t,n,r)}}i(a,r),a.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var n=this;t.nextTick(function(){e&&n.emit("error",e),n.emit("close")})}},e.exports=s(function(e,t,n){var r=new a(e);return r._transform=t,n&&(r._flush=n),r}),e.exports.ctor=s(function(e,t,n){function r(t){if(!(this instanceof r))return new r(t);this.options=o(e,t),a.call(this,this.options)}return i(r,a),r.prototype._transform=t,n&&(r.prototype._flush=n),r}),e.exports.obj=s(function(e,t,n){var r=new a(o({objectMode:!0,highWaterMark:16},e));return r._transform=t,n&&(r._flush=n),r})}).call(t,n(6))},function(e,t,n){e.exports=n(76).Transform},function(e,t,n){"use strict";var r=n(146),i=Function.prototype.toString,o=n(264),a=n(265),u=n(266),s=n(268),c=n(103),f=n(516).normalizeSpace,l=n(518),p=/^class /,d=p.test,h=!1===r(function(){return Function('"use strict"; return class My {};')()}).threw,y=function(e){return d.call(p,f(l(i.call(e)," ")))},v=function(e){var t=r(y,e);return!1===t.threw&&t.value};e.exports=function(e){if(c(e))return!1;if(s)return function(e,t){return!(h&&!1===t&&v(e)||!1!==r.call(e,i).threw)}(e,o(arguments[1]));if(h&&a(arguments[1])&&v(e))return!1;var t=u(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t}},function(e,t,n){"use strict";e.exports=function(e){return!!e}},function(e,t,n){"use strict";var r=n(264);e.exports=function(e){return!1===r(e)}},function(e,t,n){"use strict";var r=n(267),i=n(147),o={}.toString;e.exports=function(e){return r(e)?"[object Null]":i(e)?"[object Undefined]":o.call(e)}},function(e,t){e.exports=function(e){return null===e}},function(e,t,n){"use strict";e.exports=n(78)&&"symbol"==typeof Symbol.toStringTag},function(e,t,n){"use strict";var r=n(148),i=r.trimLeft2016,o=r.trimLeft2018,a=n(517),u=a.trimRight2016,s=a.trimRight2016,c=function(e){return o(s(e))};e.exports={trim:c,trim2016:function(e){return i(u(e))},trim2018:c}},function(e,t,n){"use strict";var r=n(147),i=n(267);e.exports=function(e){return i(e)||r(e)}},function(e,t,n){"use strict";var r=n(78),i=n(103),o=n(520),a=n(151),u=n(263),s=n(150),c=n(270),f=n(147),l=r&&Symbol.toPrimitive,p=r&&Symbol.prototype.valueOf,d=["toString","valueOf"],h=["valueOf","toString"];e.exports=function(e,t){if(i(e))return e;var n,y="default";if(arguments.length>1&&(t===String?y="string":t===Number&&(y="number")),r&&(l?n=function(e,t){var n=e[t];if(!1===c(n)){if(!1===u(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}}(e,l):a(e)&&(n=p)),!1===f(n)){var v=n.call(e,y);if(i(v))return v;throw new TypeError("unable to convert exotic object to primitive")}return"default"===y&&(o(e)||a(e))&&(y="string"),function(e,t){if(s(e),"string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');for(var n,r,o="string"===t?d:h,a=0;a<2;a+=1)if(u(n=e[o[a]])&&(r=n.call(e),i(r)))return r;throw new TypeError("No default value")}(e,"default"===y?"number":y)}},function(e,t,n){"use strict";e.exports=NaN},function(e,t,n){var r=n(544);function i(e,t){var n=new r,i=!1;return t=t||o,n.write=function(t){return!1!==e.call(n,t)},n.end=function(e){i||(i=!0,arguments.length&&n.write(e),t.call(n))},n.writable=!0,n}function o(){this.emit("finish")}e.exports=i,i.toArray=n(548)},function(e,t,n){e.exports=n(275)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(276),i=(n.n(r),n(329)),o=n(347),a=n(352);Object(r.createWorker)({schema:i.a,context:a.a}),self.onmessage=function(e){return Object(r.handleSubscriptions)({self:self,message:e,schema:i.a,context:a.a,pubsub:o.a})}},function(e,t,n){!function(e,t,r,i,o,a){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;var u=Object.freeze({GQL_START:"start",GQL_DATA:"data",GQL_ERROR:"error",GQL_COMPLETE:"complete"}),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},p=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},h=function(e){function n(e){var t=e.worker;c(this,n);var r=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.promiseWorker=null,r.promiseWorker=new i(t),r}return p(n,t.ApolloLink),f(n,[{key:"request",value:function(e){var n=this;return new t.Observable(function(t){n.promiseWorker.postMessage(e).then(function(e){t.next(e),t.complete()}).catch(t.error.bind(t))})}}]),n}(),y=function(e){var t=e.worker,n=function(){function e(t,n){c(this,e),this.url=t,this.protocol=n,this.readyState=e.OPEN}return f(e,[{key:"close",value:function(){console.log("closing noop")}},{key:"send",value:function(e){t.postMessage(e)}},{key:"onerror",set:function(e){t.onerror=e}},{key:"onmessage",set:function(e){t.onmessage=function(t){var n=t.data,r=JSON.parse(n);-1!==Object.keys(u).map(function(e){return u[e]}).indexOf(r.type)&&e({data:n})}}}]),e}();return n.CLOSED="CLOSED",n.OPEN="OPEN",n.CONNECTING="CONNECTING",n},v=function(e){function n(e){var t=e.worker;c(this,n);var i=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.worker=null,i.subscriptionClient=null,i.worker=t,i.subscriptionClient=new r.SubscriptionClient(null,{},y({worker:t})),i}return p(n,t.ApolloLink),f(n,[{key:"request",value:function(e){return this.subscriptionClient.request(e)}}]),n}(),m=function(e){return"subscription"===e.query.definitions[0].operation},b=n(327),g=void 0;e.PromiseWorkerLink=h,e.createWorkerInterface=y,e.SubscriptionWorkerLink=v,e.isSubscription=m,e.createWebWorkerLink=function(e){var n=e.worker;return t.ApolloLink.split(m,new v({worker:n}),new h({worker:n}))},e.createWorker=function(e){var t=e.schema,n=e.context,r=e.beforeRequest,i=void 0===r?function(){return Promise.resolve()}:r;return b(function(e){return e?i(e).then(function(){return o.execute(t,e.query,{},Object.assign({},e.context||{},n),e.variables,e.operationName)}):Promise.resolve()})},e.handleSubscriptions=function(e){var t=e.message;return function(e){var t=e.schema,n=e.context;if(g)return g;var r=function(e,t,n){self.postMessage(JSON.stringify({type:t,id:e,payload:n}))},i=function(e,t,n){r(e,"error",t)},u={isLegacy:!1,operations:{}},c=function(e){u.operations&&u.operations[e]&&(u.operations[e].return&&u.operations[e].return(),delete u.operations[e])};return g=function(e){var f=JSON.parse(e.data),p=f.id;if("undefined"!=typeof p)switch(f.type){case"start":u.operations&&u.operations[p]&&c(p);var d={query:f.payload.query,variables:f.payload.variables,operationName:f.payload.operationName,context:n,formatResponse:void 0,formatError:void 0,callback:void 0},h=Promise.resolve(d);u.operations[p]=l({next:function(){return Promise.resolve({value:void 0,done:!0})},return:function(){return Promise.resolve({value:void 0,done:!0})},throw:function(e){return Promise.reject(e)}},a.$$asyncIterator,function(){}),h.then(function(e){if("object"!==("undefined"==typeof e?"undefined":s(e)))throw new Error("Invalid params returned from onOperation! return values must be an object!");var n,r,i="string"!=typeof d.query?d.query:o.parse(d.query),u=void 0,c=o.validate(t,i,o.specifiedRules);if(c.length>0)u=Promise.resolve((n=Promise.resolve({errors:c}),r=!1,n.then(function(e){return a.isAsyncIterable(e)?e:l({next:function(){return r?Promise.resolve({value:void 0,done:!0}):(r=!0,Promise.resolve({value:e,done:!1}))},return:function(){return r=!0,Promise.resolve({value:void 0,done:!0})},throw:function(e){return r=!0,Promise.reject(e)}},a.$$asyncIterator,function(){})})));else{var f=(0,o.subscribe)(t,i,{},e.context,e.variables,e.operationName);if(!a.isAsyncIterable(f)&&f instanceof Promise)u=f;else{if(!a.isAsyncIterable(f))throw new Error("Invalid `execute` return type! Only Promise or AsyncIterable are valid values!");u=Promise.resolve(f)}}return u.then(function(t){return{executionIterable:a.isAsyncIterable(t)?t:a.createAsyncIterator([t]),params:e}})}).then(function(e){var t=e.executionIterable,n=e.params;return a.forAwaitEach(a.createAsyncIterator(t),function(e){var t=e;if(n.formatResponse)try{t=n.formatResponse(e,n)}catch(e){console.error("Error in formatError function:",e)}r(p,"data",t)}).then(function(){r(p,"complete",null)}).catch(function(e){var t=e;if(n.formatError)try{t=n.formatError(e,n)}catch(e){console.error("Error in formatError function: ",e)}0===Object.keys(e).length&&(t={name:e.name,message:e.message}),i(p,t)}),t}).then(function(e){u.operations[p]=e}).catch(function(e){e.errors?r(p,"data",{errors:e.errors}):i(p,{message:e.message}),c(p)});break;default:i(p,{message:"Invalid message type!"})}}}({schema:e.schema,context:e.context})(t)},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(106),n(289),n(300),n(10),n(27))},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return l}),t.d=p;var r=n(107),i=n(157),o=function(e,t){return t?t(e):r.a.of()},a=function(e){return"function"==typeof e?new l(e):e},u=function(){return new l(function(e,t){return r.a.of()})},s=function(e){return 0===e.length?u():e.map(a).reduce(function(e,t){return e.concat(t)})},c=function(e,t,n){void 0===n&&(n=new l(o));var u=a(t),s=a(n);return Object(i.e)(u)&&Object(i.e)(s)?new l(function(t){return e(t)?u.request(t)||r.a.of():s.request(t)||r.a.of()}):new l(function(t,n){return e(t)?u.request(t,n)||r.a.of():s.request(t,n)||r.a.of()})},f=function(e,t){var n=a(e);if(Object(i.e)(n))return console.warn(new i.a("You are calling concat on a terminating link, which will have no effect",n)),n;var o=a(t);return Object(i.e)(o)?new l(function(e){return n.request(e,function(e){return o.request(e)||r.a.of()})||r.a.of()}):new l(function(e,t){return n.request(e,function(e){return o.request(e,t)||r.a.of()})||r.a.of()})},l=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return void 0===r&&(r=new e(o)),this.concat(c(t,n,r))},e.prototype.concat=function(e){return f(this,e)},e.prototype.request=function(e,t){throw new Error("request is not implemented")},e.empty=u,e.from=s,e.split=c,e.execute=p,e}();function p(e,t){return e.request(Object(i.b)(t.context,Object(i.h)(Object(i.i)(t))))||r.a.of()}},function(e,t,n){e.exports=n(279).Observable},function(e,t,n){"use strict";(function(e){!function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function i(e){setTimeout(function(){throw e})}function o(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:p}function u(e,t){Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)})}function s(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){i(e)}}}function c(e){return void 0===e._observer}function f(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=o(e,"start");n&&n.call(e,this)}catch(e){i(e)}if(!c(this)){e=new l(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)a=r,r=function(){a.unsubscribe()};else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}var a;c(this)&&s(this)}}function l(e){this._subscription=e}function p(e){if(!(this instanceof p))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),u(f.prototype={},{get closed(){return c(this)},unsubscribe:function(){c(this)||(this._observer=void 0,s(this))}}),u(l.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=o(n,"next");r&&r.call(n,e)}catch(e){i(e)}}},error:function(e){var t=this._subscription;if(c(t))i(e);else{var n=t._observer;t._observer=void 0;try{var r=o(n,"error");if(!r)throw e;r.call(n,e)}catch(e){i(e)}s(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=o(t,"complete");n&&n.call(t)}catch(e){i(e)}s(e)}}}),u(p.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new f(e,this._subscriber)},forEach:function(e){var t=this;return new Promise(function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})})},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))(function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})})},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))(function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})})},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,i=!1,o=arguments[1];return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t}},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})})}}),Object.defineProperty(p.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),u(p,{from:function(e){var t="function"==typeof this?this:p;if(null==e)throw new TypeError(e+" is not an object");var i=o(e,r("observable"));if(i){var a=i.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return a.constructor===t?a:new t(function(e){return a.subscribe(e)})}if(n("iterator")&&(i=o(e,r("iterator"))))return new t(function(t){for(var n,r=i.call(e)[Symbol.iterator]();!(n=r.next()).done;)if(t.next(n.value),t.closed)return;t.complete()});if(Array.isArray(e))return new t(function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()});throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:p)(function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()})}}),Object.defineProperty(p,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(p,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){i=e}}}),e.Observable=p}(t)}).call(t,n(280)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n(282),n(283);var r=n(158);n.d(t,"a",function(){return r.e}),n(284),n(108),n(159),n(160),n(109),n(285),n(286),n(287),n(288)},function(e,t,n){"use strict";n(108),new Map},function(e,t,n){"use strict";this&&this.__assign||Object},function(e,t,n){"use strict";n(160),n(158),new Map,new Map},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(109)},function(e,t,n){"use strict";n(109),Object.create({})},function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof e?e:"undefined"!=typeof window?window:{},o=i.WebSocket||i.MozWebSocket,a=n(290),u=n(291),s=n(292),c=n(293),f=n(22),l=n(161),p=n(294),d=n(297),h=n(298),y=n(299);t.SubscriptionClient=function(){function e(e,t,n){var r=t||{},i=r.connectionCallback,s=void 0===i?void 0:i,c=r.connectionParams,f=void 0===c?{}:c,l=r.timeout,p=void 0===l?h.WS_TIMEOUT:l,d=r.reconnect,y=void 0!==d&&d,v=r.reconnectionAttempts,m=void 0===v?1/0:v,b=r.lazy,g=void 0!==b&&b;if(this.wsImpl=n||o,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.connectionParams=f,this.connectionCallback=s,this.url=e,this.operations={},this.nextOperationId=0,this.wsTimeout=p,this.unsentMessagesQueue=[],this.reconnect=y,this.reconnecting=!1,this.reconnectionAttempts=m,this.lazy=!!g,this.closedByUser=!1,this.backoff=new a({jitter:.5}),this.eventEmitter=new u.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,y.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,n,r=this.getObserver.bind(this),i=this.executeOperation.bind(this),o=this.unsubscribe.bind(this);return(n={})[p.default]=function(){return this},n.subscribe=function(n,a,u){var s=r(n,a,u);return t=i(e,function(e,t){null===e&&null===t?s.complete&&s.complete():e?s.error&&s.error(e[0]):s.next&&s.next(t)}),{unsubscribe:function(){t&&(o(t),t=null)}}},n},e.prototype.on=function(e,t,n){var r=this.eventEmitter.on(e,t,n);return function(){r.off(e,t,n)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach(function(t){e.unsubscribe(t)})},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise(function(n,r){var i,o,a;i=t.middlewares.slice(),o=t,(a=function(t){if(t)r(t);else if(i.length>0){var u=i.shift();u&&u.applyMiddleware.apply(o,[e,a])}else n(e)})()})},e.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)}),this},e.prototype.executeOperation=function(e,t){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:e,handler:t},this.applyMiddlewares(e).then(function(e){n.checkOperationOptions(e,t),n.operations[r]&&(n.operations[r]={options:e,handler:t},n.sendMessage(r,y.default.GQL_START,e))}).catch(function(e){n.unsubscribe(r),t(n.formatErrors(e))}),r},e.prototype.getObserver=function(e,t,n){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return n&&n()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){return new a({min:1e3,max:this.wsTimeout,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.checkOperationOptions=function(e,t){var n=e.query,r=e.variables,i=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!s(n)&&!l.getOperationAST(n,i)||i&&!s(i)||r&&!c(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,n){return{id:e,type:t,payload:n&&n.query?r({},n,{query:"string"==typeof n.query?n.query:f.print(n.query)}):n}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){throw new Error("Message must be JSON-serializable. Got: "+e)}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:if(!this.reconnecting)throw new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(t){e.unsentMessagesQueue.push(e.buildMessage(t,y.default.GQL_START,e.operations[t].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){e.connect()},t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach(function(t){e.sendMessageRaw(t)}),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&e.close(!1,!0)},this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e=this;this.client=new this.wsImpl(this.url,d.GRAPHQL_WS),this.checkMaxConnectTimeout(),this.client.onopen=function(){e.clearMaxConnectTimeout(),e.closedByUser=!1,e.eventEmitter.emit(e.reconnecting?"reconnecting":"connecting");var t="function"==typeof e.connectionParams?e.connectionParams():e.connectionParams;e.sendMessage(void 0,y.default.GQL_CONNECTION_INIT,t),e.flushUnsentMessagesQueue()},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(){},this.client.onmessage=function(t){e.processReceivedData(t.data)}},e.prototype.processReceivedData=function(e){var t,n;try{n=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[y.default.GQL_DATA,y.default.GQL_COMPLETE,y.default.GQL_ERROR].indexOf(t.type)||this.operations[n])switch(t.type){case y.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case y.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case y.default.GQL_COMPLETE:this.operations[n].handler(null,null),delete this.operations[n];break;case y.default.GQL_ERROR:this.operations[n].handler(this.formatErrors(t.payload),null),delete this.operations[n];break;case y.default.GQL_DATA:var i=t.payload.errors?r({},t.payload,{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[n].handler(null,i);break;case y.default.GQL_CONNECTION_KEEP_ALIVE:var o="undefined"==typeof this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,o&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(n)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.sendMessage(e,y.default.GQL_STOP,void 0))},e}()}).call(t,n(7))},function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="function"!=typeof Object.create&&"~";function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){}a.prototype._events=void 0,a.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(e,t){var n=this._events&&this._events[i?i+e:e];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},a.prototype.emit=function(e,t,n,r,o,a){var u=i?i+e:e;if(!this._events||!this._events[u])return!1;var s,c,f=this._events[u],l=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,o),!0;case 6:return f.fn.call(f.context,t,n,r,o,a),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];f.fn.apply(f.context,s)}else{var p,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;default:if(!s)for(p=1,s=new Array(l-1);p<l;p++)s[p-1]=arguments[p];f[c].fn.apply(f[c].context,s)}}return!0},a.prototype.on=function(e,t,n){var r=new o(t,n||this),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},a.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},a.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events||!this._events[o])return this;var a=this._events[o],u=[];if(t)if(a.fn)(a.fn!==t||r&&!a.once||n&&a.context!==n)&&u.push(a);else for(var s=0,c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);return u.length?this._events[o]=1===u.length?u[0]:u:delete this._events[o],this},a.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[i?i+e:e]:this._events=i?{}:Object.create(null),this):this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,e.exports=a},function(e,t){var n=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==n.call(e)}},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e,r){var i,o=n(296);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var a=Object(o.a)(i);t.default=a}).call(t,n(7),n(295)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.a=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GRAPHQL_WS="graphql-ws",t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WS_TIMEOUT=3e4},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}()},function(e,t,n){"use strict";var r="undefined"!=typeof Promise?Promise:n(162),i=0;function o(e,t){var n=function(e){try{return JSON.parse(e)}catch(e){return!1}}(t.data);if(n){var r=n[0],i=n[1],o=n[2],a=e._callbacks[r];a&&(delete e._callbacks[r],a(i,o))}}function a(e){var t=this;t._worker=e,t._callbacks={},e.addEventListener("message",function(e){o(t,e)})}a.prototype.postMessage=function(e){var t=this,n=i++,a=[n,e];return new r(function(e,r){t._callbacks[n]=function(t,n){if(t)return r(new Error(t.message));e(n)};var i=JSON.stringify(a);if("undefined"!=typeof t._worker.controller){var u=new MessageChannel;u.port1.onmessage=function(e){o(t,e)},t._worker.controller.postMessage(i,[u.port2])}else t._worker.postMessage(i)})},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphql=function(e,t,n,r,i,o,a){var s=arguments;return new Promise(function(c){return c(1===s.length?u(e.schema,e.source,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):u(e,t,n,r,i,o,a))})},t.graphqlSync=function(e,t,n,r,i,o,a){var s=1===arguments.length?u(e.schema,e.source,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):u(e,t,n,r,i,o,a);if(s.then)throw new Error("GraphQL execution failed to complete synchronously.");return s};var r=n(80),i=n(62),o=n(169),a=n(84);function u(e,t,n,u,s,c,f){var l=(0,r.validateSchema)(e);if(l.length>0)return{errors:l};var p=void 0;try{p=(0,i.parse)(t)}catch(e){return{errors:[e]}}var d=(0,o.validate)(e,p);return d.length>0?{errors:d}:(0,a.execute)(e,p,n,u,s,c,f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,n){return new r.GraphQLError("Syntax Error: "+n,void 0,e,[t])};var r=n(36)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.formatError=function(e){return e||(0,o.default)(0,"Received null or undefined error."),r({},e.extensions,{message:e.message||"An unknown error occurred.",locations:e.locations,path:e.path})};var i,o=(i=n(18))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonExecutableDefinitionMessage=o,t.ExecutableDefinitions=function(e){return{Document:function(t){return t.definitions.forEach(function(t){t.kind!==i.Kind.OPERATION_DEFINITION&&t.kind!==i.Kind.FRAGMENT_DEFINITION&&e.reportError(new r.GraphQLError(o(t.kind===i.Kind.SCHEMA_DEFINITION?"schema":t.name.value),[t]))}),!1}}};var r=n(0),i=n(3);function o(e){return"The "+e+" definition is not executable."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;return function(n,r,i){t||(t=new WeakMap);var o=t.get(n),a=void 0;if(o){if(a=o.get(r)){var u=a.get(i);if(void 0!==u)return u}}else o=new WeakMap,t.set(n,o);a||(a=new WeakMap,o.set(r,a));var s=e.apply(this,arguments);return a.set(i,s),s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.keys(e),n=t.map(function(t){return e[t]});return Promise.all(n).then(function(e){return e.reduce(function(e,n,r){return e[t[r]]=n,e},Object.create(null))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.reduce(function(e,n){return(0,i.default)(e)?e.then(function(e){return t(e,n)}):t(e,n)},n)};var r,i=(r=n(196))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13);Object.defineProperty(t,"isSchema",{enumerable:!0,get:function(){return r.isSchema}}),Object.defineProperty(t,"GraphQLSchema",{enumerable:!0,get:function(){return r.GraphQLSchema}});var i=n(1);Object.defineProperty(t,"isType",{enumerable:!0,get:function(){return i.isType}}),Object.defineProperty(t,"isScalarType",{enumerable:!0,get:function(){return i.isScalarType}}),Object.defineProperty(t,"isObjectType",{enumerable:!0,get:function(){return i.isObjectType}}),Object.defineProperty(t,"isInterfaceType",{enumerable:!0,get:function(){return i.isInterfaceType}}),Object.defineProperty(t,"isUnionType",{enumerable:!0,get:function(){return i.isUnionType}}),Object.defineProperty(t,"isEnumType",{enumerable:!0,get:function(){return i.isEnumType}}),Object.defineProperty(t,"isInputObjectType",{enumerable:!0,get:function(){return i.isInputObjectType}}),Object.defineProperty(t,"isListType",{enumerable:!0,get:function(){return i.isListType}}),Object.defineProperty(t,"isNonNullType",{enumerable:!0,get:function(){return i.isNonNullType}}),Object.defineProperty(t,"isInputType",{enumerable:!0,get:function(){return i.isInputType}}),Object.defineProperty(t,"isOutputType",{enumerable:!0,get:function(){return i.isOutputType}}),Object.defineProperty(t,"isLeafType",{enumerable:!0,get:function(){return i.isLeafType}}),Object.defineProperty(t,"isCompositeType",{enumerable:!0,get:function(){return i.isCompositeType}}),Object.defineProperty(t,"isAbstractType",{enumerable:!0,get:function(){return i.isAbstractType}}),Object.defineProperty(t,"isWrappingType",{enumerable:!0,get:function(){return i.isWrappingType}}),Object.defineProperty(t,"isNullableType",{enumerable:!0,get:function(){return i.isNullableType}}),Object.defineProperty(t,"isNamedType",{enumerable:!0,get:function(){return i.isNamedType}}),Object.defineProperty(t,"assertType",{enumerable:!0,get:function(){return i.assertType}}),Object.defineProperty(t,"assertScalarType",{enumerable:!0,get:function(){return i.assertScalarType}}),Object.defineProperty(t,"assertObjectType",{enumerable:!0,get:function(){return i.assertObjectType}}),Object.defineProperty(t,"assertInterfaceType",{enumerable:!0,get:function(){return i.assertInterfaceType}}),Object.defineProperty(t,"assertUnionType",{enumerable:!0,get:function(){return i.assertUnionType}}),Object.defineProperty(t,"assertEnumType",{enumerable:!0,get:function(){return i.assertEnumType}}),Object.defineProperty(t,"assertInputObjectType",{enumerable:!0,get:function(){return i.assertInputObjectType}}),Object.defineProperty(t,"assertListType",{enumerable:!0,get:function(){return i.assertListType}}),Object.defineProperty(t,"assertNonNullType",{enumerable:!0,get:function(){return i.assertNonNullType}}),Object.defineProperty(t,"assertInputType",{enumerable:!0,get:function(){return i.assertInputType}}),Object.defineProperty(t,"assertOutputType",{enumerable:!0,get:function(){return i.assertOutputType}}),Object.defineProperty(t,"assertLeafType",{enumerable:!0,get:function(){return i.assertLeafType}}),Object.defineProperty(t,"assertCompositeType",{enumerable:!0,get:function(){return i.assertCompositeType}}),Object.defineProperty(t,"assertAbstractType",{enumerable:!0,get:function(){return i.assertAbstractType}}),Object.defineProperty(t,"assertWrappingType",{enumerable:!0,get:function(){return i.assertWrappingType}}),Object.defineProperty(t,"assertNullableType",{enumerable:!0,get:function(){return i.assertNullableType}}),Object.defineProperty(t,"assertNamedType",{enumerable:!0,get:function(){return i.assertNamedType}}),Object.defineProperty(t,"getNullableType",{enumerable:!0,get:function(){return i.getNullableType}}),Object.defineProperty(t,"getNamedType",{enumerable:!0,get:function(){return i.getNamedType}}),Object.defineProperty(t,"GraphQLScalarType",{enumerable:!0,get:function(){return i.GraphQLScalarType}}),Object.defineProperty(t,"GraphQLObjectType",{enumerable:!0,get:function(){return i.GraphQLObjectType}}),Object.defineProperty(t,"GraphQLInterfaceType",{enumerable:!0,get:function(){return i.GraphQLInterfaceType}}),Object.defineProperty(t,"GraphQLUnionType",{enumerable:!0,get:function(){return i.GraphQLUnionType}}),Object.defineProperty(t,"GraphQLEnumType",{enumerable:!0,get:function(){return i.GraphQLEnumType}}),Object.defineProperty(t,"GraphQLInputObjectType",{enumerable:!0,get:function(){return i.GraphQLInputObjectType}}),Object.defineProperty(t,"GraphQLList",{enumerable:!0,get:function(){return i.GraphQLList}}),Object.defineProperty(t,"GraphQLNonNull",{enumerable:!0,get:function(){return i.GraphQLNonNull}});var o=n(24);Object.defineProperty(t,"isDirective",{enumerable:!0,get:function(){return o.isDirective}}),Object.defineProperty(t,"GraphQLDirective",{enumerable:!0,get:function(){return o.GraphQLDirective}}),Object.defineProperty(t,"isSpecifiedDirective",{enumerable:!0,get:function(){return o.isSpecifiedDirective}}),Object.defineProperty(t,"specifiedDirectives",{enumerable:!0,get:function(){return o.specifiedDirectives}}),Object.defineProperty(t,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return o.GraphQLIncludeDirective}}),Object.defineProperty(t,"GraphQLSkipDirective",{enumerable:!0,get:function(){return o.GraphQLSkipDirective}}),Object.defineProperty(t,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return o.GraphQLDeprecatedDirective}}),Object.defineProperty(t,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return o.DEFAULT_DEPRECATION_REASON}});var a=n(34);Object.defineProperty(t,"isSpecifiedScalarType",{enumerable:!0,get:function(){return a.isSpecifiedScalarType}}),Object.defineProperty(t,"specifiedScalarTypes",{enumerable:!0,get:function(){return a.specifiedScalarTypes}}),Object.defineProperty(t,"GraphQLInt",{enumerable:!0,get:function(){return a.GraphQLInt}}),Object.defineProperty(t,"GraphQLFloat",{enumerable:!0,get:function(){return a.GraphQLFloat}}),Object.defineProperty(t,"GraphQLString",{enumerable:!0,get:function(){return a.GraphQLString}}),Object.defineProperty(t,"GraphQLBoolean",{enumerable:!0,get:function(){return a.GraphQLBoolean}}),Object.defineProperty(t,"GraphQLID",{enumerable:!0,get:function(){return a.GraphQLID}});var u=n(25);Object.defineProperty(t,"TypeKind",{enumerable:!0,get:function(){return u.TypeKind}}),Object.defineProperty(t,"isIntrospectionType",{enumerable:!0,get:function(){return u.isIntrospectionType}}),Object.defineProperty(t,"introspectionTypes",{enumerable:!0,get:function(){return u.introspectionTypes}}),Object.defineProperty(t,"__Schema",{enumerable:!0,get:function(){return u.__Schema}}),Object.defineProperty(t,"__Directive",{enumerable:!0,get:function(){return u.__Directive}}),Object.defineProperty(t,"__DirectiveLocation",{enumerable:!0,get:function(){return u.__DirectiveLocation}}),Object.defineProperty(t,"__Type",{enumerable:!0,get:function(){return u.__Type}}),Object.defineProperty(t,"__Field",{enumerable:!0,get:function(){return u.__Field}}),Object.defineProperty(t,"__InputValue",{enumerable:!0,get:function(){return u.__InputValue}}),Object.defineProperty(t,"__EnumValue",{enumerable:!0,get:function(){return u.__EnumValue}}),Object.defineProperty(t,"__TypeKind",{enumerable:!0,get:function(){return u.__TypeKind}}),Object.defineProperty(t,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return u.SchemaMetaFieldDef}}),Object.defineProperty(t,"TypeMetaFieldDef",{enumerable:!0,get:function(){return u.TypeMetaFieldDef}}),Object.defineProperty(t,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return u.TypeNameMetaFieldDef}});var s=n(80);Object.defineProperty(t,"validateSchema",{enumerable:!0,get:function(){return s.validateSchema}}),Object.defineProperty(t,"assertValidSchema",{enumerable:!0,get:function(){return s.assertValidSchema}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(113);Object.defineProperty(t,"getLocation",{enumerable:!0,get:function(){return r.getLocation}});var i=n(3);Object.defineProperty(t,"Kind",{enumerable:!0,get:function(){return i.Kind}});var o=n(114);Object.defineProperty(t,"createLexer",{enumerable:!0,get:function(){return o.createLexer}}),Object.defineProperty(t,"TokenKind",{enumerable:!0,get:function(){return o.TokenKind}});var a=n(62);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(t,"parseValue",{enumerable:!0,get:function(){return a.parseValue}}),Object.defineProperty(t,"parseType",{enumerable:!0,get:function(){return a.parseType}});var u=n(22);Object.defineProperty(t,"print",{enumerable:!0,get:function(){return u.print}});var s=n(166);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return s.Source}});var c=n(47);Object.defineProperty(t,"visit",{enumerable:!0,get:function(){return c.visit}}),Object.defineProperty(t,"visitInParallel",{enumerable:!0,get:function(){return c.visitInParallel}}),Object.defineProperty(t,"visitWithTypeInfo",{enumerable:!0,get:function(){return c.visitWithTypeInfo}}),Object.defineProperty(t,"getVisitFn",{enumerable:!0,get:function(){return c.getVisitFn}}),Object.defineProperty(t,"BREAK",{enumerable:!0,get:function(){return c.BREAK}});var f=n(52);Object.defineProperty(t,"DirectiveLocation",{enumerable:!0,get:function(){return f.DirectiveLocation}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84);Object.defineProperty(t,"execute",{enumerable:!0,get:function(){return r.execute}}),Object.defineProperty(t,"defaultFieldResolver",{enumerable:!0,get:function(){return r.defaultFieldResolver}}),Object.defineProperty(t,"responsePathAsArray",{enumerable:!0,get:function(){return r.responsePathAsArray}});var i=n(85);Object.defineProperty(t,"getDirectiveValues",{enumerable:!0,get:function(){return i.getDirectiveValues}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(312);Object.defineProperty(t,"subscribe",{enumerable:!0,get:function(){return r.subscribe}}),Object.defineProperty(t,"createSourceEventStream",{enumerable:!0,get:function(){return r.createSourceEventStream}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=function(e,t,n,r,i,o,a,u){return 1===arguments.length?f(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver,e.subscribeFieldResolver):f(e,t,n,r,i,o,a,u)},t.createSourceEventStream=l;var r,i=n(27),o=n(36),a=n(167),u=n(84),s=(n(13),(r=n(313))&&r.__esModule?r:{default:r});function c(e){if(e instanceof o.GraphQLError)return{errors:[e]};throw e}function f(e,t,n,r,o,a,f,p){var d=function(n){return(0,u.execute)(e,t,n,r,o,a,f)};return l(e,t,n,r,o,a,p).then(function(e){return(0,i.isAsyncIterable)(e)?(0,s.default)(e,d,c):e},c)}function l(e,t,n,r,s,c,f){(0,u.assertValidExecutionArguments)(e,t,s);try{var l=(0,u.buildExecutionContext)(e,t,n,r,s,c,f);if(Array.isArray(l))return Promise.resolve({errors:l});var p=(0,u.getOperationRootType)(e,l.operation),d=(0,u.collectFields)(l,p,l.operation.selectionSet,Object.create(null),Object.create(null)),h=Object.keys(d)[0],y=d[h],v=y[0].name.value,m=(0,u.getFieldDef)(e,p,v);if(!m)throw new o.GraphQLError('The subscription field "'+v+'" is not defined.',y);var b=m.subscribe||l.fieldResolver,g=(0,u.addPath)(void 0,h),_=(0,u.buildResolveInfo)(l,m,y,p,g),w=(0,u.resolveFieldValueOrError)(l,m,y,b,n,_);return Promise.resolve(w).then(function(e){if(e instanceof Error)throw(0,a.locatedError)(e,y,(0,u.responsePathAsArray)(g));if((0,i.isAsyncIterable)(e))return e;throw new Error("Subscription field must return Async Iterable. Received: "+String(e))})}catch(e){return Promise.reject(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=(0,r.getAsyncIterator)(e),u=void 0,s=void 0;function c(e){return e.done?e:i(e.value,t).then(o,s)}"function"==typeof a.return&&(u=a.return,s=function(e){var t=function(){return Promise.reject(e)};return u.call(a).then(t,t)});var f,l,p,d=void 0;if(n){var h=n;d=function(e){return i(e,h).then(o,s)}}return p=function(){return this},(l=r.$$asyncIterator)in(f={next:function(){return a.next().then(c,d)},return:function(){return u?u.call(a).then(c,d):Promise.resolve({value:void 0,done:!0})},throw:function(e){return"function"==typeof a.throw?a.throw(e).then(c,d):Promise.reject(e).catch(s)}})?Object.defineProperty(f,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[l]=p,f};var r=n(27);function i(e,t){return new Promise(function(n){return n(t(e))})}function o(e){return{value:e,done:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesInAllowedPositionRule=t.VariablesDefaultValueAllowedRule=t.VariablesAreInputTypesRule=t.ValuesOfCorrectTypeRule=t.UniqueVariableNamesRule=t.UniqueOperationNamesRule=t.UniqueInputFieldNamesRule=t.UniqueFragmentNamesRule=t.UniqueDirectivesPerLocationRule=t.UniqueArgumentNamesRule=t.SingleFieldSubscriptionsRule=t.ScalarLeafsRule=t.ProvidedNonNullArgumentsRule=t.PossibleFragmentSpreadsRule=t.OverlappingFieldsCanBeMergedRule=t.NoUnusedVariablesRule=t.NoUnusedFragmentsRule=t.NoUndefinedVariablesRule=t.NoFragmentCyclesRule=t.LoneAnonymousOperationRule=t.KnownTypeNamesRule=t.KnownFragmentNamesRule=t.KnownDirectivesRule=t.KnownArgumentNamesRule=t.FragmentsOnCompositeTypesRule=t.FieldsOnCorrectTypeRule=t.specifiedRules=t.ValidationContext=t.validate=void 0;var r=n(169);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return r.validate}});var i=n(170);Object.defineProperty(t,"specifiedRules",{enumerable:!0,get:function(){return i.specifiedRules}});var o=n(178);Object.defineProperty(t,"FieldsOnCorrectTypeRule",{enumerable:!0,get:function(){return o.FieldsOnCorrectType}});var a=n(175);Object.defineProperty(t,"FragmentsOnCompositeTypesRule",{enumerable:!0,get:function(){return a.FragmentsOnCompositeTypes}});var u=n(189);Object.defineProperty(t,"KnownArgumentNamesRule",{enumerable:!0,get:function(){return u.KnownArgumentNames}});var s=n(187);Object.defineProperty(t,"KnownDirectivesRule",{enumerable:!0,get:function(){return s.KnownDirectives}});var c=n(180);Object.defineProperty(t,"KnownFragmentNamesRule",{enumerable:!0,get:function(){return c.KnownFragmentNames}});var f=n(174);Object.defineProperty(t,"KnownTypeNamesRule",{enumerable:!0,get:function(){return f.KnownTypeNames}});var l=n(172);Object.defineProperty(t,"LoneAnonymousOperationRule",{enumerable:!0,get:function(){return l.LoneAnonymousOperation}});var p=n(183);Object.defineProperty(t,"NoFragmentCyclesRule",{enumerable:!0,get:function(){return p.NoFragmentCycles}});var d=n(185);Object.defineProperty(t,"NoUndefinedVariablesRule",{enumerable:!0,get:function(){return d.NoUndefinedVariables}});var h=n(181);Object.defineProperty(t,"NoUnusedFragmentsRule",{enumerable:!0,get:function(){return h.NoUnusedFragments}});var y=n(186);Object.defineProperty(t,"NoUnusedVariablesRule",{enumerable:!0,get:function(){return y.NoUnusedVariables}});var v=n(194);Object.defineProperty(t,"OverlappingFieldsCanBeMergedRule",{enumerable:!0,get:function(){return v.OverlappingFieldsCanBeMerged}});var m=n(182);Object.defineProperty(t,"PossibleFragmentSpreadsRule",{enumerable:!0,get:function(){return m.PossibleFragmentSpreads}});var b=n(191);Object.defineProperty(t,"ProvidedNonNullArgumentsRule",{enumerable:!0,get:function(){return b.ProvidedNonNullArguments}});var g=n(177);Object.defineProperty(t,"ScalarLeafsRule",{enumerable:!0,get:function(){return g.ScalarLeafs}});var _=n(173);Object.defineProperty(t,"SingleFieldSubscriptionsRule",{enumerable:!0,get:function(){return _.SingleFieldSubscriptions}});var w=n(190);Object.defineProperty(t,"UniqueArgumentNamesRule",{enumerable:!0,get:function(){return w.UniqueArgumentNames}});var E=n(188);Object.defineProperty(t,"UniqueDirectivesPerLocationRule",{enumerable:!0,get:function(){return E.UniqueDirectivesPerLocation}});var O=n(179);Object.defineProperty(t,"UniqueFragmentNamesRule",{enumerable:!0,get:function(){return O.UniqueFragmentNames}});var T=n(195);Object.defineProperty(t,"UniqueInputFieldNamesRule",{enumerable:!0,get:function(){return T.UniqueInputFieldNames}});var S=n(171);Object.defineProperty(t,"UniqueOperationNamesRule",{enumerable:!0,get:function(){return S.UniqueOperationNames}});var k=n(184);Object.defineProperty(t,"UniqueVariableNamesRule",{enumerable:!0,get:function(){return k.UniqueVariableNames}});var x=n(117);Object.defineProperty(t,"ValuesOfCorrectTypeRule",{enumerable:!0,get:function(){return x.ValuesOfCorrectType}});var j=n(176);Object.defineProperty(t,"VariablesAreInputTypesRule",{enumerable:!0,get:function(){return j.VariablesAreInputTypes}});var N=n(192);Object.defineProperty(t,"VariablesDefaultValueAllowedRule",{enumerable:!0,get:function(){return N.VariablesDefaultValueAllowed}});var I=n(193);Object.defineProperty(t,"VariablesInAllowedPositionRule",{enumerable:!0,get:function(){return I.VariablesInAllowedPosition}});var A,L=(A=n(118))&&A.__esModule?A:{default:A};t.ValidationContext=L.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(197);Object.defineProperty(t,"getIntrospectionQuery",{enumerable:!0,get:function(){return r.getIntrospectionQuery}}),Object.defineProperty(t,"introspectionQuery",{enumerable:!0,get:function(){return r.introspectionQuery}});var i=n(161);Object.defineProperty(t,"getOperationAST",{enumerable:!0,get:function(){return i.getOperationAST}});var o=n(316);Object.defineProperty(t,"introspectionFromSchema",{enumerable:!0,get:function(){return o.introspectionFromSchema}});var a=n(317);Object.defineProperty(t,"buildClientSchema",{enumerable:!0,get:function(){return a.buildClientSchema}});var u=n(198);Object.defineProperty(t,"buildASTSchema",{enumerable:!0,get:function(){return u.buildASTSchema}}),Object.defineProperty(t,"buildSchema",{enumerable:!0,get:function(){return u.buildSchema}}),Object.defineProperty(t,"getDescription",{enumerable:!0,get:function(){return u.getDescription}});var s=n(318);Object.defineProperty(t,"extendSchema",{enumerable:!0,get:function(){return s.extendSchema}});var c=n(319);Object.defineProperty(t,"lexicographicSortSchema",{enumerable:!0,get:function(){return c.lexicographicSortSchema}});var f=n(320);Object.defineProperty(t,"printSchema",{enumerable:!0,get:function(){return f.printSchema}}),Object.defineProperty(t,"printType",{enumerable:!0,get:function(){return f.printType}}),Object.defineProperty(t,"printIntrospectionSchema",{enumerable:!0,get:function(){return f.printIntrospectionSchema}});var l=n(28);Object.defineProperty(t,"typeFromAST",{enumerable:!0,get:function(){return l.typeFromAST}});var p=n(86);Object.defineProperty(t,"valueFromAST",{enumerable:!0,get:function(){return p.valueFromAST}});var d=n(163);Object.defineProperty(t,"valueFromASTUntyped",{enumerable:!0,get:function(){return d.valueFromASTUntyped}});var h=n(112);Object.defineProperty(t,"astFromValue",{enumerable:!0,get:function(){return h.astFromValue}});var y=n(63);Object.defineProperty(t,"TypeInfo",{enumerable:!0,get:function(){return y.TypeInfo}});var v=n(119);Object.defineProperty(t,"coerceValue",{enumerable:!0,get:function(){return v.coerceValue}});var m=n(321);Object.defineProperty(t,"isValidJSValue",{enumerable:!0,get:function(){return m.isValidJSValue}});var b=n(322);Object.defineProperty(t,"isValidLiteralValue",{enumerable:!0,get:function(){return b.isValidLiteralValue}});var g=n(323);Object.defineProperty(t,"concatAST",{enumerable:!0,get:function(){return g.concatAST}});var _=n(324);Object.defineProperty(t,"separateOperations",{enumerable:!0,get:function(){return _.separateOperations}});var w=n(83);Object.defineProperty(t,"isEqualType",{enumerable:!0,get:function(){return w.isEqualType}}),Object.defineProperty(t,"isTypeSubTypeOf",{enumerable:!0,get:function(){return w.isTypeSubTypeOf}}),Object.defineProperty(t,"doTypesOverlap",{enumerable:!0,get:function(){return w.doTypesOverlap}});var E=n(165);Object.defineProperty(t,"assertValidName",{enumerable:!0,get:function(){return E.assertValidName}}),Object.defineProperty(t,"isValidNameError",{enumerable:!0,get:function(){return E.isValidNameError}});var O=n(325);Object.defineProperty(t,"BreakingChangeType",{enumerable:!0,get:function(){return O.BreakingChangeType}}),Object.defineProperty(t,"DangerousChangeType",{enumerable:!0,get:function(){return O.DangerousChangeType}}),Object.defineProperty(t,"findBreakingChanges",{enumerable:!0,get:function(){return O.findBreakingChanges}}),Object.defineProperty(t,"findDangerousChanges",{enumerable:!0,get:function(){return O.findDangerousChanges}});var T=n(326);Object.defineProperty(t,"findDeprecatedUsages",{enumerable:!0,get:function(){return T.findDeprecatedUsages}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.introspectionFromSchema=function(e,t){var n=(0,u.parse)((0,o.getIntrospectionQuery)(t)),r=(0,a.execute)(e,n);return(r.then||r.errors||!r.data)&&(0,i.default)(0),r.data};var r,i=(r=n(18))&&r.__esModule?r:{default:r},o=n(197),a=(n(13),n(84)),u=n(62)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildClientSchema=function(e,t){var n=e.__schema,h=(0,i.default)(n.types,function(e){return e.name}),y=(0,i.default)(d.specifiedScalarTypes.concat(p.introspectionTypes),function(e){return e.name});function v(e){if(e.kind===p.TypeKind.LIST){var t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return(0,f.GraphQLList)(v(t))}if(e.kind===p.TypeKind.NON_NULL){var n=e.ofType;if(!n)throw new Error("Decorated type deeper than introspection query.");var r=v(n);return(0,f.GraphQLNonNull)((0,f.assertNullableType)(r))}if(!e.name)throw new Error("Unknown type reference: "+JSON.stringify(e));return m(e.name)}function m(e){if(y[e])return y[e];var t=h[e];if(!t)throw new Error("Invalid or incomplete schema, unknown type: "+e+". Ensure that a full introspection query is used in order to build a client schema.");var n=function(e){if(e&&e.name&&e.kind)switch(e.kind){case p.TypeKind.SCALAR:return new f.GraphQLScalarType({name:(n=e).name,description:n.description,serialize:function(e){return e}});case p.TypeKind.OBJECT:return function(e){if(!e.interfaces)throw new Error("Introspection result missing interfaces: "+JSON.stringify(e));return new f.GraphQLObjectType({name:e.name,description:e.description,interfaces:e.interfaces.map(g),fields:function(){return _(e)}})}(e);case p.TypeKind.INTERFACE:return new f.GraphQLInterfaceType({name:(t=e).name,description:t.description,fields:function(){return _(t)}});case p.TypeKind.UNION:return function(e){if(!e.possibleTypes)throw new Error("Introspection result missing possibleTypes: "+JSON.stringify(e));return new f.GraphQLUnionType({name:e.name,description:e.description,types:e.possibleTypes.map(b)})}(e);case p.TypeKind.ENUM:return function(e){if(!e.enumValues)throw new Error("Introspection result missing enumValues: "+JSON.stringify(e));return new f.GraphQLEnumType({name:e.name,description:e.description,values:(0,o.default)(e.enumValues,function(e){return e.name},function(e){return{description:e.description,deprecationReason:e.deprecationReason}})})}(e);case p.TypeKind.INPUT_OBJECT:return function(e){if(!e.inputFields)throw new Error("Introspection result missing inputFields: "+JSON.stringify(e));return new f.GraphQLInputObjectType({name:e.name,description:e.description,fields:function(){return w(e.inputFields)}})}(e)}var t,n;throw new Error("Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema:"+JSON.stringify(e))}(t);return y[e]=n,n}function b(e){var t=v(e);return(0,f.assertObjectType)(t)}function g(e){var t=v(e);return(0,f.assertInterfaceType)(t)}function _(e){if(!e.fields)throw new Error("Introspection result missing fields: "+JSON.stringify(e));return(0,o.default)(e.fields,function(e){return e.name},function(e){if(!e.args)throw new Error("Introspection result missing field args: "+JSON.stringify(e));return{description:e.description,deprecationReason:e.deprecationReason,type:(t=e.type,n=v(t),(0,f.isOutputType)(n)||(0,r.default)(0,"Introspection must provide output type for fields."),n),args:w(e.args)};var t,n})}function w(e){return(0,o.default)(e,function(e){return e.name},E)}function E(e){var t=function(t){var n=v(e.type);return(0,f.isInputType)(n)||(0,r.default)(0,"Introspection must provide input type for arguments."),n}(),n=e.defaultValue?(0,a.valueFromAST)((0,u.parseValue)(e.defaultValue),t):void 0;return{name:e.name,description:e.description,type:t,defaultValue:n}}var O=n.types.map(function(e){return m(e.name)}),T=n.queryType?b(n.queryType):null,S=n.mutationType?b(n.mutationType):null,k=n.subscriptionType?b(n.subscriptionType):null,x=n.directives?n.directives.map(function(e){var t=e.locations?e.locations.slice():[].concat(e.onField?[c.DirectiveLocation.FIELD]:[],e.onOperation?[c.DirectiveLocation.QUERY,c.DirectiveLocation.MUTATION,c.DirectiveLocation.SUBSCRIPTION]:[],e.onFragment?[c.DirectiveLocation.FRAGMENT_DEFINITION,c.DirectiveLocation.FRAGMENT_SPREAD,c.DirectiveLocation.INLINE_FRAGMENT]:[]);if(!e.args)throw new Error("Introspection result missing directive args: "+JSON.stringify(e));return new l.GraphQLDirective({name:e.name,description:e.description,locations:t,args:w(e.args)})}):[];return new s.GraphQLSchema({query:T,mutation:S,subscription:k,types:O,directives:x,assumeValid:t&&t.assumeValid,allowedLegacyNames:t&&t.allowedLegacyNames})};var r=h(n(18)),i=h(n(37)),o=h(n(81)),a=n(86),u=n(62),s=n(13),c=n(52),f=n(1),l=n(24),p=n(25),d=n(34);function h(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSchema=function(e,t,n){(0,s.isSchema)(e)||(0,r.default)(0,"Must provide valid GraphQLSchema"),(!t||t.kind!==l.Kind.DOCUMENT)&&(0,r.default)(0,"Must provide valid Document AST");for(var p=Object.create(null),h=Object.create(null),y=[],v=0;v<t.definitions.length;v++){var m=t.definitions[v];switch(m.kind){case l.Kind.OBJECT_TYPE_DEFINITION:case l.Kind.INTERFACE_TYPE_DEFINITION:case l.Kind.ENUM_TYPE_DEFINITION:case l.Kind.UNION_TYPE_DEFINITION:case l.Kind.SCALAR_TYPE_DEFINITION:case l.Kind.INPUT_OBJECT_TYPE_DEFINITION:var b=m.name.value;if(e.getType(b))throw new u.GraphQLError('Type "'+b+'" already exists in the schema. It cannot also be defined in this type definition.',[m]);p[b]=m;break;case l.Kind.OBJECT_TYPE_EXTENSION:case l.Kind.INTERFACE_TYPE_EXTENSION:var g=m.name.value,_=e.getType(g);if(!_)throw new u.GraphQLError('Cannot extend type "'+g+'" because it does not exist in the existing schema.',[m]);d(_,m);var w=h[g];h[g]=w?w.concat([m]):[m];break;case l.Kind.DIRECTIVE_DEFINITION:var E=m.name.value;if(e.getDirective(E))throw new u.GraphQLError('Directive "'+E+'" already exists in the schema. It cannot be redefined.',[m]);y.push(m);break;case l.Kind.SCALAR_TYPE_EXTENSION:case l.Kind.UNION_TYPE_EXTENSION:case l.Kind.ENUM_TYPE_EXTENSION:case l.Kind.INPUT_OBJECT_TYPE_EXTENSION:throw new Error("The "+m.kind+" kind is not yet supported by extendSchema().")}}if(0===Object.keys(h).length&&0===Object.keys(p).length&&0===y.length)return e;var O,T=new a.ASTDefinitionBuilder(p,n,function(t){var n=t.name.value,r=e.getType(n);if(r)return C(r);throw new u.GraphQLError('Unknown type: "'+n+'". Ensure that this type exists either in the original schema, or is added in a type definition.',[t])}),S=Object.create(null),k=e.getQueryType(),x=k?C(k):null,j=e.getMutationType(),N=j?C(j):null,I=e.getSubscriptionType(),A=I?C(I):null,L=[].concat((0,o.default)(e.getTypeMap()).map(function(e){return C(e)}),T.buildTypes((0,o.default)(p))),D=e.__allowedLegacyNames,P=n&&n.allowedLegacyNames,R=D&&P?D.concat(P):D||P;return new s.GraphQLSchema({query:x,mutation:N,subscription:A,types:L,directives:(O=e.getDirectives(),O||(0,r.default)(0,"schema must have default directives"),O.concat(y.map(function(e){return T.buildDirective(e)}))),astNode:e.astNode,allowedLegacyNames:R});function C(e){return S[e.name]||(S[e.name]=function(e){return(0,c.isIntrospectionType)(e)?e:(0,f.isObjectType)(e)?function(e){var t=e.name,n=h[t]?e.extensionASTNodes?e.extensionASTNodes.concat(h[t]):h[t]:e.extensionASTNodes;return new f.GraphQLObjectType({name:t,description:e.description,interfaces:function(){return function(e){var t=e.getInterfaces().map(C),n=h[e.name];return n&&n.forEach(function(e){e.interfaces.forEach(function(e){t.push(T.buildType(e))})}),t}(e)},fields:function(){return M(e)},astNode:e.astNode,extensionASTNodes:n,isTypeOf:e.isTypeOf})}(e):(0,f.isInterfaceType)(e)?function(e){var t=e.name,n=h[t]?e.extensionASTNodes?e.extensionASTNodes.concat(h[t]):h[t]:e.extensionASTNodes;return new f.GraphQLInterfaceType({name:e.name,description:e.description,fields:function(){return M(e)},astNode:e.astNode,extensionASTNodes:n,resolveType:e.resolveType})}(e):(0,f.isUnionType)(e)?function(e){return new f.GraphQLUnionType({name:e.name,description:e.description,types:e.getTypes().map(C),astNode:e.astNode,resolveType:e.resolveType})}(e):e}(e)),S[e.name]}function M(e){var t=Object.create(null),n=e.getFields();Object.keys(n).forEach(function(e){var r=n[e];t[e]={description:r.description,deprecationReason:r.deprecationReason,type:function e(t){return(0,f.isListType)(t)?(0,f.GraphQLList)(e(t.ofType)):(0,f.isNonNullType)(t)?(0,f.GraphQLNonNull)(e(t.ofType)):C(t)}(r.type),args:(0,i.default)(r.args,function(e){return e.name}),astNode:r.astNode,resolve:r.resolve}});var r=h[e.name];return r&&r.forEach(function(r){r.fields.forEach(function(r){var i=r.name.value;if(n[i])throw new u.GraphQLError('Field "'+e.name+"."+i+'" already exists in the schema. It cannot also be defined in this type extension.',[r]);t[i]=T.buildField(r)})}),t}};var r=p(n(18)),i=p(n(37)),o=p(n(35)),a=n(198),u=n(36),s=n(13),c=n(25),f=n(1),l=(n(24),n(3));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){switch(t.kind){case l.Kind.OBJECT_TYPE_EXTENSION:if(!(0,f.isObjectType)(e))throw new u.GraphQLError('Cannot extend non-object type "'+e.name+'".',[t]);break;case l.Kind.INTERFACE_TYPE_EXTENSION:if(!(0,f.isInterfaceType)(e))throw new u.GraphQLError('Cannot extend non-interface type "'+e.name+'".',[t])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.lexicographicSortSchema=function(e){var t=Object.create(null),n=function(e){return e&&b(e)};return new a.GraphQLSchema({types:m((0,o.default)(e.getTypeMap())),directives:d(e.getDirectives()).map(function(e){return new u.GraphQLDirective({name:e.name,description:e.description,locations:h(e.locations,function(e){return e}),args:l(e.args),astNode:e.astNode})}),query:n(e.getQueryType()),mutation:n(e.getMutationType()),subscription:n(e.getSubscriptionType()),astNode:e.astNode});function l(e){return(0,i.default)(d(e),function(e){return e.name},function(e){return r({},e,{type:v(e.type)})})}function y(e){return p(e,function(e){return{type:v(e.type),args:l(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}})}function v(e){return(0,s.isListType)(e)?new s.GraphQLList(v(e.ofType)):(0,s.isNonNullType)(e)?new s.GraphQLNonNull(v(e.ofType)):b(e)}function m(e){return d(e).map(b)}function b(e){if((0,c.isSpecifiedScalarType)(e)||(0,f.isIntrospectionType)(e))return e;var n=t[e.name];return n||(n=function(e){if((0,s.isScalarType)(e))return e;if((0,s.isObjectType)(e))return new s.GraphQLObjectType({name:e.name,interfaces:function(){return m(e.getInterfaces())},fields:function(){return y(e.getFields())},isTypeOf:e.isTypeOf,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if((0,s.isInterfaceType)(e))return new s.GraphQLInterfaceType({name:e.name,fields:function(){return y(e.getFields())},resolveType:e.resolveType,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if((0,s.isUnionType)(e))return new s.GraphQLUnionType({name:e.name,types:function(){return m(e.getTypes())},resolveType:e.resolveType,description:e.description,astNode:e.astNode});if((0,s.isEnumType)(e))return new s.GraphQLEnumType({name:e.name,values:(0,i.default)(d(e.getValues()),function(e){return e.name},function(e){return{value:e.value,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}}),description:e.description,astNode:e.astNode});if((0,s.isInputObjectType)(e))return new s.GraphQLInputObjectType({name:e.name,fields:function(){return p(e.getFields(),function(e){return{type:v(e.type),defaultValue:e.defaultValue,description:e.description,astNode:e.astNode}})},description:e.description,astNode:e.astNode});throw new Error('Unknown type: "'+e+'"')}(e),t[e.name]=n),n}};var i=l(n(81)),o=l(n(35)),a=n(13),u=n(24),s=n(1),c=n(34),f=n(25);function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.create(null),r=h(Object.keys(e),function(e){return e}),i=!0,o=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value,f=e[c];n[c]=t?t(f):f}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}function d(e){return h(e,function(e){return e.name})}function h(e,t){return e.slice().sort(function(e,n){var r=t(e),i=t(n);return r.localeCompare(i)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printSchema=function(e,t){return h(e,function(e){return!(0,f.isSpecifiedDirective)(e)},d,t)},t.printIntrospectionSchema=function(e,t){return h(e,f.isSpecifiedDirective,l.isIntrospectionType,t)},t.printType=y;var r=p(n(82)),i=p(n(23)),o=p(n(35)),a=n(112),u=n(22),s=n(1),c=n(34),f=n(24),l=n(25);function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return!(0,c.isSpecifiedScalarType)(e)&&!(0,l.isIntrospectionType)(e)}function h(e,t,n,r){var i=e.getDirectives().filter(t),a=e.getTypeMap(),u=(0,o.default)(a).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(n);return[function(e){if(!function(e){var t=e.getQueryType();if(t&&"Query"!==t.name)return!1;var n=e.getMutationType();if(n&&"Mutation"!==n.name)return!1;var r=e.getSubscriptionType();return!r||"Subscription"===r.name}(e)){var t=[],n=e.getQueryType();n&&t.push("  query: "+n.name);var r=e.getMutationType();r&&t.push("  mutation: "+r.name);var i=e.getSubscriptionType();return i&&t.push("  subscription: "+i.name),"schema {\n"+t.join("\n")+"\n}"}}(e)].concat(i.map(function(e){return function(e,t){return _(t,e)+"directive @"+e.name+m(t,e.args)+" on "+e.locations.join(" | ")}(e,r)}),u.map(function(e){return y(e,r)})).filter(Boolean).join("\n\n")+"\n"}function y(e,t){if((0,s.isScalarType)(e))return function(e,t){return _(t,e)+"scalar "+e.name}(e,t);if((0,s.isObjectType)(e))return function(e,t){var n=e.getInterfaces(),r=n.length?" implements "+n.map(function(e){return e.name}).join(" & "):"";return _(t,e)+"type "+e.name+r+" {\n"+v(t,e)+"\n}"}(e,t);if((0,s.isInterfaceType)(e))return function(e,t){return _(t,e)+"interface "+e.name+" {\n"+v(t,e)+"\n}"}(e,t);if((0,s.isUnionType)(e))return function(e,t){return _(t,e)+"union "+e.name+" = "+e.getTypes().join(" | ")}(e,t);if((0,s.isEnumType)(e))return function(e,t){return _(t,e)+"enum "+e.name+" {\n"+function(e,t){return e.map(function(e,n){return _(t,e,"  ",!n)+"  "+e.name+g(e)}).join("\n")}(e.getValues(),t)+"\n}"}(e,t);if((0,s.isInputObjectType)(e))return function(e,t){var n=(0,o.default)(e.getFields());return _(t,e)+"input "+e.name+" {\n"+n.map(function(e,n){return _(t,e,"  ",!n)+"  "+b(e)}).join("\n")+"\n}"}(e,t);throw new Error("Unknown type: "+e+".")}function v(e,t){return(0,o.default)(t.getFields()).map(function(t,n){return _(e,t,"  ",!n)+"  "+t.name+m(e,t.args,"  ")+": "+String(t.type)+g(t)}).join("\n")}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 0===t.length?"":t.every(function(e){return!e.description})?"("+t.map(b).join(", ")+")":"(\n"+t.map(function(t,r){return _(e,t,"  "+n,!r)+"  "+n+b(t)}).join("\n")+"\n"+n+")"}function b(e){var t=e.name+": "+String(e.type);return(0,i.default)(e.defaultValue)||(t+=" = "+(0,u.print)((0,a.astFromValue)(e.defaultValue,e.type))),t}function g(e){if(!e.isDeprecated)return"";var t=e.deprecationReason;return(0,r.default)(t)||""===t||t===f.DEFAULT_DEPRECATION_REASON?" @deprecated":" @deprecated(reason: "+(0,u.print)((0,a.astFromValue)(t,c.GraphQLString))+")"}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t.description)return"";var i=function(e,n){for(var r=[],i=t.description.split("\n"),o=0;o<i.length;o++)if(""===i[o])r.push(i[o]);else for(var a=E(i[o],n),u=0;u<a.length;u++)r.push(a[u]);return r}(0,120-n.length);if(e&&e.commentDescriptions)return function(e,t,n){for(var r=t&&!n?"\n":"",i=0;i<e.length;i++)r+=""===e[i]?t+"#\n":t+"# "+e[i]+"\n";return r}(i,n,r);var o=n&&!r?"\n"+n+'"""':n+'"""';if(1===i.length&&i[0].length<70&&'"'!==i[0][i[0].length-1])return o+w(i[0])+'"""\n';var a=" "===i[0][0]||"\t"===i[0][0];a||(o+="\n");for(var u=0;u<i.length;u++)0===u&&a||(o+=n),o+=w(i[u])+"\n";return o+(n+'"""\n')}function w(e){return e.replace(/"""/g,'\\"""')}function E(e,t){if(e.length<t+5)return[e];var n=e.split(new RegExp("((?: |^).{15,"+(t-40)+"}(?= |$))"));if(n.length<4)return[e];for(var r=[n[0]+n[1]+n[2]],i=3;i<n.length;i+=2)r.push(n[i].slice(1)+n[i+1]);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidJSValue=function(e,t){var n=(0,r.coerceValue)(e,t).errors;return n?n.map(function(e){return e.message}):[]};var r=n(119)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidLiteralValue=function(e,t){var n=new u.GraphQLSchema({}),r={kind:o.Kind.DOCUMENT,definitions:[]},f=new i.TypeInfo(n,void 0,e),l=new c.default(n,r,f),p=(0,s.ValuesOfCorrectType)(l);return(0,a.visit)(t,(0,a.visitWithTypeInfo)(f,p)),l.getErrors()};var r,i=n(63),o=n(3),a=n(47),u=n(13),s=n(117),c=(r=n(118))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatAST=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n].definitions,i=0;i<r.length;i++)t.push(r[i]);return{kind:"Document",definitions:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.separateOperations=function(e){var t=[],n=Object.create(null),o=new Map,a=Object.create(null),u=void 0,s=0;(0,r.visit)(e,{OperationDefinition:function(e){u=i(e),t.push(e),o.set(e,s++)},FragmentDefinition:function(e){n[u=e.name.value]=e,o.set(e,s++)},FragmentSpread:function(e){var t=e.name.value;(a[u]||(a[u]=Object.create(null)))[t]=!0}});var c=Object.create(null);return t.forEach(function(e){var t=i(e),r=Object.create(null);!function e(t,n,r){var i=n[r];i&&Object.keys(i).forEach(function(r){t[r]||(t[r]=!0,e(t,n,r))})}(r,a,t);var u=[e];Object.keys(r).forEach(function(e){u.push(n[e])}),u.sort(function(e,t){return(o.get(e)||0)-(o.get(t)||0)}),c[t]={kind:"Document",definitions:u}}),c};var r=n(47);function i(e){return e.name?e.name.value:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DangerousChangeType=t.BreakingChangeType=void 0,t.findBreakingChanges=function(e,t){return[].concat(s(e,t),c(e,t),p(e,t),d(e,t).breakingChanges,y(e,t),m(e,t),f(e,t).breakingChanges,g(e,t),w(e,t),E(e,t),O(e,t),S(e,t))},t.findDangerousChanges=function(e,t){return[].concat(f(e,t).dangerousChanges,b(e,t),_(e,t),v(e,t),d(e,t).dangerousChanges)},t.findRemovedTypes=s,t.findTypesThatChangedKind=c,t.findArgChanges=f,t.findFieldsThatChangedTypeOnObjectOrInterfaceTypes=p,t.findFieldsThatChangedTypeOnInputObjectTypes=d,t.findTypesRemovedFromUnions=y,t.findTypesAddedToUnions=v,t.findValuesRemovedFromEnums=m,t.findValuesAddedToEnums=b,t.findInterfacesRemovedFromObjectTypes=g,t.findInterfacesAddedToObjectTypes=_,t.findRemovedDirectives=w,t.findRemovedDirectiveArgs=E,t.findAddedNonNullDirectiveArgs=O,t.findRemovedLocationsForDirective=T,t.findRemovedDirectiveLocations=S;var r,i=n(1),o=(n(24),n(13),(r=n(37))&&r.__esModule?r:{default:r}),a=t.BreakingChangeType={FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",FIELD_REMOVED:"FIELD_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED:"TYPE_REMOVED",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM",ARG_REMOVED:"ARG_REMOVED",ARG_CHANGED_KIND:"ARG_CHANGED_KIND",NON_NULL_ARG_ADDED:"NON_NULL_ARG_ADDED",NON_NULL_INPUT_FIELD_ADDED:"NON_NULL_INPUT_FIELD_ADDED",INTERFACE_REMOVED_FROM_OBJECT:"INTERFACE_REMOVED_FROM_OBJECT",DIRECTIVE_REMOVED:"DIRECTIVE_REMOVED",DIRECTIVE_ARG_REMOVED:"DIRECTIVE_ARG_REMOVED",DIRECTIVE_LOCATION_REMOVED:"DIRECTIVE_LOCATION_REMOVED",NON_NULL_DIRECTIVE_ARG_ADDED:"NON_NULL_DIRECTIVE_ARG_ADDED"},u=t.DangerousChangeType={ARG_DEFAULT_VALUE_CHANGE:"ARG_DEFAULT_VALUE_CHANGE",VALUE_ADDED_TO_ENUM:"VALUE_ADDED_TO_ENUM",INTERFACE_ADDED_TO_OBJECT:"INTERFACE_ADDED_TO_OBJECT",TYPE_ADDED_TO_UNION:"TYPE_ADDED_TO_UNION",NULLABLE_INPUT_FIELD_ADDED:"NULLABLE_INPUT_FIELD_ADDED",NULLABLE_ARG_ADDED:"NULLABLE_ARG_ADDED"};function s(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){r[e]||i.push({type:a.TYPE_REMOVED,description:e+" was removed."})}),i}function c(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){if(r[e]){var t=n[e],o=r[e];t.constructor!==o.constructor&&i.push({type:a.TYPE_CHANGED_KIND,description:e+" changed from "+l(t)+" to "+l(o)+"."})}}),i}function f(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[],s=[];return Object.keys(n).forEach(function(e){var t=n[e],c=r[e];if(((0,i.isObjectType)(t)||(0,i.isInterfaceType)(t))&&((0,i.isObjectType)(c)||(0,i.isInterfaceType)(c))&&c.constructor===t.constructor){var f=t.getFields(),l=c.getFields();Object.keys(f).forEach(function(e){l[e]&&(f[e].args.forEach(function(n){var r=l[e].args.find(function(e){return e.name===n.name});r?h(n.type,r.type)?void 0!==n.defaultValue&&n.defaultValue!==r.defaultValue&&s.push({type:u.ARG_DEFAULT_VALUE_CHANGE,description:t.name+"."+e+" arg "+n.name+" has changed defaultValue"}):o.push({type:a.ARG_CHANGED_KIND,description:t.name+"."+e+" arg "+n.name+" has changed type from "+n.type.toString()+" to "+r.type.toString()}):o.push({type:a.ARG_REMOVED,description:t.name+"."+e+" arg "+n.name+" was removed"})}),l[e].args.forEach(function(t){f[e].args.find(function(e){return e.name===t.name})||((0,i.isNonNullType)(t.type)?o.push({type:a.NON_NULL_ARG_ADDED,description:"A non-null arg "+t.name+" on "+c.name+"."+e+" was added"}):s.push({type:u.NULLABLE_ARG_ADDED,description:"A nullable arg "+t.name+" on "+c.name+"."+e+" was added"}))}))})}}),{breakingChanges:o,dangerousChanges:s}}function l(e){if((0,i.isScalarType)(e))return"a Scalar type";if((0,i.isObjectType)(e))return"an Object type";if((0,i.isInterfaceType)(e))return"an Interface type";if((0,i.isUnionType)(e))return"a Union type";if((0,i.isEnumType)(e))return"an Enum type";if((0,i.isInputObjectType)(e))return"an Input type";throw new TypeError("Unknown type "+e.constructor.name)}function p(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],u=r[e];if(((0,i.isObjectType)(t)||(0,i.isInterfaceType)(t))&&((0,i.isObjectType)(u)||(0,i.isInterfaceType)(u))&&u.constructor===t.constructor){var s=t.getFields(),c=u.getFields();Object.keys(s).forEach(function(t){if(t in c){var n=s[t].type,r=c[t].type;if(!function e(t,n){return(0,i.isNamedType)(t)?(0,i.isNamedType)(n)&&t.name===n.name||(0,i.isNonNullType)(n)&&e(t,n.ofType):(0,i.isListType)(t)?(0,i.isListType)(n)&&e(t.ofType,n.ofType)||(0,i.isNonNullType)(n)&&e(t,n.ofType):!!(0,i.isNonNullType)(t)&&(0,i.isNonNullType)(n)&&e(t.ofType,n.ofType)}(n,r)){var u=(0,i.isNamedType)(n)?n.name:n.toString(),f=(0,i.isNamedType)(r)?r.name:r.toString();o.push({type:a.FIELD_CHANGED_KIND,description:e+"."+t+" changed type from "+u+" to "+f+"."})}}else o.push({type:a.FIELD_REMOVED,description:e+"."+t+" was removed."})})}}),o}function d(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[],s=[];return Object.keys(n).forEach(function(e){var t=n[e],c=r[e];if((0,i.isInputObjectType)(t)&&(0,i.isInputObjectType)(c)){var f=t.getFields(),l=c.getFields();Object.keys(f).forEach(function(t){if(t in l){var n=f[t].type,r=l[t].type;if(!h(n,r)){var u=(0,i.isNamedType)(n)?n.name:n.toString(),s=(0,i.isNamedType)(r)?r.name:r.toString();o.push({type:a.FIELD_CHANGED_KIND,description:e+"."+t+" changed type from "+u+" to "+s+"."})}}else o.push({type:a.FIELD_REMOVED,description:e+"."+t+" was removed."})}),Object.keys(l).forEach(function(e){e in f||((0,i.isNonNullType)(l[e].type)?o.push({type:a.NON_NULL_INPUT_FIELD_ADDED,description:"A non-null field "+e+" on input type "+c.name+" was added."}):s.push({type:u.NULLABLE_INPUT_FIELD_ADDED,description:"A nullable field "+e+" on input type "+c.name+" was added."}))})}}),{breakingChanges:o,dangerousChanges:s}}function h(e,t){return(0,i.isNamedType)(e)?(0,i.isNamedType)(t)&&e.name===t.name:(0,i.isListType)(e)?(0,i.isListType)(t)&&h(e.ofType,t.ofType):!!(0,i.isNonNullType)(e)&&((0,i.isNonNullType)(t)&&h(e.ofType,t.ofType)||!(0,i.isNonNullType)(t)&&h(e.ofType,t))}function y(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],u=r[e];if((0,i.isUnionType)(t)&&(0,i.isUnionType)(u)){var s=Object.create(null);u.getTypes().forEach(function(e){s[e.name]=!0}),t.getTypes().forEach(function(t){s[t.name]||o.push({type:a.TYPE_REMOVED_FROM_UNION,description:t.name+" was removed from union type "+e+"."})})}}),o}function v(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(r).forEach(function(e){var t=n[e],a=r[e];if((0,i.isUnionType)(t)&&(0,i.isUnionType)(a)){var s=Object.create(null);t.getTypes().forEach(function(e){s[e.name]=!0}),a.getTypes().forEach(function(t){s[t.name]||o.push({type:u.TYPE_ADDED_TO_UNION,description:t.name+" was added to union type "+e+"."})})}}),o}function m(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],u=r[e];if((0,i.isEnumType)(t)&&(0,i.isEnumType)(u)){var s=Object.create(null);u.getValues().forEach(function(e){s[e.name]=!0}),t.getValues().forEach(function(t){s[t.name]||o.push({type:a.VALUE_REMOVED_FROM_ENUM,description:t.name+" was removed from enum type "+e+"."})})}}),o}function b(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],a=r[e];if((0,i.isEnumType)(t)&&(0,i.isEnumType)(a)){var s=Object.create(null);t.getValues().forEach(function(e){s[e.name]=!0}),a.getValues().forEach(function(t){s[t.name]||o.push({type:u.VALUE_ADDED_TO_ENUM,description:t.name+" was added to enum type "+e+"."})})}}),o}function g(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],u=r[e];if((0,i.isObjectType)(t)&&(0,i.isObjectType)(u)){var s=t.getInterfaces(),c=u.getInterfaces();s.forEach(function(t){c.some(function(e){return e.name===t.name})||o.push({type:a.INTERFACE_REMOVED_FROM_OBJECT,description:e+" no longer implements interface "+t.name+"."})})}}),o}function _(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(r).forEach(function(e){var t=n[e],a=r[e];if((0,i.isObjectType)(t)&&(0,i.isObjectType)(a)){var s=t.getInterfaces();a.getInterfaces().forEach(function(t){s.some(function(e){return e.name===t.name})||o.push({type:u.INTERFACE_ADDED_TO_OBJECT,description:t.name+" added to interfaces implemented by "+e+"."})})}}),o}function w(e,t){var n=[],r=k(t);return e.getDirectives().forEach(function(e){r[e.name]||n.push({type:a.DIRECTIVE_REMOVED,description:e.name+" was removed"})}),n}function E(e,t){var n=[],r=k(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&function(e,t){var n=[],r=x(t);return e.args.forEach(function(e){r[e.name]||n.push(e)}),n}(t,e).forEach(function(t){n.push({type:a.DIRECTIVE_ARG_REMOVED,description:t.name+" was removed from "+e.name})})}),n}function O(e,t){var n=[],r=k(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&function(e,t){var n=[],r=x(e);return t.args.forEach(function(e){r[e.name]||n.push(e)}),n}(t,e).forEach(function(t){(0,i.isNonNullType)(t.type)&&n.push({type:a.NON_NULL_DIRECTIVE_ARG_ADDED,description:"A non-null arg "+t.name+" on directive "+e.name+" was added"})})}),n}function T(e,t){var n=[],r=new Set(t.locations);return e.locations.forEach(function(e){r.has(e)||n.push(e)}),n}function S(e,t){var n=[],r=k(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&T(t,e).forEach(function(t){n.push({type:a.DIRECTIVE_LOCATION_REMOVED,description:t+" was removed from "+e.name})})}),n}function k(e){return(0,o.default)(e.getDirectives(),function(e){return e.name})}function x(e){return(0,o.default)(e.args,function(e){return e.name})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findDeprecatedUsages=function(e,t){var n=[],u=new a.TypeInfo(e);return(0,i.visit)(t,(0,i.visitWithTypeInfo)(u,{Field:function(e){var t=u.getFieldDef();if(t&&t.isDeprecated){var i=u.getParentType();if(i){var o=t.deprecationReason;n.push(new r.GraphQLError("The field "+i.name+"."+t.name+" is deprecated."+(o?" "+o:""),[e]))}}},EnumValue:function(e){var t=u.getEnumValue();if(t&&t.isDeprecated){var i=(0,o.getNamedType)(u.getInputType());if(i){var a=t.deprecationReason;n.push(new r.GraphQLError("The enum value "+i.name+"."+t.name+" is deprecated."+(a?" "+a:""),[e]))}}}})),n};var r=n(36),i=n(47),o=n(1),a=(n(13),n(63))},function(e,t,n){"use strict";var r=n(328);e.exports=function(e){function t(e,t,n,r){function i(t){"function"!=typeof self.postMessage?e.ports[0].postMessage(t):self.postMessage(t)}n?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",n),i(JSON.stringify([t,{message:n.message}]))):i(JSON.stringify([t,null,r]))}self.addEventListener("message",function(n){var i=function(e){try{return JSON.parse(e)}catch(e){return!1}}(n.data);if(i){var o=i[0],a=i[1];"function"!=typeof e?t(n,o,new Error("Please pass a function into register().")):function(e,n,i,o){var a=function(e,t){try{return{res:e(t)}}catch(e){return{err:e}}}(n,o);a.err?t(e,i,a.err):r(a.res)?a.res.then(function(n){t(e,i,null,n)},function(n){t(e,i,n)}):t(e,i,null,a.res)}(n,e,o,a)}})}},function(e,t){e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(330),i=(n.n(r),n(343)),o=n(345),a=Object(r.makeExecutableSchema)({typeDefs:i.a,resolvers:o.a})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(87)),r(n(332)),r(n(335)),r(n(199))},function(e,t,n){"use strict";function r(e,t,n,r,i){var o={};return function(){var a=(((new Error).stack||"").match(/(?:\s+at\s.+){2}\s+at\s(.+)/)||[void 0,""])[1];if(!((a=/\)$/.test(a)?a.match(/[^(]+(?=\)$)/)[0]:a.trim())in o)){var u;switch(o[a]=!0,e){case"class":u="Class";break;case"property":u="Property";break;case"method":u="Method";break;case"function":u="Function"}u+=" `"+t+"` has been deprecated",r&&(u+=" since version "+r),n&&(u+=", use `"+n+"` instead"),u+=".",a&&(u+="\n    at "+a),i&&(u+="\nCheck out "+i+" for more information."),console.warn(u)}}}function i(e,n,i,o,a,u){var s=(t.options.getWarner||r)(e,n,o,a,u),c={enumerable:(i=i||{writable:!0,enumerable:!1,configurable:!0}).enumerable,configurable:i.configurable};if(i.get||i.set)i.get&&(c.get=function(){return s(),i.get.call(this)}),i.set&&(c.set=function(e){return s(),i.set.call(this,e)});else{var f=i.value;c.get=function(){return s(),f},i.writable&&(c.set=function(e){s(),f=e})}return c}function o(e,n,i,o,a){for(var u=(t.options.getWarner||r)(e,n.name,i,o,a),s=function(){return u(),n.apply(this,arguments)},c=0,f=Object.getOwnPropertyNames(n);c<f.length;c++){var l=f[c],p=Object.getOwnPropertyDescriptor(n,l);p.writable?s[l]=n[l]:p.configurable&&Object.defineProperty(s,l,p)}return s}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];n="function"==typeof n?e.pop():void 0;var r,a,u,s=e[0];return"string"==typeof s?(r=s,a=e[1],u=e[2]):s&&(r=s.alternative,a=s.version,u=s.url),n?o("function",n,r,a,u):function(e,t,n){if("string"==typeof t)return i(n&&"function"==typeof n.value?"method":"property",t,n,r,a,u);if("function"==typeof e){for(var s=o("class",e,r,a,u),c=e.name,f=0,l=Object.getOwnPropertyNames(s);f<l.length;f++){var p=l[f],d=Object.getOwnPropertyDescriptor(s,p);(d=i("class",c,d,r,a,u)).writable?s[p]=e[p]:d.configurable&&Object.defineProperty(s,p,d)}return s}}}t.options={getWarner:void 0},t.deprecated=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(10),o=n(201),a=n(87);function u(e){var t=e.schema,n=e.mocks,i=void 0===n?{}:n,u=e.preserveResolvers,c=void 0!==u&&u;function f(e){return e===Object(e)&&!Array.isArray(e)}if(!t)throw new Error("Must provide schema to mock");if(!(t instanceof r.GraphQLSchema))throw new Error('Value at "schema" must be of type GraphQLSchema');if(!f(i))throw new Error("mocks must be of type Object");var l=new Map;Object.keys(i).forEach(function(e){l.set(e,i[e])}),l.forEach(function(e,t){if("function"!=typeof e)throw new Error("mockFunctionMap["+t+"] must be a function")});var p=new Map;function d(e,t){Object.getOwnPropertyNames(t).forEach(function(n){Object.getOwnPropertyDescriptor(e,n)||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}function h(e){return e[Math.floor(Math.random()*e.length)]}p.set("Int",function(){return Math.round(200*Math.random())-100}),p.set("Float",function(){return 200*Math.random()-100}),p.set("String",function(){return"Hello World"}),p.set("Boolean",function(){return Math.random()>.5}),p.set("ID",function(){return o.v4()});var y=function(e,n,i){return function(n,o,a,u){var c=r.getNullableType(e),d=r.getNamedType(c);if(n&&"undefined"!=typeof n[i]){var v=void 0;return"function"==typeof n[i]?(v=n[i](n,o,a,u))instanceof s&&(v=v.mock(n,o,a,u,c,y)):v=n[i],l.has(d.name)&&(v=function e(t,n){return Array.isArray(n)?n.map(function(n){return e(t,n)}):f(n)?(r=t(),Object.assign(r,n)):n;var r}(l.get(d.name).bind(null,n,o,a,u),v)),v}if(c instanceof r.GraphQLList)return[y(c.ofType)(n,o,a,u),y(c.ofType)(n,o,a,u)];if(l.has(c.name)&&!(c instanceof r.GraphQLUnionType||c instanceof r.GraphQLInterfaceType))return l.get(c.name)(n,o,a,u);if(c instanceof r.GraphQLObjectType)return{};if(c instanceof r.GraphQLUnionType||c instanceof r.GraphQLInterfaceType){var m=void 0;if(l.has(c.name)){var b=l.get(c.name)(n,o,a,u);if(!b||!b.__typename)return Error('Please return a __typename in "'+c.name+'"');m=t.getType(b.__typename)}else m=h(t.getPossibleTypes(c));return Object.assign({__typename:m},y(m)(n,o,a,u))}return c instanceof r.GraphQLEnumType?h(c.getValues()).value:p.has(c.name)?p.get(c.name)(n,o,a,u):Error('No mock defined for type "'+c.name+'"')}};a.forEachField(t,function(e,n,i){var o,a,u,s;a=r.getNullableType(e.type),s=function(e){return e instanceof r.GraphQLInterfaceType||e instanceof r.GraphQLUnionType?e.resolveType:void 0}(u=r.getNamedType(a)),c&&s&&s.length||(u instanceof r.GraphQLUnionType||u instanceof r.GraphQLInterfaceType)&&(u.resolveType=function(e,t,n){return n.schema.getType(e.__typename)});var p=!!t.getQueryType()&&t.getQueryType().name===n,h=!!t.getMutationType()&&t.getMutationType().name===n;if((p||h)&&l.has(n)){var v=l.get(n);v(void 0,{},{},{})[i]&&(o=function(t,r,o,a){var u=t||{};return u[i]=v(t,r,o,a)[i],y(e.type,n,i)(u,r,o,a)})}if(o||(o=y(e.type,n,i)),c&&e.resolve){var m=e.resolve;e.resolve=function(e,t,n,r){return Promise.all([o(e,t,n,r),m(e,t,n,r)]).then(function(e){var t=e[0],n=e[1];if(t instanceof Error){if(void 0===n)throw t;return n}return n instanceof Date&&t instanceof Date?void 0!==n?n:t:f(t)&&f(n)?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){for(var n=t;n;)d(e,n),n=Object.getPrototypeOf(n)}),e}(Object.create(Object.getPrototypeOf(n)),n,t):void 0!==n?n:t})}}else e.resolve=o})}t.mockServer=function(e,t,n){var o;return void 0===n&&(n=!1),u({schema:o=e instanceof r.GraphQLSchema?e:a.buildSchemaFromTypeDefinitions(e),mocks:t,preserveResolvers:n}),{query:function(e,t){return i.graphql(o,e,{},{},t)}}},t.addMockFunctionsToSchema=u;var s=function(){function e(e,t){if(this.len=e,"undefined"!=typeof t){if("function"!=typeof t)throw new Error("Second argument to MockList must be a function or undefined");this.wrappedFunction=t}}return e.prototype.mock=function(t,n,i,o,a,u){var s;s=Array.isArray(this.len)?new Array(this.randint(this.len[0],this.len[1])):new Array(this.len);for(var c=0;c<s.length;c++)if("function"==typeof this.wrappedFunction){var f=this.wrappedFunction(t,n,i,o);if(f instanceof e){var l=r.getNullableType(a.ofType);s[c]=f.mock(t,n,i,o,l,u)}else s[c]=f}else s[c]=u(a.ofType)(t,n,i,o);return s},e.prototype.randint=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e}();t.MockList=s},function(e,t,n){var r,i,o=n(202),a=n(203),u=0,s=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var d=o();null==l&&(l=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=i=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:s+1,v=h-u+(y-s)/1e4;if(v<0&&void 0===e.clockseq&&(p=p+1&16383),(v<0||h>u)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,s=y,i=p;var m=(1e4*(268435455&(h+=122192928e5))+y)%4294967296;f[c++]=m>>>24&255,f[c++]=m>>>16&255,f[c++]=m>>>8&255,f[c++]=255&m;var b=h/4294967296*1e4&268435455;f[c++]=b>>>8&255,f[c++]=255&b,f[c++]=b>>>24&15|16,f[c++]=b>>>16&255,f[c++]=p>>>8|128,f[c++]=255&p;for(var g=0;g<6;++g)f[c+g]=l[g];return t||a(f)}},function(e,t,n){var r=n(202),i=n(203);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[o+u]=a[u];return t||i(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(336);t.makeRemoteExecutableSchema=r.default;var i=n(338);t.introspectSchema=i.default;var o=n(339);t.mergeSchemas=o.default;var a=n(207);t.delegateToSchema=a.default,t.createDocument=a.createDocument},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),a=n(204),u=n(205),s=n(87),c=n(120),f=n(206),l=n(121),p=n(337);function d(e){var t=this;return function(n,a,u,s){return r(t,void 0,void 0,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:return t=Object.keys(s.fragments).map(function(e){return s.fragments[e]}),n={kind:o.Kind.DOCUMENT,definitions:[s.operation].concat(t)},[4,e({query:n,variables:s.variableValues,context:{graphqlContext:u}})];case 1:return r=i.sent(),[2,l.checkResultAndHandleErrors(r,s)]}})})}}function h(e){switch(e.kind){case o.Kind.STRING:case o.Kind.BOOLEAN:return e.value;case o.Kind.INT:case o.Kind.FLOAT:return parseFloat(e.value);case o.Kind.OBJECT:var t=Object.create(null);return e.fields.forEach(function(e){t[e.name.value]=h(e.value)}),t;case o.Kind.LIST:return e.values.map(h);default:return null}}t.default=function(e){var t,n=e.schema,r=e.link,i=e.fetcher;!i&&r&&(i=a.default(r)),"string"==typeof n?n=o.buildSchema(t=n):t=o.printSchema(n);var l={},y=n.getQueryType(),v=y.getFields();Object.keys(v).forEach(function(e){l[e]=d(i)});var m={},b=n.getMutationType();if(b){var g=b.getFields();Object.keys(g).forEach(function(e){m[e]=d(i)})}var _={},w=n.getSubscriptionType();if(w){var E=w.getFields();Object.keys(E).forEach(function(e){_[e]={subscribe:function(e,t){return function(e,n,r,i){var u=Object.keys(i.fragments).map(function(e){return i.fragments[e]}),s={kind:o.Kind.DOCUMENT,definitions:[i.operation].concat(u)},c=a.execute(t,{query:s,variables:i.variableValues,context:{graphqlContext:r}});return p.observableToAsyncIterable(c)}}(0,r)}})}var O=((T={})[y.name]=l,T);u.default(m)||(O[b.name]=m),u.default(_)||(O[w.name]=_);for(var T,S=n.getTypeMap(),k=function(e){if(e instanceof o.GraphQLInterfaceType||e instanceof o.GraphQLUnionType)O[e.name]={__resolveType:function(e,t,n){return c.default(e,n.schema)}};else if(e instanceof o.GraphQLScalarType)e!==o.GraphQLID&&e!==o.GraphQLString&&e!==o.GraphQLFloat&&e!==o.GraphQLBoolean&&e!==o.GraphQLInt&&(O[e.name]=new o.GraphQLScalarType({name:(n=e).name,description:n.description,serialize:function(e){return e},parseValue:function(e){return e},parseLiteral:function(e){return h(e)}}));else if(e instanceof o.GraphQLObjectType&&"__"!==e.name.slice(0,2)&&e!==y&&e!==b&&e!==w){var t={};Object.keys(e.getFields()).forEach(function(e){t[e]=f.default}),O[e.name]=t}var n},x=0,j=Object.keys(S).map(function(e){return S[e]});x<j.length;x++)k(j[x]);return s.makeExecutableSchema({typeDefs:t,resolvers:O})}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(27);t.observableToAsyncIterable=function(e){var t,n=[],u=[],s=!0,c=e.subscribe({next:function(e){var t;t=e.data,0!==n.length?n.shift()({value:t,done:!1}):u.push({value:t})},error:function(e){var t;t=e,0!==n.length?n.shift()({value:{errors:[t]},done:!1}):u.push({value:{errors:[t]}})}}),f=function(){s&&(s=!1,c.unsubscribe(),n.forEach(function(e){return e({value:void 0,done:!0})}),n.length=0,u.length=0)};return(t={next:function(){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,s?new Promise(function(e){if(0!==u.length){var t=u.shift();e(r({},t,{done:!1}))}else n.push(e)}):this.return()]})})},return:function(){return f(),Promise.resolve({value:void 0,done:!0})},throw:function(e){return f(),Promise.reject(e)}})[a.$$asyncIterator]=function(){return this},t}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),a=n(204),u=o.parse(o.introspectionQuery);t.default=function(e,t){return r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return e.request&&(e=a.default(e)),[4,e({query:u,context:t})];case 1:if((n=r.sent()).errors&&n.errors.length||!n.data.__schema)throw n.errors;return[2,o.buildClientSchema(n.data)]}})})}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=n(340),a=n(205),u=n(200),s=n(87),c=n(341),f=n(207),l=n(342),p={commentDescriptions:!0};function d(e,t){return e}function h(e,t,n){return function(r,i,o,a){return e.delegate(t,n,i,o,a)}}t.default=function(e){var t=e.schemas,n=e.onTypeConflict,y=e.resolvers;n||(n=d);var v={},m={},b={},g=new o.default,_=c.createResolveType(function(e){return g.getType(e)}),w=function(e){return{delegate:function(t,n,r,i,o){var a=e.getSchemaByField(t,n);if(!a)throw new Error("Cannot find subschema for root field "+t+"."+n);return f.default(a,e.fragmentReplacements,t,n,r,i,o)}}}(g),E=[],O=[],T=[],S={};t.forEach(function(e){if(e instanceof i.GraphQLSchema)E.push(e);else if("string"==typeof e){var t=i.parse(e);try{var n=i.buildASTSchema(t,p);n.getQueryType()&&E.push(n)}catch(e){O.push(t)}(t=s.extractExtensionDefinitions(t)).definitions.length>0&&T.push(t)}}),E.forEach(function(e){g.addSchema(e);var t=e.getQueryType(),o=e.getMutationType(),a=e.getSubscriptionType(),u=e.getTypeMap();Object.keys(u).forEach(function(e){var r=u[e];if(i.isNamedType(r)&&"__"!==i.getNamedType(r).name.slice(0,2)&&r!==t&&r!==o&&r!==a){var s=c.recreateType(r,_);g.addType(s.name,s,n)}}),Object.keys(t.getFields()).forEach(function(e){S.Query||(S.Query={}),S.Query[e]=h(w,"query",e)}),v=r({},v,t.getFields()),o&&(S.Mutation||(S.Mutation={}),Object.keys(o.getFields()).forEach(function(e){S.Mutation[e]=h(w,"mutation",e)}),m=r({},m,o.getFields())),a&&(S.Subscription||(S.Subscription={}),Object.keys(a.getFields()).forEach(function(e){S.Subscription[e]={subscribe:h(w,"subscription",e)}}),b=r({},b,a.getFields()))}),O.forEach(function(e){e.definitions.forEach(function(e){var t=l.default(g,e);t&&g.addType(t.name,t,n)})});var k={};y&&(k="function"==typeof y?y(w):Array.isArray(y)?y.map(function(e){return"function"==typeof e?e(w):e}).reduce(u.default,{}):r({},y)),Object.keys(k).forEach(function(e){var t=k[e];t instanceof i.GraphQLScalarType||Object.keys(t).forEach(function(n){var r=t[n];r.fragment&&g.addFragment(e,n,r.fragment)})}),S=u.default(S,k);var x,j,N=new i.GraphQLObjectType({name:"Query",fields:function(){return c.fieldMapToFieldConfigMap(v,_)}});a.default(m)||(x=new i.GraphQLObjectType({name:"Mutation",fields:function(){return c.fieldMapToFieldConfigMap(m,_)}})),a.default(b)||(j=new i.GraphQLObjectType({name:"Subscription",fields:function(){return c.fieldMapToFieldConfigMap(b,_)}})),g.addType("Query",N),g.addType("Mutation",x),g.addType("Subscription",j);var I,A,L=new i.GraphQLSchema({query:N,mutation:x,subscription:j,types:g.getAllTypes()});return T.forEach(function(e){L=i.extendSchema(L,e,p)}),s.addResolveFunctionsToSchema(L,S),I=function(e){if(e.resolve){var t=e.resolve;e.resolve=function(e,n,i,o){var a=r({},o,{mergeInfo:w});return t(e,n,i,a)}}},A=L.getTypeMap(),Object.keys(A).forEach(function(e){var t=A[e];if(!i.getNamedType(t).name.startsWith("__")&&t instanceof i.GraphQLObjectType){var n=t.getFields();Object.keys(n).forEach(function(e){I(n[e])})}}),L}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(){function e(){this.types={},this.schemaByField={query:{},mutation:{},subscription:{}},this.fragmentReplacements={}}return e.prototype.getSchemaByField=function(e,t){return this.schemaByField[e][t]},e.prototype.getAllTypes=function(){var e=this;return Object.keys(this.types).map(function(t){return e.types[t]})},e.prototype.getType=function(e){if(!this.types[e])throw new Error("No such type: "+e);return this.types[e]},e.prototype.resolveType=function(e){return e instanceof r.GraphQLList?new r.GraphQLList(this.resolveType(e.ofType)):e instanceof r.GraphQLNonNull?new r.GraphQLNonNull(this.resolveType(e.ofType)):r.isNamedType(e)?this.getType(r.getNamedType(e).name):e},e.prototype.addSchema=function(e){var t=this,n=e.getQueryType();n&&Object.keys(n.getFields()).forEach(function(n){t.schemaByField.query[n]=e});var r=e.getMutationType();r&&Object.keys(r.getFields()).forEach(function(n){t.schemaByField.mutation[n]=e});var i=e.getSubscriptionType();i&&Object.keys(i.getFields()).forEach(function(n){t.schemaByField.subscription[n]=e})},e.prototype.addType=function(e,t,n){if(this.types[e]){if(!n)throw new Error("Type name conflict: "+e);t=n(this.types[e],t)}this.types[e]=t},e.prototype.addFragment=function(e,t,n){this.fragmentReplacements[e]||(this.fragmentReplacements[e]={}),this.fragmentReplacements[e][t]=function(e){for(var t=0,i=r.parse(n).definitions;t<i.length;t++){var o=i[t];if(o.kind===r.Kind.FRAGMENT_DEFINITION)return{kind:r.Kind.INLINE_FRAGMENT,typeCondition:o.typeCondition,selectionSet:o.selectionSet}}throw new Error("Could not parse fragment")}()},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(120),o=n(206);function a(e){switch(e.kind){case r.Kind.STRING:case r.Kind.BOOLEAN:return e.value;case r.Kind.INT:case r.Kind.FLOAT:return parseFloat(e.value);case r.Kind.OBJECT:var t=Object.create(null);return e.fields.forEach(function(e){t[e.name.value]=a(e.value)}),t;case r.Kind.LIST:return e.values.map(a);default:return null}}function u(e,t){var n={};return Object.keys(e).forEach(function(r){null!==t(e[r].type)&&(n[r]=function(e,t){return{type:t(e.type),args:function(t,n){var r={};return e.args.forEach(function(e){var t=function(e,t){return[e.name,{type:t(e.type),defaultValue:e.defaultValue,description:e.description}]}(e,n);r[t[0]]=t[1]}),r}(0,t),resolve:o.default,description:e.description,deprecationReason:e.deprecationReason,astNode:e.astNode}}(e[r],t))}),n}t.recreateType=function(e,t){if(e instanceof r.GraphQLObjectType){var n=e.getFields(),o=e.getInterfaces();return new r.GraphQLObjectType({name:e.name,description:e.description,astNode:e.astNode,fields:function(){return u(n,t)},interfaces:function(){return o.map(function(e){return t(e)})}})}if(e instanceof r.GraphQLInterfaceType){var s=e.getFields();return new r.GraphQLInterfaceType({name:e.name,description:e.description,astNode:e.astNode,fields:function(){return u(s,t)},resolveType:function(e,t,n){return i.default(e,n.schema)}})}if(e instanceof r.GraphQLUnionType)return new r.GraphQLUnionType({name:e.name,description:e.description,astNode:e.astNode,types:function(){return e.getTypes().map(function(e){return t(e)})},resolveType:function(e,t,n){return i.default(e,n.schema)}});if(e instanceof r.GraphQLInputObjectType)return new r.GraphQLInputObjectType({name:e.name,description:e.description,astNode:e.astNode,fields:function(){return function(e,t){var n={};return Object.keys(e).forEach(function(r){null!==t(e[r].type)&&(n[r]=function(e,t){return{type:t(e.type),defaultValue:e.defaultValue,description:e.description,astNode:e.astNode}}(e[r],t))}),n}(e.getFields(),t)}});if(e instanceof r.GraphQLEnumType){var c={};return e.getValues().forEach(function(e){c[e.name]={value:e.name}}),new r.GraphQLEnumType({name:e.name,description:e.description,astNode:e.astNode,values:c})}if(e instanceof r.GraphQLScalarType)return e===r.GraphQLID||e===r.GraphQLString||e===r.GraphQLFloat||e===r.GraphQLBoolean||e===r.GraphQLInt?e:new r.GraphQLScalarType({name:e.name,description:e.description,astNode:e.astNode,serialize:function(e){return e},parseValue:function(e){return e},parseLiteral:function(e){return a(e)}});throw new Error("Invalid type "+e)},t.fieldMapToFieldConfigMap=u,t.createResolveType=function(e){var t=function(n){var i;return n instanceof r.GraphQLList?null===(i=t(n.ofType))?null:new r.GraphQLList(i):n instanceof r.GraphQLNonNull?null===(i=t(n.ofType))?null:new r.GraphQLNonNull(i):r.isNamedType(n)?e(r.getNamedType(n).name,n):n};return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i={commentDescriptions:!0},o=n(120);function a(e,t){var n={};return t.forEach(function(t){n[t.name.value]={type:s(e,t.type),args:u(e,t.arguments),description:c(t,i)}}),n}function u(e,t){var n={};return t.forEach(function(t){var o=s(e,t.type);n[t.name.value]={type:o,defaultValue:r.valueFromAST(t.defaultValue,o),description:c(t,i)}}),n}function s(e,t){switch(t.kind){case r.Kind.LIST_TYPE:return new r.GraphQLList(s(e,t.type));case r.Kind.NON_NULL_TYPE:return new r.GraphQLNonNull(s(e,t.type));default:return e.getType(t.name.value)}}function c(e,t){if(e.description)return e.description.value;if(t&&t.commentDescriptions){var n=function(e){var t=e.loc;if(t){for(var n=[],r=t.startToken.prev;r&&"Comment"===r.kind&&r.next&&r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){var i=String(r.value);n.push(i),r=r.prev}return n.reverse().join("\n")}}(e);if(void 0!==n)return function(e){for(var t=("\n"+n).split(/\r\n|[\n\r]/g),r=null,i=1;i<t.length;i++){var o=t[i],a=f(o);if(a<o.length&&(null===r||a<r)&&0===(r=a))break}if(r)for(i=1;i<t.length;i++)t[i]=t[i].slice(r);for(;t.length>0&&l(t[0]);)t.shift();for(;t.length>0&&l(t[t.length-1]);)t.pop();return t.join("\n")}()}}function f(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function l(e){return f(e)===e.length}t.default=function(e,t){switch(t.kind){case r.Kind.OBJECT_TYPE_DEFINITION:return function(e,t){return new r.GraphQLObjectType({name:t.name.value,fields:function(){return a(e,t.fields)},interfaces:function(){return t.interfaces.map(function(t){return e.getType(t.name.value)})},description:c(t,i)})}(e,t);case r.Kind.INTERFACE_TYPE_DEFINITION:return function(e,t){return new r.GraphQLInterfaceType({name:t.name.value,fields:function(){return a(e,t.fields)},description:c(t,i),resolveType:function(e,t,n){return o.default(e,n.schema)}})}(e,t);case r.Kind.ENUM_TYPE_DEFINITION:return function(e,t){var n={};return t.values.forEach(function(e){n[e.name.value]={description:c(e,i)}}),new r.GraphQLEnumType({name:t.name.value,values:n,description:c(t,i)})}(0,t);case r.Kind.UNION_TYPE_DEFINITION:return function(e,t){return new r.GraphQLUnionType({name:t.name.value,types:function(){return t.types.map(function(t){return s(e,t)})},description:c(t,i),resolveType:function(e,t,n){return o.default(e,n.schema)}})}(e,t);case r.Kind.SCALAR_TYPE_DEFINITION:return function(e,t){return new r.GraphQLScalarType({name:t.name.value,description:c(t,i),serialize:function(){return null},parseValue:function(){return!1},parseLiteral:function(){return!1}})}(0,t);case r.Kind.INPUT_OBJECT_TYPE_DEFINITION:return function(e,t){return new r.GraphQLInputObjectType({name:t.name.value,fields:function(){return u(e,t.fields)},description:c(t,i)})}(e,t);default:return null}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="\nscalar Date\n\n"+n(344).a+"\n\ntype PageInfo {\n  totalCount: Int\n}\n\ntype PublicationQuery {\n  results: [Publication!]\n  pageInfo: PageInfo\n}\n\ntype SubdisciplineQuery {\n  results: [SubdisciplineWeight!]\n  pageInfo: PageInfo\n}\n\ntype GetDistinctQuery {\n  results: [String]\n  pageInfo: PageInfo\n}\n\ntype Query {\n  getPublications(filter: Filter): PublicationQuery\n  getSubdisciplines(filter: Filter): SubdisciplineQuery\n  getDistinct(fieldName: String, filter: Filter): GetDistinctQuery\n}\n\nschema {\n  query: Query\n}\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="\ntype SubdisciplineWeight {\n  subd_id: ID!\n  weight: Float\n}\n\ntype Publication {\n  id: ID!\n  title: String\n  author: String\n  year: Int\n  pmid: String\n  doi: String\n  pmcid: String\n\n  journalName: String\n  journalId: Int\n  subdisciplines: [SubdisciplineWeight]\n\n  grantId: String\n  grantTitle: String\n  grantClasses: [String!]\n  grantYear: Int\n  grantInstitution: String\n  grantMechanism: String\n  fulltext: String\n}\n\ninput YearRange {\n  start: Int!\n  end: Int!\n}\n\ninput Sort {\n  field: String!\n  ascending: Boolean\n}\n\ninput Filter {\n  limit: Int\n  subd_id: [Int!]\n  showMultidisciplinary: Boolean\n  showUnmapped: Boolean\n  sort: [Sort!]\n  year: YearRange\n\n  fulltext: [String!]\n  researchClassification: [String!]\n  sessionYear: YearRange\n  institution: [String!]\n  mechanism: [String!]\n  journalName: [String!]\n}\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(346),i={Query:{getPublications:function(e,t,n,i){return Object(r.b)(n.database,t.filter)},getSubdisciplines:function(e,t,n,i){return Object(r.c)(n.database,t.filter)},getDistinct:function(e,t,n,i){return Object(r.a)(n.database,t.fieldName,t.filter)}}}},function(e,t,n){"use strict";t.b=s,t.c=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){var n,o;return i(this,function(c){switch(c.label){case 0:return[4,s(e,t)];case 1:return[4,function(e,t,n,o){return r(this,void 0,void 0,function(){var t,n,r,o,a,u,s,c;return i(this,function(i){for(t={},n=0,r=e;n<r.length;n++)for(o=0,a=r[n].subdisciplines||[];o<a.length;o++)c=(u=a[o]).weight,t.hasOwnProperty(s=u.subd_id)?t[s]+=c:t[s]=c;return[2,t]})})}(c.sent().results.map(function(e){return!t.showUnmapped||e.subdisciplines&&0!==e.subdisciplines.length?t.showMultidisciplinary&&e.subdisciplines&&e.subdisciplines.length>1?{subdisciplines:[{subd_id:u,weight:1}]}:e:{subdisciplines:[{subd_id:a,weight:1}]}}))];case 2:return n=c.sent(),[2,{results:o=Object.entries(n).map(function(e){return{subd_id:e[0],weight:e[1]}}),pageInfo:{totalCount:o.length}}]}})})},t.a=function(e,t,n){return void 0===n&&(n={}),r(this,void 0,void 0,function(){var r,o,a;return i(this,function(i){switch(i.label){case 0:return[4,s(e,n)];case 1:return r=i.sent().results,o={},a=[],r.forEach(function(e){var n=e.get(t);"string"==typeof n||n instanceof String||(n=JSON.stringify(n)),o.hasOwnProperty(n)?o[n]++:(o[n]=1,a.push(n))}),[2,{results:a,pageInfo:{totalCount:a.length}}]}})})};var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=/[|\\{}()[\]^$+*?.]/g,a=-1,u=-2;function s(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){var n,r,s,c,f,l,p;return i(this,function(i){switch(i.label){case 0:return[4,e.get()];case 1:return n=i.sent(),r=n.publication.find(),t.subd_id&&-1===t.subd_id.indexOf(a)&&(s={$or:[{subd_id:{$in:t.subd_id}}]},-1!==t.subd_id.indexOf(u)&&s.$or.push({weight:{$lt:1}}),r=r.where("subdisciplines").elemMatch(s)),t.journalName&&(r=r.where("journalName").in(t.journalName)),t.mechanism&&(r=r.where("grantMechanism").in(t.mechanism)),t.institution&&(r=r.where("grantInstitution").in(t.institution)),t.year&&(r=t.year.start===t.year.end?r.where("year").eq(t.year.start):r.where("year").gte(t.year.start).lte(t.year.end)),t.sessionYear&&(r=t.sessionYear.start===t.sessionYear.end?r.where("grantYear").eq(t.sessionYear.start):r.where("grantYear").gte(t.sessionYear.start).lte(t.sessionYear.end)),t.researchClassification&&(r=r.where("grantClasses").elemMatch({$in:t.researchClassification})),t.fulltext&&(c=new RegExp(t.fulltext.map(function(e){return function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(o,"\\$&")}(e)}).join("|"),"i"),r=r.where("fulltext").regex(c)),[4,r.exec()];case 2:return f=i.sent(),t.subd_id&&-1!==t.subd_id.indexOf(a)&&(f=f.filter(function(e){return!e.subdisciplines||0===e.subdisciplines.length||e.subdisciplines.filter(function(e){return-1!==t.subd_id.indexOf(e.subd_id)}).length>0})),l=f.length,t.sort&&t.sort.length>0&&(p=t.sort[0].field,f.sort(!0===t.sort[0].ascending?function(e,t){return e[p]-t[p]}:function(e,t){return t[p]-e[p]})),t.limit&&t.limit>0&&(f=f.slice(0,t.limit)),[2,{results:f,pageInfo:{totalCount:l}}]}})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(348),i=(n.n(r),new r.PubSub)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);t.PubSub=r.PubSub;var i=n(351);t.withFilter=i.withFilter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n(350);t.PubSub=function(){function e(e){void 0===e&&(e={}),this.ee=e.eventEmitter||new r.EventEmitter,this.subscriptions={},this.subIdCounter=0}return e.prototype.publish=function(e,t){return this.ee.emit(e,t),!0},e.prototype.subscribe=function(e,t){return this.ee.addListener(e,t),this.subIdCounter=this.subIdCounter+1,this.subscriptions[this.subIdCounter]=[e,t],Promise.resolve(this.subIdCounter)},e.prototype.unsubscribe=function(e){var t=this.subscriptions[e],n=t[0],r=t[1];delete this.subscriptions[e],this.ee.removeListener(n,r)},e.prototype.asyncIterator=function(e){return i.eventEmitterAsyncIterator(this.ee,e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27);t.eventEmitterAsyncIterator=function(e,t){var n,i=[],o=[],a="string"==typeof t?[t]:t,u=!0,s=function(e){0!==i.length?i.shift()({value:e,done:!1}):o.push(e)},c=function(){u&&(u=!1,f(),i.forEach(function(e){return e({value:void 0,done:!0})}),i.length=0,o.length=0)},f=function(){for(var t=0,n=a;t<n.length;t++)e.removeListener(n[t],s)};return function(){for(var t=0,n=a;t<n.length;t++)e.addListener(n[t],s)}(),(n={next:function(){return u?new Promise(function(e){0!==o.length?e({value:o.shift(),done:!1}):i.push(e)}):this.return()},return:function(){return c(),Promise.resolve({value:void 0,done:!0})},throw:function(e){return c(),Promise.reject(e)}})[r.$$asyncIterator]=function(){return this},n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27);t.withFilter=function(e,t){return function(n,i,o,a){var u,s=e(n,i,o,a),c=function(){return s.next().then(function(e){return Promise.all([e,Promise.resolve(t(e.value,i,o,a)).catch(function(){return!1})])}).then(function(e){var t=e[0];return!0===e[1]||!0===t.done?t:c()})};return(u={next:function(){return c()},return:function(){return s.return()},throw:function(e){return s.throw(e)}})[r.$$asyncIterator]=function(){return this},u}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i=n(353),o=n(550),a=n(551),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},c=(function(e){return u(this,void 0,void 0,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return[4,e.get(function(e){return u(t,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return[4,e.publication.findOne().exec()];case 1:return n.sent()?[3,4]:(console.log("Importing dump"),[4,function(e){return u(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,fetch(e,{method:"get"})];case 1:return[2,t.sent().json()]}})})}(a.a)]);case 2:return t=n.sent(),[4,e.importDump(t)];case 3:n.sent(),n.label=4;case 4:return[2]}})})})];case 1:return[2,n.sent()]}})})}(r=new i.a(!1,"idb")).then(function(){console.log("DB Loaded")}),new o.a(r))},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(354),i=n(243),o=n(242),a=n(487),u=(n.n(a),n(491)),s=n(493),c=n(496),f=n(536),l=n(549),p=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},h=function(){function e(e,t,n){void 0===t&&(t="memory"),void 0===n&&(n={}),this.production=e,this.adapter=t,this.rxdbOptions=n,this.collections=[{name:"publication",schema:l.a}],this.adapters={idb:u,websql:s,memory:c,leveldown:f},this.adapterMapper={leveldown:a}}return e.prototype.get=function(t){return e.dbPromise||(e.dbPromise=this._create(t)),e.dbPromise},e.prototype.initializeCollection=function(e,t){return p(this,void 0,void 0,function(){var n,r,i;return d(this,function(o){switch(o.label){case 0:return[4,this.get()];case 1:return n=o.sent(),[4,(r=n[e]).find().limit(1).exec()];case 2:return 0!==o.sent().length?[3,4]:[4,Promise.all(t.map(function(e){return r.insert(e)}))];case 3:o.sent(),o.label=4;case 4:return[4,r.find().exec()];case 5:return i=o.sent().length,this.log(e+": "+i),[2]}})})},e.prototype.initialize=function(e){return p(this,void 0,void 0,function(){return d(this,function(e){return[2]})})},e.prototype._create=function(e){return p(this,void 0,void 0,function(){var t,n;return d(this,function(i){switch(i.label){case 0:return this.setupPlugins(),t=this.adapterMapper[this.adapter]||this.adapter,this.log("DatabaseService: creating database"),[4,r.a.create(Object.assign({name:"bbsrc",adapter:t},this.rxdbOptions))];case 1:return n=i.sent(),this.log("DatabaseService: creating collections"),[4,Promise.all(this.collections.map(function(e){return n.collection(e)}))];case 2:return i.sent(),[4,this.initialize(n)];case 3:return i.sent(),e?[4,e(n)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2,n]}})})},e.prototype.setupPlugins=function(){this.production||r.a.plugin(o.a),r.a.plugin(i.a),r.a.plugin(this.adapters[this.adapter]),"memory"!==this.adapter&&r.a.plugin(c),r.a.QueryChangeDetector.enable(!0),this.production||r.a.QueryChangeDetector.enableDebugging()},e.prototype.log=function(e){this.production||console.log(e)},e.dbPromise=null,e}()},function(e,t,n){"use strict";var r=n(208),i=n(242),o=n(443),a=n(243),u=n(452),s=n(453),c=n(459),f=n(468),l=n(470),p=n(482),d=n(483),h=n(484),y=n(485),v=n(486);r.a.plugin(i.a),r.a.plugin(o.a),r.a.plugin(a.a),r.a.plugin(u.a),r.a.plugin(s.a),r.a.plugin(c.a),r.a.plugin(f.a),r.a.plugin(l.a),r.a.plugin(p.a),r.a.plugin(d.a),r.a.plugin(h.a),r.a.plugin(y.a),r.a.plugin(v.a),t.a={create:r.a.create,checkAdapter:r.a.checkAdapter,removeDatabase:r.a.removeDatabase,plugin:r.a.plugin,dbCount:r.a.dbCount,isRxDatabase:r.a.isRxDatabase,isRxCollection:r.a.isRxCollection,isRxDocument:r.a.isRxDocument,isRxQuery:r.a.isRxQuery,isRxSchema:r.a.isRxSchema,RxSchema:r.a.RxSchema,PouchDB:r.a.PouchDB,QueryChangeDetector:r.a.QueryChangeDetector,RxDatabase:r.a.RxDatabase}},function(e,t,n){(function(t){var r="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(356),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}}).call(t,n(7))},function(e,t,n){(function(t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"==typeof e,f=t.regeneratorRuntime;if(f)c&&(e.exports=f);else{(f=t.regeneratorRuntime=c?e.exports:{}).wrap=_;var l="suspendedStart",p="suspendedYield",d="executing",h="completed",y={},v={};v[a]=function(){return this};var m=Object.getPrototypeOf,b=m&&m(m(A([])));b&&b!==r&&i.call(b,a)&&(v=b);var g=T.prototype=E.prototype=Object.create(v);O.prototype=g.constructor=T,T.constructor=O,T[s]=O.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(g),e},f.awrap=function(e){return{__await:e}},S(k.prototype),k.prototype[u]=function(){return this},f.AsyncIterator=k,f.async=function(e,t,n,r){var i=new k(_(e,t,n,r));return f.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(g),g[s]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return u.type="throw",u.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}function _(e,t,n,r){var i=Object.create((t&&t.prototype instanceof E?t:E).prototype),o=new I(r||[]);return i._invoke=function(e,t,n){var r=l;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=w(e,t,n);if("normal"===s.type){if(r=n.done?h:p,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=h,n.method="throw",n.arg=s.arg)}}}(e,n,o),i}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function E(){}function O(){}function T(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(e){function n(t,r,o,a){var u=w(e[t],e,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(c).then(function(e){s.value=e,o(s)},a)}a(u.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function i(){return new Promise(function(r,i){n(e,t,r,i)})}return r=r?r.then(i,i):i()}}function x(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,x(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=w(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,y;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,y):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:n,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(7))},function(e,t,n){e.exports={default:n(358),__esModule:!0}},function(e,t,n){n(209),n(210),n(217),n(370),n(381),n(382),e.exports=n(21).Promise},function(e,t,n){var r=n(123),i=n(124);e.exports=function(e){return function(t,n){var o,a,u=String(i(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(o=u.charCodeAt(s))<55296||o>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):o:e?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(127),i=n(91),o=n(93),a={};n(48)(a,n(15)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(39),i=n(30),o=n(128);e.exports=n(41)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(67);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(54),i=n(215),o=n(364);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=i(s.length),f=o(a,c);if(e&&n!=n){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((e||f in s)&&s[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(123),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(49),i=n(366),o=n(129)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(124);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(368),i=n(369),o=n(66),a=n(54);e.exports=n(211)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r,i,o,a,u=n(88),s=n(14),c=n(65),f=n(218),l=n(38),p=n(40),d=n(89),h=n(371),y=n(372),v=n(219),m=n(220).set,b=n(377)(),g=n(132),_=n(221),w=n(222),E=s.TypeError,O=s.process,T=s.Promise,S="process"==f(O),k=function(){},x=i=g.f,j=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(15)("species")]=function(e){e(k,k)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(e){}}(),N=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,u=i?t.ok:t.fail,s=t.resolve,c=t.reject,f=t.domain;try{u?(i||(2==e._h&&D(e),e._h=1),!0===u?n=r:(f&&f.enter(),n=u(r),f&&(f.exit(),a=!0)),n===t.promise?c(E("Promise-chain cycle")):(o=N(n))?o.call(n,s,c):s(n)):c(r)}catch(e){f&&!a&&f.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){m.call(s,function(){var t,n,r,i=e._v,o=L(e);if(o&&(t=_(function(){S?O.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=S||L(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){m.call(s,function(){var t;S?O.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},P=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},R=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=N(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,c(R,r,1),c(P,r,1))}catch(e){P.call(r,e)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){P.call({_w:n,_d:!1},e)}}};j||(T=function(e){h(this,T,"Promise","_h"),d(e),r.call(this);try{e(c(R,this,1),c(P,this,1))}catch(e){P.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(378)(T.prototype,{then:function(e,t){var n=x(v(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(R,e,1),this.reject=c(P,e,1)},g.f=x=function(e){return e===T||e===a?new o(e):i(e)}),l(l.G+l.W+l.F*!j,{Promise:T}),n(93)(T,"Promise"),n(379)("Promise"),a=n(21).Promise,l(l.S+l.F*!j,"Promise",{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!j),"Promise",{resolve:function(e){return w(u&&this===a?T:this,e)}}),l(l.S+l.F*!(j&&n(380)(function(e){T.all(e).catch(k)})),"Promise",{all:function(e){var t=this,n=x(t),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;y(e,!1,function(e){var u=o++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=x(t),r=n.reject,i=_(function(){y(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(65),i=n(373),o=n(374),a=n(30),u=n(215),s=n(375),c={},f={};(t=e.exports=function(e,t,n,l,p){var d,h,y,v,m=p?function(){return e}:s(e),b=r(n,l,t?2:1),g=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(d=u(e.length);d>g;g++)if((v=t?b(a(h=e[g])[0],h[1]):b(e[g]))===c||v===f)return v}else for(y=m.call(e);!(h=y.next()).done;)if((v=i(y,b,h.value,t))===c||v===f)return v}).BREAK=c,t.RETURN=f},function(e,t,n){var r=n(30);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(66),i=n(15)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(218),i=n(15)("iterator"),o=n(66);e.exports=n(21).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(14),i=n(220).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(67)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(s&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var f=u.resolve();n=function(){f.then(c)}}else n=function(){i.call(r,c)};else{var l=!0,p=document.createTextNode("");new o(c).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(48);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(14),i=n(21),o=n(39),a=n(41),u=n(15)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[u]&&o.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(15)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(38),i=n(21),o=n(14),a=n(219),u=n(222);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(38),i=n(132),o=n(221);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(384),__esModule:!0}},function(e,t,n){n(385);var r=n(21).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(38);r(r.S+r.F*!n(41),"Object",{defineProperty:n(39).f})},function(e,t,n){"use strict";var r=n(26),i=n(95),o=n.n(i),a=n(11),u=n(56),s=n(12),c=n.n(s),f=n(29),l=(n.n(f),n(42)),p=n(43),d=n(387),h=n(391);function y(e,t,n){f.EventEmitter.call(this);var i=this;this.db=e;var o=(t=t?Object(a.e)(t):{}).complete=Object(a.r)(function(t,n){t?Object(a.o)(i,"error")>0&&i.emit("error",t):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",u)});function u(){i.cancel()}n&&(i.on("complete",function(e){n(null,e)}),i.on("error",n)),e.once("destroyed",u),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(e){Object(a.k)("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var s=new r.a(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});i.once("cancel",function(){e.removeListener("destroyed",u),t.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(e){o(null,e)},o),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask(function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)})}function v(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=Object(u.b)(t.rev_tree).map(function(e){return{rev:e.rev}}));var i={id:t.id,changes:r,doc:e};return Object(u.d)(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=Object(u.a)(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function m(e,t){return e<t?-1:e>t?1:0}function b(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function g(e,t){var n=m(e._id,t._id);return 0!==n?n:m(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function _(){f.EventEmitter.call(this)}function w(){this.isReady=!1,this.failed=!1,this.queue=[]}function E(e,t){if(!(this instanceof E))return new E(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),this.__opts=t=Object(a.e)(t),n.auto_compaction=t.auto_compaction,n.prefix=E.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=E.adapters,i=E.preferredAdapters,o=E.prefix,u=t.adapter;if(!u)for(var s=0;s<i.length&&"idb"===(u=i[s])&&"websql"in r&&Object(a.l)()&&localStorage["_pouch__websqldb_"+o+e];++s)Object(a.k)("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=r[u];return{name:c&&"use_prefix"in c&&!c.use_prefix?e:o+e,adapter:u}}((t.prefix||"")+e,t);if(t.name=r.name,t.adapter=t.adapter||r.adapter,n.name=e,n._adapter=t.adapter,E.emit("debug",["adapter","Picked adapter: ",t.adapter]),!E.adapters[t.adapter]||!E.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);_.call(n),n.taskqueue=new w,n.adapter=t.adapter,E.adapters[t.adapter].call(n,t,function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),E.emit("created",n.name),n.taskqueue.ready(n)})}c()(y,f.EventEmitter),y.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},y.prototype.validateChanges=function(e){var t=e.complete,n=this;E._changesFilterPlugin?E._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},y.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=Object(a.e)(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=v,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(E._changesFilterPlugin){if(E._changesFilterPlugin.normalize(e),E._changesFilterPlugin.shouldFilter(this,e))return E._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&Object(a.k)("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var i=t.cancel;t.cancel=o()(function(e){r.cancel(),i.apply(this,e)})}}else this.db.info().then(function(r){t.isCancelled?n(null,{status:"cancelled"}):(e.since=r.update_seq,t.doChanges(e))},n)},c()(_,f.EventEmitter),_.prototype.post=Object(a.a)("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Object(p.r)(p.k));this.bulkDocs({docs:[e]},t,b(n,e._id))}),_.prototype.put=Object(a.a)("put",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Object(p.r)(p.k));if(Object(a.m)(e._id),Object(u.e)(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var r,i,o,s,c=this;function f(n){"function"==typeof c._put&&!1!==t.new_edits?c._put(e,t,n):c.bulkDocs({docs:[e]},t,b(n,e._id))}t.force&&e._rev?(i=(r=e._rev.split("-"))[1],o=parseInt(r[0],10)+1,s=Object(a.u)(),e._revisions={start:o,ids:[s,i]},e._rev=o+"-"+s,t.new_edits=!1,f(function(t){n(t,t?null:{ok:!0,id:e._id,rev:e._rev})})):f(n)}),_.prototype.putAttachment=Object(a.a)("putAttachment",function(e,t,n,r,i){var o=this;function u(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r,revpos:++n},o.put(e)}return"function"==typeof i&&(i=r,r=n,n=null),"undefined"==typeof i&&(i=r,r=n,n=null),i||Object(a.k)("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then(function(e){if(e._rev!==n)throw Object(p.r)(p.o);return u(e)},function(t){if(t.reason===p.h.message)return u({_id:e});throw t})}),_.prototype.removeAttachment=Object(a.a)("removeAttachment",function(e,t,n,r){var i=this;i.get(e,function(e,o){if(e)r(e);else if(o._rev===n){if(!o._attachments)return r();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,i.put(o,r)}else r(Object(p.r)(p.o))})}),_.prototype.remove=Object(a.a)("remove",function(e,t,n,r){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(i=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev,_deleted:!0};if(Object(u.e)(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[o]},n,b(r,o._id))}),_.prototype.revsDiff=Object(a.a)("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var i=0,o=new l.a;function a(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}r.map(function(t){this._getRevisionTree(t,function(s,c){if(s&&404===s.status&&"missing"===s.message)o.set(t,{missing:e[t]});else{if(s)return n(s);!function(t,n){var r=e[t].slice(0);Object(u.j)(n,function(e,n,i,o,u){var s=n+"-"+i,c=r.indexOf(s);-1!==c&&(r.splice(c,1),"available"!==u.status&&a(t,s))}),r.forEach(function(e){a(t,e)})}(t,c)}if(++i===r.length){var f={};return o.forEach(function(e,t){f[t]=e}),n(null,f)}})},this)}),_.prototype.bulkGet=Object(a.a)("bulkGet",function(e,t){Object(a.c)(this,e,t)}),_.prototype.compactDocument=Object(a.a)("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(i,o){if(i)return n(i);var a=function(e){var t={},n=[];return Object(u.j)(e,function(e,r,i,o){var a=r+"-"+i;return e&&(t[a]=0),void 0!==o&&n.push({from:o,to:a}),a}),n.reverse(),n.forEach(function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])}),t}(o),s=[],c=[];Object.keys(a).forEach(function(e){a[e]>t&&s.push(e)}),Object(u.j)(o,function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==s.indexOf(o)&&c.push(o)}),r._doCompaction(e,c,n)})}),_.prototype.compact=Object(a.a)("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],r=n.opts,i=n.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),t._compact(r,function(n,r){n?i(n):i(null,r),Object(a.p)(function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)})})})}(this)}),_.prototype._compact=function(e,t){var n=this,i=[];n.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(e){i.push(n.compactDocument(e.id,0))}).on("complete",function(e){var o=e.last_seq;r.a.all(i).then(function(){return Object(a.x)(n,"_local/compaction",function(e){return(!e.last_seq||e.last_seq<o)&&(e.last_seq=o,e)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},_.prototype.get=Object(a.a)("get",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(Object(p.r)(p.e));if(Object(u.e)(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],i=this;function o(){var o=[],a=r.length;if(!a)return n(null,o);r.forEach(function(r){i.get(e,{rev:r,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)o.push({missing:r});else{for(var i,u=0,s=o.length;u<s;u++)if(o[u].ok&&o[u].ok._rev===t._rev){i=!0;break}i||o.push({ok:t})}--a||n(null,o)})})}if(!t.open_revs)return this._get(e,t,function(r,o){if(r)return r.docId=e,n(r);var a=o.doc,s=o.metadata,c=o.ctx;if(t.conflicts){var f=Object(u.a)(s);f.length&&(a._conflicts=f)}if(Object(u.d)(s,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var l=a._rev.split("-"),p=parseInt(l[0],10),d=l[1],h=Object(u.i)(s.rev_tree),y=null,v=0;v<h.length;v++){var m=h[v],b=m.ids.map(function(e){return e.id}).indexOf(d);(b===p-1||!y&&-1!==b)&&(y=m)}var g=y.ids.map(function(e){return e.id}).indexOf(a._rev.split("-")[1])+1;if(y.ids.splice(g,y.ids.length-g),y.ids.reverse(),t.revs&&(a._revisions={start:y.pos+y.ids.length-1,ids:y.ids.map(function(e){return e.id})}),t.revs_info){var _=y.pos+y.ids.length;a._revs_info=y.ids.map(function(e){return{rev:--_+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&a._attachments){var w=a._attachments,E=Object.keys(w).length;if(0===E)return n(null,a);Object.keys(w).forEach(function(e){this._getAttachment(a._id,e,w[e],{rev:a._rev,binary:t.binary,ctx:c},function(t,r){var i=a._attachments[e];i.data=r,delete i.stub,delete i.length,--E||n(null,a)})},i)}else{if(a._attachments)for(var O in a._attachments)a._attachments.hasOwnProperty(O)&&(a._attachments[O].stub=!0);n(null,a)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);r=Object(u.b)(t).map(function(e){return e.rev}),o()});else{if(!Array.isArray(t.open_revs))return n(Object(p.r)(p.p,"function_clause"));r=t.open_revs;for(var a=0;a<r.length;a++){var s=r[a];if("string"!=typeof s||!/^\d+-/.test(s))return n(Object(p.r)(p.f))}o()}}),_.prototype.getAttachment=Object(a.a)("getAttachment",function(e,t,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(o,a){return o?r(o):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,void i._getAttachment(e,t,a.doc._attachments[t],n,r)):r(Object(p.r)(p.h))})}),_.prototype.allDocs=Object(a.a)("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip="undefined"!=typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(Object(p.r)(p.m,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Object(a.n)(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),_.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new y(this,e,t)},_.prototype.close=Object(a.a)("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),_.prototype.info=Object(a.a)("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||Object(a.n)(t)),r.adapter=t.adapter,e(null,r)})}),_.prototype.id=Object(a.a)("id",function(e){return this._id(e)}),_.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},_.prototype.bulkDocs=Object(a.a)("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(Object(p.r)(p.g));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(Object(p.r)(p.k));var i;if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||Object(a.k)("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),i)return n(Object(p.r)(p.b,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||Object(a.n)(o)||e.docs.sort(g),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=Object(a.t)(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var u=e.docs.map(function(e){return e._id});return this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),!Object(a.n)(o))for(var i=0,s=r.length;i<s;i++)r[i].id=r[i].id||u[i];n(null,r)})}),_.prototype.registerDependentDatabase=Object(a.a)("registerDependentDatabase",function(e,t){var n=new this.constructor(e,this.__opts);Object(a.x)(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:n})}).catch(t)}),_.prototype.destroy=Object(a.a)("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function o(){n._destroy(e,function(e,r){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,r||{ok:!0})})}if(Object(a.n)(n))return o();n.get("_local/_pouch_dependentDbs",function(e,a){if(e)return 404!==e.status?t(e):o();var u=n.constructor,s=Object.keys(a.dependentDbs).map(function(e){var t=i?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,n.__opts).destroy()});r.a.all(s).then(o,t)})}),w.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},w.prototype.fail=function(e){this.failed=e,this.execute()},w.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},w.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},c()(E,_),E.adapters={},E.preferredAdapters=[],E.prefix="_pouch_";var O=new f.EventEmitter;!function(e){Object.keys(f.EventEmitter.prototype).forEach(function(t){"function"==typeof f.EventEmitter.prototype[t]&&(e[t]=O[t].bind(O))});var t=e._destructionListeners=new l.a;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach(function(e){e.emit("destroyed",!0)})}})}(E),E.adapter=function(e,t,n){t.valid()&&(E.adapters[e]=t,n&&E.preferredAdapters.push(e))},E.plugin=function(e){if("function"==typeof e)e(E);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){E.prototype[t]=e[t]})}return this.__defaults&&(E.__defaults=Object(a.b)({},this.__defaults)),E},E.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=Object(a.b)({},t.__defaults,n),E.call(this,e,n)}return c()(t,E),t.preferredAdapters=E.preferredAdapters.slice(),Object.keys(E).forEach(function(e){e in t||(t[e]=E[e])}),t.__defaults=Object(a.b)({},this.__defaults,e),t},E.plugin(d.a),E.plugin(h.a),E.version="6.4.3",t.a=E},function(e,t,n){"use strict";var r=n(388),i=n.n(r);t.a=function(e){e.debug=i.a;var t={};e.on("debug",function(e){var n=e[0],r=e.slice(1);t[n]||(t[n]=i()("pouchdb:"+n)),t[n].apply(null,r)})}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(389)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++i)}),e.splice(o,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(t,n(6))},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date;e.diff=i-(r||i),e.prev=r,e.curr=i,r=i;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];return"function"==typeof i&&(n=i.call(e,o[u]),o.splice(u,1),u--),n}),t.formatArgs.call(e,o),(n.log||t.log||console.log.bind(console)).apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(390),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=6e4,i=36e5,o=24*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===s&&!1===isNaN(e))return t.long?a(u=e,o,"day")||a(u,i,"hour")||a(u,r,"minute")||a(u,n,"second")||u+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=i?Math.round(e/i)+"h":e>=r?Math.round(e/r)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(11),i=n(43),o=n(133);function a(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function u(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=Object(r.q)(e.view):e.filter=Object(r.q)(e.filter))}function s(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Object(r.n)(e.db)}function c(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var a=Object(i.r)(i.b,"`view` filter parameter not found or invalid.");return n(a)}var u=Object(r.s)(t.view);e.db.get("_design/"+u[0],function(o,a){if(e.isCancelled)return n(null,{status:"cancelled"});if(o)return n(Object(i.s)(o));var s,c=a&&a.views&&a.views[u[1]]&&a.views[u[1]].map;if(!c)return n(Object(i.r)(i.h,a.views?"missing json key: "+u[1]:"missing json key: views"));t.filter=(s=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+c+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),Object(r.v)(s,{})),e.doChanges(t)})}else if(t.selector)t.filter=function(e){return Object(o.g)(e,t.selector)},e.doChanges(t);else{var s=Object(r.s)(t.filter);e.db.get("_design/"+s[0],function(o,a){if(e.isCancelled)return n(null,{status:"cancelled"});if(o)return n(Object(i.s)(o));var u,c=a&&a.filters&&a.filters[s[1]];if(!c)return n(Object(i.r)(i.h,a&&a.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=(u=c,Object(r.v)('"use strict";\nreturn '+u+";",{})),e.doChanges(t)})}}t.a=function(e){e._changesFilterPlugin={validate:a,normalize:u,shouldFilter:s,filter:c}}},function(e,t,n){"use strict";(function(e){var r=n(11),i=n(26),o=n(133),a=n(393),u=n(68),s=n(69);function c(e){return(e=Object(r.e)(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function f(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function l(t){return f(function(n){var r=n.pop(),i=t.apply(this,n);return function(t,n){t.then(function(t){e.nextTick(function(){n(null,t)})},function(t){e.nextTick(function(){n(t)})})}(i,r),i})}var p=f(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?t=t.concat(p.apply(null,i)):t.push(i)}return t});function d(e){for(var t={},n=0,i=e.length;n<i;n++)t=Object(r.b)(t,e[n]);return t}function h(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function y(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var v=Object(a.a)("indexes",function(e,t){return function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),r=1===e.length;return n?r?function(e,t){return function(n){t(n[e])}}(e[0],t):function(e,t){return function(n){for(var r=[],i=0,o=e.length;i<o;i++)r.push(n[e[i]]);t(r)}}(e,t):r?function(e,t){var n=Object(o.h)(e);return function(e){for(var r=e,i=0,o=n.length;i<o;i++)if("undefined"==typeof(r=r[n[i]]))return;t(r)}}(e[0],t):function(e,t){return function(n){for(var r=[],i=0,a=e.length;i<a;i++){for(var u=Object(o.h)(e[i]),s=n,c=0,f=u.length;c<f;c++)if("undefined"==typeof(s=s[u[c]]))return;r.push(s)}t(r)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function m(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function b(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var i=Object(o.d)(t.def.fields[r]);n.push(e[i])}return n}function g(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=p(t.indexes,e.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){return{ddoc:e.id,name:t,type:"json",def:m(e.doc.views[t].options.def)}})})),t.indexes.sort(function(e,t){return Object(o.a)(e.name,t.name)}),t.total_rows=t.indexes.length,t})}var _=null,w={"\uffff":{}};function E(e,t){for(var n=e.def.fields.map(o.d),r=0,i=n.length;r<i;r++)if(t===n[r])return!0;return!1}function O(e,t){var n=e[t];return"$eq"!==Object(o.d)(n)}function T(e,t){var n=t.def.fields.map(o.d);return e.slice().sort(function(e,t){var r=n.indexOf(e),i=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===i&&(i=Number.MAX_VALUE),Object(o.a)(r,i)})}var S=["$eq","$gt","$gte","$lt","$lte"];function k(e){return-1===S.indexOf(e)}function x(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function j(e,t){var n=e.selector,r=function(e,t){var n,r=Object.keys(e),i=t?t.map(o.d):[];return n=r.length>=i.length?r:i,0===i.length?{fields:n}:{fields:n=n.sort(function(e,t){var n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),sortOrder:t.map(o.d)}}(n,e.sort),i=r.fields,a=function(e,t,n,i,a){var u=function(e,t,n,r){return r.reduce(function(r,i){return function(e,t,n,r){var i=e.def.fields.map(o.d);return!!function(e,t,n){if(t){var r=!((o=t).length>(a=e).length)&&h(o,a),i=h(n,e);return r&&i}var o,a;return function(e,t){e=e.slice();for(var n=0,r=t.length;n<r&&e.length;n++){var i=e.indexOf(t[n]);if(-1===i)return!1;e.splice(i,1)}return!0}(n,e)}(i,t,n)&&function(e,t){var n=t[e[0]];return"undefined"==typeof n||!!Object.keys(n).some(function(e){return!k(e)})&&!(1===Object.keys(n).length&&"$ne"===Object(o.d)(n))}(i,r)}(i,n,t,e)&&r.push(i),r},[])}(e,t,r.sortOrder,i);if(0===u.length){if(a)throw{error:"no_usable_index",message:"There is no index available for this selector."};var s=i[0];return s.defaultUsed=!0,s}if(1===u.length&&!a)return u[0];var c=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}(t);if(a){var f="_design/"+a[0],l=2===a.length&&a[1],p=u.find(function(e){return!(!l||e.ddoc!==f||l!==e.name)||e.ddoc===f});if(!p)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return p}return function(e,t){for(var n=null,r=-1,i=0,o=e.length;i<o;i++){var a=e[i],u=t(a);u>r&&(r=u,n=a)}return n}(u,function(e){for(var t=e.def.fields.map(o.d),n=0,r=0,i=t.length;r<i;r++)c[t[r]]&&n++;return n})}(n,i,0,t,e.use_index),u=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var n,r=Object(o.d)(t.def.fields[0]),i=e[r]||{},a=[];return Object.keys(i).forEach(function(e){if(k(e))a.push(r);else{var t=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}(e,i[e]);n=n?d([n,t]):t}}),{queryOpts:n,inMemoryFields:a}}(e,t):function(e,t){var n,r,i=t.def.fields.map(o.d),a=[],u=[],s=[];function c(e){!1!==n&&u.push(_),!1!==r&&s.push(w),a=i.slice(e)}for(var f=0,l=i.length;f<l;f++){var p=e[i[f]];if(!p||!Object.keys(p).length){c(f);break}if(f>0){if(Object.keys(p).some(k)){c(f);break}var h="$gt"in p||"$gte"in p||"$lt"in p||"$lte"in p,v=Object.keys(e[i[f-1]]),m=y(v,["$eq"]),b=y(v,Object.keys(p));if(h&&!m&&!b){c(f);break}}for(var g=Object.keys(p),E=null,O=0;O<g.length;O++){var T=g[O],S=x(T,p[T]);E=E?d([E,S]):S}u.push("startkey"in E?E.startkey:_),s.push("endkey"in E?E.endkey:w),"inclusive_start"in E&&(n=E.inclusive_start),"inclusive_end"in E&&(r=E.inclusive_end)}var j={startkey:u,endkey:s};return"undefined"!=typeof n&&(j.inclusive_start=n),"undefined"!=typeof r&&(j.inclusive_end=r),{queryOpts:j,inMemoryFields:a}}(e,t)}(n,a);return{queryOpts:u.queryOpts,index:a,inMemoryFields:function(e,t,n,r){return T(function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})}(p(u.inMemoryFields,function(e,t,n){for(var r=!1,i=0,o=(n=T(n,e)).length;i<o;i++){var a=n[i];if(r||!E(e,a))return n.slice(i);i<o-1&&O(t,a)&&(r=!0)}return[]}(t,n,r),function(e){var t=[];return Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(e){"$ne"===e&&t.push(n)})}),t}(n))),t)}(0,a,n,i)}}function N(e,t,n){var a,s;return t.selector&&(t.selector=Object(o.f)(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}(t.sort)),t.use_index&&(t.use_index=(s=[],"string"==typeof(a=t.use_index)?s.push(a):s=a,s.map(function(e){return e.replace("_design/","")}))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),g(e).then(function(a){e.constructor.emit("debug",["find","planning query",t]);var s=j(t,a.indexes);e.constructor.emit("debug",["find","query plan",s]);var c=s.index;!function(e,t){if(c.defaultUsed&&e.sort){var n=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}}(t);var f=Object(r.b)({include_docs:!0,reduce:!1},s.queryOpts);return"startkey"in f&&"endkey"in f&&Object(u.a)(f.startkey,f.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===Object(o.e)(t.sort[0])&&(f.descending=!0,f=function(e){var t=Object(r.e)(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(f)),s.inMemoryFields.length||("limit"in t&&(f.limit=t.limit),"skip"in t&&(f.skip=t.skip)),n?i.a.resolve(s,f):i.a.resolve().then(function(){if("_all_docs"===c.name)return function(e,t){var n=Object(r.e)(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),e.allDocs(n).then(function(e){return e.rows=e.rows.filter(function(e){return!/^_design\//.test(e.id)}),e})}(e,f);var t,n=(t=c).ddoc.substring(8)+"/"+t.name;return v.query.call(e,n,f)}).then(function(e){!1===f.inclusive_start&&(e.rows=function(e,t,n){for(var r=n.def.fields,i=0,o=e.length;i<o;i++){var a=b(e[i].doc,n);if(1===r.length)a=a[0];else for(;a.length>t.length;)a.pop();if(Math.abs(Object(u.a)(a,t))>0)break}return i>0?e.slice(i):e}(e.rows,f.startkey,c)),s.inMemoryFields.length&&(e.rows=Object(o.b)(e.rows,t,s.inMemoryFields));var n={docs:e.rows.map(function(e){var n=e.doc;return t.fields?function(e,t){for(var n={},r=0,i=t.length;r<i;r++){var a=Object(o.h)(t[r]),u=Object(o.c)(e,a);"undefined"!=typeof u&&Object(o.i)(n,a,u)}return n}(n,t.fields):n})};return c.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var I=l(function(e,t){t=c(t);var n,i=Object(r.e)(t.index);function a(){return n||(n=Object(s.b)(JSON.stringify(t)))}t.index=m(t.index),function(e){var t=e.fields.filter(function(e){return"asc"===Object(o.e)(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var u=t.name||"idx-"+a(),f=t.ddoc||"idx-"+a(),l="_design/"+f,p=!1,h=!1;return e.constructor.emit("debug",["find","creating index",l]),Object(r.x)(e,l,function(e){return e._rev&&"query"!==e.language&&(p=!0),e.language="query",e.views=e.views||{},!(h=!!e.views[u])&&(e.views[u]={map:{fields:d(t.index.fields)},reduce:"_count",options:{def:i}},e)}).then(function(){if(p)throw new Error('invalid language for ddoc with id "'+l+'" (should be "query")')}).then(function(){return v.query.call(e,f+"/"+u,{limit:0,reduce:!1}).then(function(){return{id:l,name:u,result:h?"exists":"created"}})})}),A=l(N),L=l(function(e,t){return N(e,t,!0).then(function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),D=l(g),P=l(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,i=t.name;return Object(r.x)(e,n,function(e){return 1===Object.keys(e.views).length&&e.views[i]?{_id:n,_deleted:!0}:(delete e.views[i],e)}).then(function(){return v.viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),R={};R.createIndex=Object(r.w)(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(Object(r.n)(this)?function(e,t,n){t=c(t),e.request({method:"POST",url:"_index",body:t},n)}:I)(this,e,t)}),R.find=Object(r.w)(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(Object(r.n)(this)?function(e,t,n){e.request({method:"POST",url:"_find",body:t},n)}:A)(this,e,t)}),R.explain=Object(r.w)(function(e,t){if("undefined"==typeof t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(Object(r.n)(this)?function(e,t,n){e.request({method:"POST",url:"_explain",body:t},n)}:L)(this,e,t)}),R.getIndexes=Object(r.w)(function(e){(Object(r.n)(this)?function(e,t){e.request({method:"GET",url:"_index"},t)}:D)(this,e)}),R.deleteIndex=Object(r.w)(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(Object(r.n)(this)?function(e,t,n){var r=t.ddoc,i=t.type||"json",o=t.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!o)return n(new Error("you must provide an index's name"));var a="_index/"+[r,i,o].map(encodeURIComponent).join("/");e.request({method:"DELETE",url:a},n)}:P)(this,e,t)}),t.a=R}).call(t,n(6))},function(e,t,n){"use strict";var r=n(26),i=n(11),o=n(69),a=n(42),u=n(57),s=n(68),c=n(394);function f(){this.promise=new r.a(function(e){e()})}function l(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function p(e,t,n,r,a,u){var s,c=function(e,t){return l(e)+l(t)+"undefined"}(n,r);if(!a&&(s=e._cachedViews=e._cachedViews||{})[c])return s[c];var f=e.info().then(function(f){var l=f.db_name+"-mrview-"+(a?"temp":Object(o.b)(c));return Object(i.x)(e,"_local/"+u,function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e}).then(function(){return e.registerDependentDatabase(l).then(function(t){var i=t.db;i.auto_compaction=!0;var o={name:l,db:i,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return o.db.get("_local/lastSeq").catch(function(e){if(404!==e.status)throw e}).then(function(e){return o.seq=e?e.seq:0,s&&o.db.once("destroyed",function(){delete s[c]}),o})})})});return s&&(s[c]=f),f}f.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},f.prototype.finish=function(){return this.promise};var d={},h=new f,y=50;function v(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function m(e,t){try{e.emit("error",t)}catch(e){Object(i.k)("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Object(i.k)("error",t)}}t.a=function(e,t,n,o){function l(e,t,n){try{t(n)}catch(t){m(e,t)}}function b(e,t,n,r,i){try{return{output:t(n,r,i)}}catch(t){return m(e,t),{error:t}}}function g(e,t){var n=Object(s.a)(e.key,t.key);return 0!==n?n:Object(s.a)(e.value,t.value)}function _(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function w(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=Object(u.b)(n.data,n.content_type)})})}(t),t}}function E(e,t,n,r){var i=t[e];"undefined"!=typeof i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function O(e){if("undefined"!=typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function T(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&Object(s.a)(e[n],e[r])>0)throw new c.c("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new c.c("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new c.c("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=function(e){if(e){if("number"!=typeof e)return new c.c('Invalid value for integer: "'+e+'"');if(e<0)return new c.c('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n})}function S(e){return function(t){if(404===t.status)return e;throw t}}function k(e){var t="string"==typeof e?e:e.name,n=d[t];return n||(n=d[t]=new f),n}function x(e){return Object(c.h)(k(e),function(){return function(e){var n,o,u=t(e.mapFun,function(e,t){var r={id:o._id,key:Object(s.b)(e)};"undefined"!=typeof t&&null!==t&&(r.value=Object(s.b)(t)),n.push(r)}),p=e.seq||0;var d=new f;function h(){return e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:p,limit:y}).then(v)}function v(t){var s=t.results;if(s.length){var f=function(t){for(var r=new a.a,i=0,s=t.length;i<s;i++){var c=t[i];if("_"!==c.doc._id[0]){n=[],(o=c.doc)._deleted||l(e.sourceDB,u,o),n.sort(g);var f=m(n);r.set(c.doc._id,[f,c.changes])}p=c.seq}return r}(s);if(d.add(function(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(S({_id:"_local/lastSeq",seq:0})).then(function(o){var u=Object(c.f)(t);return r.a.all(u.map(function(n){return function(e,t,n){var i,o="_local/doc_"+e,u={_id:o,keys:[]},s=n.get(e),f=s[0];return(i=s[1],1===i.length&&/^1-/.test(i[0].rev)?r.a.resolve(u):t.db.get(o).catch(S(u))).then(function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):r.a.resolve({rows:[]})}(e).then(function(t){return function(e,t){for(var n=[],r=new a.b,i=0,o=t.rows.length;i<o;i++){var u=t.rows[i].doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!f.has(u._id),!u._deleted)){var s=f.get(u._id);"value"in s&&(u.value=s.value)}}var l=Object(c.f)(f);return l.forEach(function(e){if(!r.has(e)){var t={_id:e},i=f.get(e);"value"in i&&(t.value=i.value),n.push(t)}}),e.keys=Object(c.i)(l.concat(e.keys)),n.push(e),n}(e,t)})})}(n,e,t)})).then(function(t){var r=Object(i.i)(t);return o.seq=n,r.push(o),e.db.bulkDocs({docs:r})})})}(e,t,n)}}(f,p)),!(s.length<y))return h()}}function m(e){for(var t,n=new a.a,r=0,i=e.length;r<i;r++){var o=e[r],u=[o.key,o.id];r>0&&0===Object(s.a)(o.key,t)&&u.push(r),n.set(Object(s.d)(u),o),t=o.key}return n}return h().then(function(){return d.finish()}).then(function(){e.seq=p})}(e)})()}function j(e,t){return Object(c.h)(k(e),function(){return function(e,t){var o,u=e.reduceFun&&!1!==t.reduce,f=t.skip||0;function l(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=Object(s.c)(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function p(r){var i;if(i=u?function(e,t,r){0===r.group_level&&delete r.group_level;var i=r.group||r.group_level,o=n(e.reduceFun),a=[],u=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach(function(e){var t=a[a.length-1],n=i?e.key:null;if(i&&Array.isArray(n)&&(n=n.slice(0,u)),t&&0===Object(s.a)(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);a.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var f=0,l=a.length;f<l;f++){var p=a[f],d=b(e.sourceDB,o,p.keys,p.values,!1);if(d.error&&d.error instanceof c.a)throw d.error;t.push({value:d.error?null:d.output,key:p.groupKey})}return{rows:function(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}(t,r.limit,r.skip)}}(e,r,t):{total_rows:o,offset:f,rows:r},t.update_seq&&(i.update_seq=e.seq),t.include_docs){var l=Object(c.i)(r.map(_));return e.sourceDB.allDocs({keys:l,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t=new a.a;return e.rows.forEach(function(e){t.set(e.id,e.doc)}),r.forEach(function(e){var n=_(e),r=t.get(n);r&&(e.doc=r)}),i})}return i}if("undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!=typeof t.keys){var d=t.keys.map(function(e){var n={startkey:Object(s.d)([e]),endkey:Object(s.d)([e,{}])};return t.update_seq&&(n.update_seq=!0),l(n)});return r.a.all(d).then(i.i).then(p)}var h,y,v={descending:t.descending};if(t.update_seq&&(v.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(y=t.end_key),"endkey"in t&&(y=t.endkey),"undefined"!=typeof h&&(v.startkey=t.descending?Object(s.d)([h,{}]):Object(s.d)([h])),"undefined"!=typeof y){var m=!1!==t.inclusive_end;t.descending&&(m=!m),v.endkey=Object(s.d)(m?[y,{}]:[y])}if("undefined"!=typeof t.key){var g=Object(s.d)([t.key]),w=Object(s.d)([t.key,{}]);v.descending?(v.endkey=g,v.startkey=w):(v.startkey=g,v.endkey=w)}return u||("number"==typeof t.limit&&(v.limit=t.limit),v.skip=f),l(v).then(p)}(e,t)})()}return{query:function(t,n,a){var u=this;"function"==typeof n&&(a=n,n={}),n=n?function(e){return e.group_level=O(e.group_level),e.limit=O(e.limit),e.skip=O(e.skip),e}(n):{},"function"==typeof t&&(t={map:t});var s=r.a.resolve().then(function(){return function(t,n,a){if("function"==typeof t._query)return function(e,t,n){return new r.a(function(r,i){e._query(t,n,function(e,t){if(e)return i(e);r(t)})})}(t,n,a);if(Object(i.n)(t))return function(e,t,n){var r,i=[],o="GET";if(E("reduce",n,i),E("include_docs",n,i),E("attachments",n,i),E("limit",n,i),E("descending",n,i),E("group",n,i),E("group_level",n,i),E("skip",n,i),E("stale",n,i),E("conflicts",n,i),E("startkey",n,i,!0),E("start_key",n,i,!0),E("endkey",n,i,!0),E("end_key",n,i,!0),E("inclusive_end",n,i),E("key",n,i,!0),E("update_seq",n,i),i=""===(i=i.join("&"))?"":"?"+i,"undefined"!=typeof n.keys){var a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+i.length+1<=2e3?i+=("?"===i[0]?"&":"?")+a:(o="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=v(t);return e.request({method:o,url:"_design/"+u[0]+"/_view/"+u[1]+i,body:r}).then(function(e){return e.rows.forEach(function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)}),e}).then(w(n))}return r=r||{},Object.keys(t).forEach(function(e){r[e]=Array.isArray(t[e])?t[e]:t[e].toString()}),e.request({method:"POST",url:"_temp_view"+i,body:r}).then(w(n))}(t,n,a);if("string"!=typeof n)return T(a,n),h.add(function(){return p(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then(function(e){return Object(c.e)(x(e).then(function(){return j(e,a)}),function(){return e.db.destroy()})})}),h.finish();var u=n,s=v(u),f=s[1];return t.get("_design/"+s[0]).then(function(n){var r=n.views&&n.views[f];if(!r)throw new c.b("ddoc "+n._id+" has no view named "+f);return o(n,f),T(a,r),p(t,u,r.map,r.reduce,!1,e).then(function(e){return"ok"===a.stale||"update_after"===a.stale?("update_after"===a.stale&&Object(i.p)(function(){x(e)}),j(e,a)):x(e).then(function(){return j(e,a)})})})}(u,t,n)});return Object(c.g)(s,a),s},viewCleanup:Object(c.d)(function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new r.a(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}(t):Object(i.n)(t)?function(e){return e.request({method:"POST",url:"_view_cleanup"})}(t):function(t){return t.get("_local/"+e).then(function(e){var n=new a.a;Object.keys(e.views).forEach(function(e){var t=v(e),r="_design/"+t[0],i=t[1],o=n.get(r);o||(o=new a.b,n.set(r,o)),o.add(i)});var i={keys:Object(c.f)(n),include_docs:!0};return t.allDocs(i).then(function(i){var o={};i.rows.forEach(function(t){var r=t.key.substring(8);n.get(t.key).forEach(function(n){var i=r+"/"+n;e.views[i]||(i=n);var a=Object.keys(e.views[i]),u=t.doc&&t.doc.views&&t.doc.views[n];a.forEach(function(e){o[e]=o[e]||u})})});var a=Object.keys(o).filter(function(e){return!o[e]}).map(function(e){return Object(c.h)(k(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return r.a.all(a).then(function(){return{ok:!0}})})},S({ok:!0}))}(t)})}}},function(e,t,n){"use strict";n.d(t,"i",function(){return v}),n.d(t,"h",function(){return y}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return l});var r=n(12),i=n.n(r),o=n(42),a=n(95),u=n.n(a),s=n(11);function c(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,c)}catch(e){}}function f(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,f)}catch(e){}}function l(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,l)}catch(e){}}function p(e,t){return t&&e.then(function(e){Object(s.p)(function(){t(null,e)})},function(e){Object(s.p)(function(){t(e)})}),e}function d(e){return u()(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&p(r,n),r})}function h(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})}function y(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function v(e){var t=new o.b(e),n=new Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function m(e){var t=new Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}i()(c,Error),i()(f,Error),i()(l,Error)},function(e,t,n){e.exports={default:n(396),__esModule:!0}},function(e,t,n){n(210),n(217),e.exports=n(135).f("iterator")},function(e,t,n){e.exports={default:n(398),__esModule:!0}},function(e,t,n){n(399),n(209),n(404),n(405),e.exports=n(21).Symbol},function(e,t,n){"use strict";var r=n(14),i=n(49),o=n(41),a=n(38),u=n(213),s=n(400).KEY,c=n(90),f=n(130),l=n(93),p=n(92),d=n(15),h=n(135),y=n(136),v=n(401),m=n(402),b=n(30),g=n(40),_=n(54),w=n(126),E=n(91),O=n(127),T=n(403),S=n(228),k=n(39),x=n(128),j=S.f,N=k.f,I=T.f,A=r.Symbol,L=r.JSON,D=L&&L.stringify,P=d("_hidden"),R=d("toPrimitive"),C={}.propertyIsEnumerable,M=f("symbol-registry"),F=f("symbols"),q=f("op-symbols"),U=Object.prototype,B="function"==typeof A,G=r.QObject,Q=!G||!G.prototype||!G.prototype.findChild,V=o&&c(function(){return 7!=O(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=j(U,t);r&&delete U[t],N(e,t,n),r&&e!==U&&N(U,t,r)}:N,K=function(e){var t=F[e]=O(A.prototype);return t._k=e,t},$=B&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},z=function(e,t,n){return e===U&&z(q,t,n),b(e),t=w(t,!0),b(n),i(F,t)?(n.enumerable?(i(e,P)&&e[P][t]&&(e[P][t]=!1),n=O(n,{enumerable:E(0,!1)})):(i(e,P)||N(e,P,E(1,{})),e[P][t]=!0),V(e,t,n)):N(e,t,n)},J=function(e,t){b(e);for(var n,r=v(t=_(t)),i=0,o=r.length;o>i;)z(e,n=r[i++],t[n]);return e},Y=function(e){var t=C.call(this,e=w(e,!0));return!(this===U&&i(F,e)&&!i(q,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,P)&&this[P][e])||t)},W=function(e,t){if(e=_(e),t=w(t,!0),e!==U||!i(F,t)||i(q,t)){var n=j(e,t);return!n||!i(F,t)||i(e,P)&&e[P][t]||(n.enumerable=!0),n}},H=function(e){for(var t,n=I(_(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==P||t==s||r.push(t);return r},X=function(e){for(var t,n=e===U,r=I(n?q:_(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(U,t)||o.push(F[t]);return o};B||(u((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(q,n),i(this,P)&&i(this[P],e)&&(this[P][e]=!1),V(this,e,E(1,n))};return o&&Q&&V(U,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",function(){return this._k}),S.f=W,k.f=z,n(227).f=T.f=H,n(137).f=Y,n(226).f=X,o&&!n(88)&&u(U,"propertyIsEnumerable",Y,!0),h.f=function(e){return K(d(e))}),a(a.G+a.W+a.F*!B,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)d(Z[ee++]);for(var te=x(d.store),ne=0;te.length>ne;)y(te[ne++]);a(a.S+a.F*!B,"Symbol",{for:function(e){return i(M,e+="")?M[e]:M[e]=A(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in M)if(M[t]===e)return t},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),a(a.S+a.F*!B,"Object",{create:function(e,t){return void 0===t?O(e):J(O(e),t)},defineProperty:z,defineProperties:J,getOwnPropertyDescriptor:W,getOwnPropertyNames:H,getOwnPropertySymbols:X}),L&&a(a.S+a.F*(!B||c(function(){var e=A();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(g(t)||void 0!==e)&&!$(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,D.apply(L,r)}}),A.prototype[R]||n(48)(A.prototype,R,A.prototype.valueOf),l(A,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(92)("meta"),i=n(40),o=n(49),a=n(39).f,u=0,s=Object.isExtensible||function(){return!0},c=!n(90)(function(){return s(Object.preventExtensions({}))}),f=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!s(e))return"F";if(!t)return"E";f(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!s(e))return!0;if(!t)return!1;f(e)}return e[r].w},onFreeze:function(e){return c&&l.NEED&&s(e)&&!o(e,r)&&f(e),e}}},function(e,t,n){var r=n(128),i=n(226),o=n(137);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,u=n(e),s=o.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},function(e,t,n){var r=n(67);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(54),i=n(227).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){n(136)("asyncIterator")},function(e,t,n){n(136)("observable")},function(e,t,n){e.exports={default:n(407),__esModule:!0}},function(e,t,n){n(408),e.exports=n(21).Object.setPrototypeOf},function(e,t,n){var r=n(38);r(r.S,"Object",{setPrototypeOf:n(409).set})},function(e,t,n){var r=n(40),i=n(30),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(65)(Function.call,n(228).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(411),__esModule:!0}},function(e,t,n){n(412);var r=n(21).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(38);r(r.S,"Object",{create:n(127)})},function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-c(e)},t.toByteArray=function(e){var t,n,r,a,u,s=e.length;a=c(e),u=new o(3*s/4-a),n=a>0?s-4:s;var f=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],u[f++]=r>>16&255,u[f++]=r>>8&255,u[f++]=255&r;return 2===a?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,u[f++]=255&r):1===a&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,u[f++]=r>>8&255,u[f++]=255&r),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o="",a=[],u=0,s=n-i;u<s;u+=16383)a.push(f(e,u,u+16383>s?s:u+16383));return 1===i?(o+=r[(t=e[n-1])>>2],o+=r[t<<4&63],o+="=="):2===i&&(o+=r[(t=(e[n-2]<<8)+e[n-1])>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),a.push(o),a.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function f(e,t,n){for(var i,o=[],a=t;a<n;a+=3)o.push(r[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,f=-7,l=n?i-1:0,p=n?-1:1,d=e[t+l];for(l+=p,o=d&(1<<-f)-1,d>>=-f,f+=u;f>0;o=256*o+e[t+l],l+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+l>=1?p/s:p*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(t*s-1)*Math.pow(2,i),a+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&u,d+=h,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*y}},function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(t,e),t}(Error);t.UnsubscriptionError=i},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t,n){"use strict";var r=n(31),i=n(141),o=n(232);t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(o.empty)}},function(e,t,n){"use strict";var r=n(421);function i(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:r.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i(e)},t.pipeFromArray=i},function(e,t,n){"use strict";t.noop=function(){}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(71);t.SubjectSubscription=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(i.Subscription)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(31),o=n(140),a=n(96);t.distinctUntilChanged=function(e,t){return function(n){return n.lift(new u(e,t))}};var u=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.compare,this.keySelector))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return r(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=o.tryCatch(this.keySelector)(e))===a.errorObject)return this.destination.error(a.errorObject.e);var n=!1;if(this.hasKey){if((n=o.tryCatch(this.compare)(this.key,t))===a.errorObject)return this.destination.error(a.errorObject.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=t,this.destination.next(e))},t}(i.Subscriber)},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(425),a=n(5),u=n(4),s=function(){function e(t){i()(this,e);var n=this.constructor.prototype;this.options={},this._conditions=n._conditions?u.b(n._conditions):{},this._fields=n._fields?u.b(n._fields):void 0,this._path=n._path||void 0,t&&this.find(t)}return e.prototype.clone=function(){var t=new e;return Object.entries(this).forEach(function(e){t[e[0]]=u.b(e[1])}),t},e.prototype.where=function(){if(!arguments.length)return this;var e=typeof arguments[0];if("string"===e)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===e&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw a.a.newRxTypeError("MQ1",{path:arguments[0]})},e.prototype.equals=function(e){return this._ensurePath("equals"),this._conditions[this._path]=e,this},e.prototype.eq=function(e){return this._ensurePath("eq"),this._conditions[this._path]=e,this},e.prototype.or=function(e){var t=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this},e.prototype.nor=function(e){var t=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this},e.prototype.and=function(e){var t=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this},e.prototype.mod=function(){var e=void 0,t=void 0;return 1===arguments.length?(this._ensurePath("mod"),e=arguments[0],t=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(e=arguments.slice(1),t=arguments[0]):(e=arguments[1],t=arguments[0]):(this._ensurePath("mod"),e=arguments.slice(),t=this._path),(this._conditions[t]||(this._conditions[t]={})).$mod=e,this},e.prototype.exists=function(){var e=void 0,t=void 0;return 0===arguments.length?(this._ensurePath("exists"),e=this._path,t=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),e=this._path,t=arguments[0]):(e=arguments[0],t=!0):2===arguments.length&&(e=arguments[0],t=arguments[1]),(this._conditions[e]||(this._conditions[e]={})).$exists=t,this},e.prototype.elemMatch=function(){if(null===arguments[0])throw a.a.newRxTypeError("MQ2");var t=void 0,n=void 0,r=void 0;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),n=this._path,t=arguments[0];else if(o.isObject(arguments[0]))this._ensurePath("elemMatch"),n=this._path,r=arguments[0];else if("function"==typeof arguments[1])n=arguments[0],t=arguments[1];else{if(!arguments[1]||!o.isObject(arguments[1]))throw a.a.newRxTypeError("MQ2");n=arguments[0],r=arguments[1]}return t&&(t(r=new e),r=r._conditions),(this._conditions[n]||(this._conditions[n]={})).$elemMatch=r,this},e.prototype.sort=function(e){var t=this;if(!e)return this;var n=void 0,r=typeof e;if(Array.isArray(e)){n=e.length;for(var i=0;i<e.length;++i)f(this.options,e[i][0],e[i][1]);return this}if(1===arguments.length&&"string"===r){n=(e=e.split(/\s+/)).length;for(var u=0;u<n;++u){var s=e[u];if(s){var l="-"===s[0]?-1:1;-1===l&&(s=s.substring(1)),c(this.options,s,l)}}return this}if(o.isObject(e))return Object.keys(e).forEach(function(n){return c(t.options,n,e[n])}),this;throw a.a.newRxTypeError("MQ3",{args:arguments})},e.prototype.merge=function(t){if(!t)return this;if(!e.canMerge(t))throw a.a.newRxTypeError("MQ4",{source:t});return t instanceof e?(t._conditions&&o.merge(this._conditions,t._conditions),t._fields&&(this._fields||(this._fields={}),o.merge(this._fields,t._fields)),t.options&&(this.options||(this.options={}),o.merge(this.options,t.options)),t._update&&(this._update||(this._update={}),o.mergeClone(this._update,t._update)),t._distinct&&(this._distinct=t._distinct),this):(o.merge(this._conditions,t),this)},e.prototype.find=function(t){return e.canMerge(t)&&this.merge(t),this},e.prototype._optionsForExec=function(){return u.b(this.options)},e.prototype._ensurePath=function(e){if(!this._path)throw a.a.newRxError("MQ5",{method:e})},e}();function c(e,t,n){if(Array.isArray(e.sort))throw a.a.newRxTypeError("MQ6",{opts:e,field:t,value:n});if(n&&n.$meta)(e.sort||(e.sort={}))[t]={$meta:n.$meta};else{var r=String(n||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(r))throw Array.isArray(n)&&(n="["+n+"]"),a.a.newRxTypeError("MQ7",{field:t,value:n});var i=e.sort||(e.sort={}),o=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");i[t]=parseInt(o,10)}}function f(e,t,n){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw a.a.newRxTypeError("MQ8",{opts:e,field:t,value:n});e.sort.push([t,n])}["gt","gte","lt","lte","ne","in","nin","all","regex","size"].forEach(function(e){s.prototype[e]=function(){var t=void 0,n=void 0;return 1===arguments.length?(this._ensurePath(e),n=arguments[0],t=this._path):(n=arguments[1],t=arguments[0]),(null===this._conditions[t]||"object"==typeof this._conditions[t]?this._conditions[t]:this._conditions[t]={})["$"+e]=n,this}}),s.canMerge=function(e){return e instanceof s||o.isObject(e)},["limit","skip","maxScan","batchSize","comment"].forEach(function(e){s.prototype[e]=function(t){return this.options[e]=t,this}}),s.utils=o,t.a=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=function e(t,n){for(var r=Object.keys(n),o=r.length,a=void 0;o--;)"undefined"==typeof t[a=r[o]]?t[a]=n[a]:i(n[a])?e(t[a],n[a]):t[a]=n[a]},t.mergeClone=function e(t,n){for(var o=Object.keys(n),a=o.length,u=void 0;a--;)"undefined"==typeof t[u=o[a]]?t[u]=r.b(n[u],{retainKeyOrder:1}):i(n[u])?e(t[u],n[u]):t[u]=r.b(n[u],{retainKeyOrder:1})},t.isObject=i;var r=n(4);function i(e){return"[object Object]"===e.toString()}},function(e,t,n){"use strict";var r=n(32),i=n(427),o=n(236),a=n(430);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=Number.POSITIVE_INFINITY,u=null,s=e[e.length-1];return o.isScheduler(s)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof s&&(n=e.pop()),null===u&&1===e.length&&e[0]instanceof r.Observable?e[0]:a.mergeAll(n)(new i.ArrayObservable(e,u))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(32),o=n(428),a=n(429),u=n(236);t.ArrayObservable=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];u.isScheduler(r)?e.pop():r=null;var i=e.length;return i>1?new t(e,r):1===i?new o.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t[n]),r.closed||(e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var o=0;o<r&&!e.closed;o++)e.next(n[o]);e.complete()},t}(i.Observable)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(32);t.ScalarObservable=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.value,n=e.subscriber;e.done?n.complete():(n.next(t),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(i.Observable)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(32);t.EmptyObservable=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(i.Observable)},function(e,t,n){"use strict";var r=n(237),i=n(437);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),r.mergeMap(i.identity,null,e)}},function(e,t,n){"use strict";var r=n(59),i=n(432),o=n(433),a=n(231),u=n(32),s=n(434),c=n(435),f=n(233);t.subscribeToResult=function(e,t,n,l){var p=new c.InnerSubscriber(e,n,l);if(p.closed)return null;if(t instanceof u.Observable)return t._isScalar?(p.next(t.value),p.complete(),null):(p.syncErrorThrowable=!0,t.subscribe(p));if(i.isArrayLike(t)){for(var d=0,h=t.length;d<h&&!p.closed;d++)p.next(t[d]);p.closed||p.complete()}else{if(o.isPromise(t))return t.then(function(e){p.closed||(p.next(e),p.complete())},function(e){return p.error(e)}).then(null,function(e){r.root.setTimeout(function(){throw e})}),p;if(t&&"function"==typeof t[s.iterator])for(var y=t[s.iterator]();;){var v=y.next();if(v.done){p.complete();break}if(p.next(v.value),p.closed)break}else if(t&&"function"==typeof t[f.observable]){var m=t[f.observable]();if("function"==typeof m.subscribe)return m.subscribe(new c.InnerSubscriber(e,n,l));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var b=a.isObject(t)?"an invalid object":"'"+t+"'";p.error(new TypeError("You provided "+b+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}}return null}},function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},function(e,t,n){"use strict";var r=n(59);function i(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}t.symbolIteratorPonyfill=i,t.iterator=i(r.root),t.$$iterator=t.iterator},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(31);t.InnerSubscriber=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(31);t.OuterSubscriber=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i.Subscriber)},function(e,t,n){"use strict";t.identity=function(e){return e}},function(e,t,n){"use strict";var r=n(19),i=n.n(r),o=n(8),a=n.n(o),u=n(9),s=n.n(u),c=n(2),f=n.n(c),l=n(55),p=n(4),d=n(61),h=n(100),y=n(5),v=n(70),m=n(50),b=n(32),g=(n.n(b),function(){function e(t,n){f()(this,e),this.newestCollection=t,this.migrationStrategies=n,this.currentSchema=t.schema,this.database=t.database,this.name=t.name}return e.prototype._getOldCollections=function(){var e=this;return Promise.all(this.currentSchema.previousVersions.map(function(t){return e.database._collectionsPouch.get(e.name+"-"+t)}).map(function(e){return e.catch(function(){return null})})).then(function(t){return t.filter(function(e){return null!==e}).map(function(t){return new _(t.schema.version,t.schema,e)})})},e.prototype.migrate=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw y.a.newRxError("DM1");this._migrated=!0;var n,r={done:!1,total:null,handled:0,success:0,deleted:0,percent:0};return new b.Observable((n=s()(a.a.mark(function n(i){var o,u,s,c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e._getOldCollections();case 2:return o=n.sent,n.next=5,Promise.all(o.map(function(e){return e.countAllUndeleted()}));case 5:u=n.sent.reduce(function(e,t){return e+t},0),r.total=u,i.next(p.b(r)),s=null,c=a.a.mark(function n(){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.migrate(t),e.next=3,new Promise(function(e){var t=o.subscribe(function(e){r.handled++,r[e.type]=r[e.type]+1,r.percent=Math.round(r.handled/r.total*100),i.next(p.b(r))},function(e){t.unsubscribe(),i.error(e)},function(){t.unsubscribe(),e()})});case 3:case"end":return e.stop()}},n,e)});case 11:if(!(s=o.shift())){n.next=15;break}return n.delegateYield(c(),"t0",13);case 13:n.next=11;break;case 15:r.done=!0,r.percent=100,i.next(p.b(r)),i.complete();case 19:case"end":return n.stop()}},n,e)})),function(e){return n.apply(this,arguments)}))},e.prototype.migratePromise=function(e){var t=this;return this._migratePromise||(this._migratePromise=new Promise(function(n,r){t.migrate(e).subscribe(null,r,n)})),this._migratePromise},e}()),_=function(){function e(t,n,r){f()(this,e),this.version=t,this.dataMigrator=r,this.schemaObj=n,this.newestCollection=r.newestCollection,this.database=r.newestCollection.database}return e.prototype.countAllUndeleted=(r=s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.a.countAllUndeleted(this.pouchdb));case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),e.prototype.getBatch=function(e){var t=this;return l.a.getBatch(this.pouchdb,e).then(function(e){return e.map(function(e){return t._handleFromPouch(e)})})},e.prototype._handleFromPouch=function(e){var t=p.b(e);return t=this.schema.swapIdToPrimary(e),this.schema.doKeyCompression()&&(t=this.keyCompressor.decompress(t)),this.crypter.decrypt(t)},e.prototype._handleToPouch=function(e){var t=p.b(e);return t=this.crypter.encrypt(t),t=this.schema.swapPrimaryToId(t),this.schema.doKeyCompression()&&(t=this.keyCompressor.compress(t)),t},e.prototype.migrateDocumentData=(n=s()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=p.b(t),n=this.version+1;case 2:if(!(n<=this.newestCollection.schema.version)){e.next=11;break}return e.next=5,this.dataMigrator.migrationStrategies[n+""](t);case 5:if(n++,null!==(t=e.sent)){e.next=9;break}return e.abrupt("return",null);case 9:e.next=2;break;case 11:e.prev=11,this.newestCollection.schema.validate(t),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(11),y.a.newRxError("DM2",{fromVersion:this.version,toVersion:this.newestCollection.schema.version,finalDoc:t});case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e,this,[[11,15]])})),function(e){return n.apply(this,arguments)}),e.prototype._migrateDocument=(t=s()(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.migrateDocumentData(t);case 2:if(r={doc:t,migrated:n=e.sent,oldCollection:this,newestCollection:this.newestCollection},!n){e.next=16;break}return m.b.runPluginHooks("preMigrateDocument",r),delete n._rev,e.next=9,this.newestCollection._pouchPut(n,!0);case 9:return r.res=e.sent,r.type="success",e.next=14,m.b.runAsyncPluginHooks("postMigrateDocument",r);case 14:e.next=17;break;case 16:r.type="deleted";case 17:return e.prev=17,e.next=20,this.pouchdb.remove(this._handleToPouch(t));case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(17);case 24:return e.abrupt("return",r);case 25:case"end":return e.stop()}},e,this,[[17,22]])})),function(e){return t.apply(this,arguments)}),e.prototype.delete=function(){var e=this;return this.pouchdb.destroy().then(function(){return e.database.removeCollectionDoc(e.dataMigrator.name,e.schema)})},e.prototype.migrate=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrate)throw y.a.newRxError("DM3");return this._migrate=!0,new b.Observable((e=s()(a.a.mark(function e(r){var i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBatch(n);case 2:i=e.sent,o=void 0;case 4:return e.next=6,Promise.all(i.map(function(e){return t._migrateDocument(e).then(function(e){return r.next(e)})})).catch(function(e){return o=e});case 6:if(!o){e.next=9;break}return r.error(o),e.abrupt("return");case 9:return e.next=11,t.getBatch(n);case 11:i=e.sent;case 12:if(!o&&i.length>0){e.next=4;break}case 13:return e.next=15,t.delete();case 15:r.complete();case 16:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},e.prototype.migratePromise=function(e){var t=this;return this._migratePromise||(this._migratePromise=new Promise(function(n,r){t.migrate(e).subscribe(null,r,n)})),this._migratePromise},i()(e,[{key:"schema",get:function(){return this._schema||(this._schema=d.a.create(this.schemaObj,!1)),this._schema}},{key:"keyCompressor",get:function(){return this._keyCompressor||(this._keyCompressor=v.a.createKeyCompressor(this.schema)),this._keyCompressor}},{key:"crypter",get:function(){return this._crypter||(this._crypter=h.a.create(this.database.password,this.schema)),this._crypter}},{key:"pouchdb",get:function(){return this._pouchdb||(this._pouchdb=this.database._spawnPouchDB(this.newestCollection.name,this.version,this.newestCollection.pouchSettings)),this._pouchdb}}]),e;var t,n,r}();t.a={create:function(e,t){return new g(e,t)}}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=function(){function e(){i()(this,e),this.subs=[],this._map=new Map}return e.prototype.getByQuery=function(e){var t=e.toString();return this._map.has(t)||this._map.set(t,e),this._map.get(t)},e.prototype.destroy=function(){this.subs.forEach(function(e){return e.unsubscribe()}),this._map=new Map},e}();t.a={create:function(){return new o}}},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(2),s=n.n(u),c=n(19),f=n.n(c),l=n(4),p=n(45),d=n(240),h=n(74),y=(n.n(h),n(44)),v=(n.n(y),d.a.canIUse()?2500:200),m=function(){function e(t){s()(this,e),this._destroyed=!1,this.database=t,this.token=t.token,this.subs=[],this.pullCount=0,this.pull_running=!1,this.lastPull=(new Date).getTime(),this.lastTimestamp=0,this.receivedEvents={},this.bc=d.a.create(this.database,"socket"),this.messages$=new h.Subject}return e.prototype.prepare=(m=a()(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pouch=this.database._spawnPouchDB("_socket",0,{auto_compaction:!1,revs_limit:1}),this.bc&&this.subs.push(this.bc.$.pipe(Object(y.filter)(function(e){return"pull"===e.type})).subscribe(function(){return t.pull()})),a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._destroyed){e.next=8;break}return e.next=3,l.j(v);case 3:if(!(t.messages$.observers.length>0)||t._destroyed){e.next=6;break}return e.next=6,t.pull();case 6:e.next=0;break;case 8:case"end":return e.stop()}},e,t)}))(),e.abrupt("return",this);case 4:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)}),e.prototype.write=(c=a()(i.a.mark(function e(t){var n,r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(n=t.toJSON()).db,n._id=""+l.c(n)+n.t,e.next=5,this.database.lockedRun(function(){return r.pouch.put(n)});case 5:return e.next=7,this._updateLastTimestamp();case 7:if(e.t0=this.bc,!e.t0){e.next=11;break}return e.next=11,this.bc.write("pull");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)}),e.prototype._getLastTimeDoc=function(){return this.pouch.get("_local/last-change").catch(function(){return null})},e.prototype._updateLastTimestampRun=function(){var e=this,t=(new Date).getTime();return this._getLastTimeDoc().then(function(n){return n?(n.time=t,e.pouch.put(n)):e.pouch.put({_id:"_local/last-change",time:t})})},e.prototype._updateLastTimestamp=(u=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!1;case 1:if(t){e.next=12;break}return e.prev=2,e.next=5,this._updateLastTimestampRun();case 5:t=!0,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:e.next=1;break;case 12:case"end":return e.stop()}},e,this,[[2,8]])})),function(){return u.apply(this,arguments)}),e.prototype.fetchDocs=(o=a()(i.a.mark(function e(){var t,n,r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getLastTimeDoc();case 2:if(!(this.lastTimestamp>=(n=(t=e.sent)?t.time:0))){e.next=8;break}return e.abrupt("return",[]);case 8:return this.lastTimestamp=n,e.next=11,this.database.lockedRun(function(){return r.pouch.allDocs({include_docs:!0})});case 11:return e.abrupt("return",e.sent.rows.map(function(e){return e.doc}));case 13:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),e.prototype.deleteDoc=(r=a()(i.a.mark(function e(t){var n,r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.prev=1,e.next=4,this.database.lockedRun(function(){return r.pouch.remove(t)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),n=!1;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this,[[1,6]])})),function(e){return r.apply(this,arguments)}),e.prototype._cleanupDocs=function(e){var t=this;e.forEach(function(e){t.database.requestIdlePromise().then(function(){t._destroyed||t.deleteDoc(e)})}),e.length>0&&this.database.requestIdlePromise().then(function(){t._destroyed||t.database.lockedRun(function(){return t.pouch.compact()})})},e.prototype.pull=(n=a()(i.a.mark(function e(){var t,n,r,o,a=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPulling){e.next=3;break}return this._repullAfter=!0,e.abrupt("return",!1);case 3:return this.isPulling=!0,this.pullCount++,e.next=7,l.m(2500);case 7:if(!this._destroyed){e.next=9;break}return e.abrupt("return");case 9:return t=this.lastPull-100,this.lastPull=(new Date).getTime(),e.next=13,this.fetchDocs();case 13:if(n=e.sent,!this._destroyed){e.next=16;break}return e.abrupt("return");case 16:if(n.filter(function(e){return e.it!==a.token}).filter(function(e){return e.t>t}).sort(function(e,t){return e.t>t.t?1:-1}).map(function(e){return p.a.fromJSON(e)}).filter(function(e){return!a.receivedEvents[e.hash]&&(a.receivedEvents[e.hash]=(new Date).getTime())}).filter(function(e){return setTimeout(function(){return delete a.receivedEvents[e.hash]},15e3)}).forEach(function(e){return a.messages$.next(e)}),!this._destroyed){e.next=19;break}return e.abrupt("return");case 19:return r=(new Date).getTime()-5e3,o=n.filter(function(e){return e.t<r}),this._cleanupDocs(o),this.isPulling=!1,this._repull&&(this._repull=!1,this.pull()),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),e.prototype.destroy=(t=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._destroyed=!0,this.subs.map(function(e){return e.unsubscribe()}),this.bc&&this.bc.destroy();case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),f()(e,[{key:"$",get:function(){return this._$||(this._$=this.messages$.asObservable()),this._$}}]),e;var t,n,r,o,u,c,m}();t.a={create:function(e){return new m(e).prepare()},EVENT_TTL:5e3,PULL_TIME:v}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(32),o=n(140),a=n(139),u=n(96),s=n(71),c=Object.prototype.toString;t.FromEventObservable=function(e){function t(t,n,r,i){e.call(this),this.sourceObj=t,this.eventName=n,this.selector=r,this.options=i}return r(t,e),t.create=function(e,n,r,i){return a.isFunction(r)&&(i=r,r=void 0),new t(e,n,i,r)},t.setupSubscription=function(e,n,r,i,o){var a;if(function(e){return!!e&&"[object NodeList]"===c.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===c.call(e)}(e))for(var u=0,f=e.length;u<f;u++)t.setupSubscription(e[u],n,r,i,o);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var l=e;e.addEventListener(n,r,o),a=function(){return l.removeEventListener(n,r,o)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var p=e;e.on(n,r),a=function(){return p.off(n,r)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var d=e;e.addListener(n,r),a=function(){return d.removeListener(n,r)}}i.add(new s.Subscription(a))},t.prototype._subscribe=function(e){var n=this.selector;t.setupSubscription(this.sourceObj,this.eventName,n?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var i=o.tryCatch(n).apply(void 0,t);i===u.errorObject?e.error(u.errorObject.e):e.next(i)}:function(t){return e.next(t)},e,this.options)},t}(i.Observable)},function(e,t,n){"use strict";var r=n(61),i=n(100),o=n(72),a=n(99),u=n(58),s=n(122),c=n(55),f=n(70),l=n(50),p={RxSchema:r.a.RxSchema.prototype,Crypter:i.a.Crypter.prototype,RxDocument:o.a.RxDocument.prototype,RxQuery:a.a.RxQuery.prototype,RxCollection:u.a.RxCollection.prototype,RxDatabase:s.a.RxDatabase.prototype},d=new Set;t.a={addPlugin:function(e){d.has(e)||(d.add(e),e.rxdb||("object"==typeof e&&e.default&&(e=e.default),c.a.plugin(e)),e.prototypes&&Object.entries(e.prototypes).forEach(function(e){(0,e[1])(p[e[0]])}),e.overwritable&&Object.entries(e.overwritable).forEach(function(e){f.a[e[0]]=e[1]}),e.hooks&&Object.entries(e.hooks).forEach(function(e){l.a[e[0]].push(e[1])}))},overwritable:f.a}},function(e,t,n){"use strict";var r={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",P1:"PouchDB.getBatch: limit must be > 2",QU1:"RxQuery._execOverDatabase(): op not known",QU2:"limit() must get a number",QU3:"skip() must get a number",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.collection(): collection-names cannot start with underscore _",DB3:"RxDatabase.collection(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.collection(): schema is missing",DB5:"RxDatabase.collection(): collection-name not allowed",DB6:"RxDatabase.collection(): another instance created this collection with a different schema",DB7:"RxDatabase.collection(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() do not provide ._id, it will be generated",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC12:"RxDocument.save(): error",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importDump(): the imported json relies on a different schema",JD3:"RxCollection.importDump(): json.passwordHash does not match the own",LE1:"LeaderElection: this should not happen :( please contact the maintainer",LE2:"LeaderElection: someone else is applying/leader",LE3:"LeaderElection: someone else overwrote apply",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.sync() query must be from the same RxCollection",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string or array<string>",SC5:"SchemaCheck: fieldname cannot be primary and ref at same time",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC9:"SchemaCheck: schema defines ._id, this will be done automatically",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema need an number>=0 as version",SC12:"SchemaCheck: primary can only be defined once",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: compoundIndexes must be an array",SC19:"SchemaCheck: compoundIndexes must contain arrays",SC20:"SchemaCheck: compoundIndexes.array must contains strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use RxDB.plugin(require('pouchdb-adapter-memory'));",S1:"You cannot create collections after calling RxDatabase.server()"};t.a={rxdb:!0,prototypes:{},overwritable:{tunnelErrorMessage:function(e){if(!r[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Cdoe "+e+" not known, contact the maintainer");return r[e]}}}},function(e,t,n){var r=n(445),i=n(447),o=n(449),a=n(75),u=n(450),s=function(e){e=JSON.stringify(e);for(var t=/\[([^\[\]"]+)\]/;t.test(e);)e=e.replace(t,'."+$1+"');return e},c={any:function(){return"true"},null:function(e){return e+" === null"},boolean:function(e){return"typeof "+e+' === "boolean"'},array:function(e){return"Array.isArray("+e+")"},object:function(e){return"typeof "+e+' === "object" && '+e+" && !Array.isArray("+e+")"},number:function(e){return"typeof "+e+' === "number" && isFinite('+e+")"},integer:function(e){return"typeof "+e+' === "number" && (Math.floor('+e+") === "+e+" || "+e+" > 9007199254740992 || "+e+" < -9007199254740992)"},string:function(e){return"typeof "+e+' === "string"'}},f=function(e){for(var t=[],n=0;n<e.length;n++)t.push("object"==typeof e[n]?JSON.stringify(e[n]):e[n]);for(n=1;n<t.length;n++)if(t.indexOf(t[n])!==n)return!1;return!0},l=function(e,t){var n=(0|t)!==t?Math.pow(10,t.toString().split(".").pop().length):1;return!(n>1?((0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1)>n||Math.round(n*e)%(n*t):e%t)},p=function(e,t,n,d,h){var y=h?a(u,h.formats):u,v={unique:f,formats:y,isMultipleOf:l},m=!!h&&!!h.verbose,b=!(!h||void 0===h.greedy)&&h.greedy,g={},_=function(e){return e+(g[e]=(g[e]||0)+1)},w={},E=function(e){if(w[e])return w[e];var t=_("pattern");return v[t]=new RegExp(e),w[e]=t,t},O=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],T=function(){var e=O.shift();return O.push(e+e[0]),e},S=function(e,i,a,f,l){var d=i.properties,g=i.type,w=!1;Array.isArray(i.items)&&(d={},i.items.forEach(function(e,t){d[t]=e}),g="array",w=!0);var O=0,x=function(t,n,r){k("errors++"),!0===a&&(k("if (validate.errors === null) validate.errors = []"),m?k("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",s(n||e),JSON.stringify(t),r||e,JSON.stringify(g),JSON.stringify(l)):k("validate.errors.push({field:%s,message:%s})",s(n||e),JSON.stringify(t)))};!0===i.required?(O++,k("if (%s === undefined) {",e),x("is required"),k("} else {")):(O++,k("if (%s !== undefined) {",e));var j=[].concat(g).map(function(t){if(t&&!c.hasOwnProperty(t))throw new Error("Unknown type: "+t);return c[t||"any"](e)}).join(" || ")||"true";if("true"!==j&&(O++,k("if (!(%s)) {",j),x("is the wrong type"),k("} else {")),w)if(!1===i.additionalItems)k("if (%s.length > %d) {",e,i.items.length),x("has additional items"),k("}");else if(i.additionalItems){var N=T();k("for (var %s = %d; %s < %s.length; %s++) {",N,i.items.length,N,e,N),S(e+"["+N+"]",i.additionalItems,a,f,l.concat("additionalItems")),k("}")}if(i.format&&y[i.format]){"string"!==g&&u[i.format]&&k("if (%s) {",c.string(e));var I=_("format");v[I]=y[i.format],k("function"==typeof v[I]?"if (!%s(%s)) {":"if (!%s.test(%s)) {",I,e),x("must be "+i.format+" format"),k("}"),"string"!==g&&u[i.format]&&k("}")}if(Array.isArray(i.required)&&(k("if ((%s)) {","object"!==g?c.object(e):"true"),k("var missing = 0"),i.required.map(function(t){var n=r(e,t);k("if (%s === undefined) {",n),x("is required",n),k("missing++"),k("}")}),k("}"),b||(k("if (missing === 0) {"),O++)),i.uniqueItems&&("array"!==g&&k("if (%s) {",c.array(e)),k("if (!(unique(%s))) {",e),x("must be unique"),k("}"),"array"!==g&&k("}")),i.enum){var A=i.enum.some(function(e){return"object"==typeof e});k("if (%s) {",i.enum.map(A?function(t){return"JSON.stringify("+e+") !== JSON.stringify("+JSON.stringify(t)+")"}:function(t){return e+" !== "+JSON.stringify(t)}).join(" && ")||"false"),x("must be an enum value"),k("}")}if(i.dependencies&&("object"!==g&&k("if (%s) {",c.object(e)),Object.keys(i.dependencies).forEach(function(t){var n=i.dependencies[t];"string"==typeof n&&(n=[n]),Array.isArray(n)&&(k("if (%s !== undefined && !(%s)) {",r(e,t),n.map(function(t){return r(e,t)+" !== undefined"}).join(" && ")||"true"),x("dependencies not set"),k("}")),"object"==typeof n&&(k("if (%s !== undefined) {",r(e,t)),S(e,n,a,f,l.concat(["dependencies",t])),k("}"))}),"object"!==g&&k("}")),i.additionalProperties||!1===i.additionalProperties){"object"!==g&&k("if (%s) {",c.object(e)),N=T();var L=_("keys"),D=Object.keys(d||{}).map(function(e){return L+"["+N+"] !== "+JSON.stringify(e)}).concat(Object.keys(i.patternProperties||{}).map(function(e){return"!"+E(e)+".test("+L+"["+N+"])"})).join(" && ")||"true";k("var %s = Object.keys(%s)",L,e)("for (var %s = 0; %s < %s.length; %s++) {",N,N,L,N)("if (%s) {",D),!1===i.additionalProperties?(f&&k("delete %s",e+"["+L+"["+N+"]]"),x("has additional properties",null,JSON.stringify(e+".")+" + "+L+"["+N+"]")):S(e+"["+L+"["+N+"]]",i.additionalProperties,a,f,l.concat(["additionalProperties"])),k("}")("}"),"object"!==g&&k("}")}if(i.$ref){var P=function(e,t,n){var r=function(e){return e&&e.id===n?e:"object"==typeof e&&e?Object.keys(e).reduce(function(t,n){return t||r(e[n])},null):null},i=r(e);if(i)return i;n=(n=n.replace(/^#/,"")).replace(/\/$/,"");try{return o.get(e,decodeURI(n))}catch(e){var a,u=n.indexOf("#");if(0!==u)if(-1===u)a=t[n];else{a=t[n.slice(0,u)];var s=n.slice(u).replace(/^#/,"");try{return o.get(a,s)}catch(e){}}else a=t[n];return a||null}}(n,h&&h.schemas||{},i.$ref);if(P){var R=t[i.$ref];R||(t[i.$ref]=function(e){return R(e)},R=p(P,t,n,!1,h)),I=_("ref"),v[I]=R,k("if (!(%s(%s))) {",I,e),x("referenced schema does not match"),k("}")}}if(i.not){var C=_("prev");k("var %s = errors",C),S(e,i.not,!1,f,l.concat("not")),k("if (%s === errors) {",C),x("negative schema matches"),k("} else {")("errors = %s",C)("}")}if(i.items&&!w&&("array"!==g&&k("if (%s) {",c.array(e)),N=T(),k("for (var %s = 0; %s < %s.length; %s++) {",N,N,e,N),S(e+"["+N+"]",i.items,a,f,l.concat("items")),k("}"),"array"!==g&&k("}")),i.patternProperties&&("object"!==g&&k("if (%s) {",c.object(e)),L=_("keys"),N=T(),k("var %s = Object.keys(%s)",L,e)("for (var %s = 0; %s < %s.length; %s++) {",N,N,L,N),Object.keys(i.patternProperties).forEach(function(t){var n=E(t);k("if (%s.test(%s)) {",n,L+"["+N+"]"),S(e+"["+L+"["+N+"]]",i.patternProperties[t],a,f,l.concat(["patternProperties",t])),k("}")}),k("}"),"object"!==g&&k("}")),i.pattern){var M=E(i.pattern);"string"!==g&&k("if (%s) {",c.string(e)),k("if (!(%s.test(%s))) {",M,e),x("pattern mismatch"),k("}"),"string"!==g&&k("}")}if(i.allOf&&i.allOf.forEach(function(t,n){S(e,t,a,f,l.concat(["allOf",n]))}),i.anyOf&&i.anyOf.length&&(C=_("prev"),i.anyOf.forEach(function(t,n){0===n?k("var %s = errors",C):k("if (errors !== %s) {",C)("errors = %s",C),S(e,t,!1,!1,l)}),i.anyOf.forEach(function(e,t){t&&k("}")}),k("if (%s !== errors) {",C),x("no schemas match"),k("}")),i.oneOf&&i.oneOf.length){C=_("prev");var F=_("passes");k("var %s = errors",C)("var %s = 0",F),i.oneOf.forEach(function(t,n){S(e,t,!1,!1,l),k("if (%s === errors) {",C)("%s++",F)("} else {")("errors = %s",C)("}")}),k("if (%s !== 1) {",F),x("no (or more than one) schemas match"),k("}")}for(void 0!==i.multipleOf&&("number"!==g&&"integer"!==g&&k("if (%s) {",c.number(e)),k("if (!isMultipleOf(%s, %d)) {",e,i.multipleOf),x("has a remainder"),k("}"),"number"!==g&&"integer"!==g&&k("}")),void 0!==i.maxProperties&&("object"!==g&&k("if (%s) {",c.object(e)),k("if (Object.keys(%s).length > %d) {",e,i.maxProperties),x("has more properties than allowed"),k("}"),"object"!==g&&k("}")),void 0!==i.minProperties&&("object"!==g&&k("if (%s) {",c.object(e)),k("if (Object.keys(%s).length < %d) {",e,i.minProperties),x("has less properties than allowed"),k("}"),"object"!==g&&k("}")),void 0!==i.maxItems&&("array"!==g&&k("if (%s) {",c.array(e)),k("if (%s.length > %d) {",e,i.maxItems),x("has more items than allowed"),k("}"),"array"!==g&&k("}")),void 0!==i.minItems&&("array"!==g&&k("if (%s) {",c.array(e)),k("if (%s.length < %d) {",e,i.minItems),x("has less items than allowed"),k("}"),"array"!==g&&k("}")),void 0!==i.maxLength&&("string"!==g&&k("if (%s) {",c.string(e)),k("if (%s.length > %d) {",e,i.maxLength),x("has longer length than allowed"),k("}"),"string"!==g&&k("}")),void 0!==i.minLength&&("string"!==g&&k("if (%s) {",c.string(e)),k("if (%s.length < %d) {",e,i.minLength),x("has less length than allowed"),k("}"),"string"!==g&&k("}")),void 0!==i.minimum&&("number"!==g&&"integer"!==g&&k("if (%s) {",c.number(e)),k("if (%s %s %d) {",e,i.exclusiveMinimum?"<=":"<",i.minimum),x("is less than minimum"),k("}"),"number"!==g&&"integer"!==g&&k("}")),void 0!==i.maximum&&("number"!==g&&"integer"!==g&&k("if (%s) {",c.number(e)),k("if (%s %s %d) {",e,i.exclusiveMaximum?">=":">",i.maximum),x("is more than maximum"),k("}"),"number"!==g&&"integer"!==g&&k("}")),d&&Object.keys(d).forEach(function(t){Array.isArray(g)&&-1!==g.indexOf("null")&&k("if (%s !== null) {",e),S(r(e,t),d[t],a,f,l.concat(w?t:["properties",t])),Array.isArray(g)&&-1!==g.indexOf("null")&&k("}")});O--;)k("}")},k=i("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return S("data",e,d,h&&h.filter,[]),k("return errors === 0")("}"),(k=k.toFunction(v)).errors=null,Object.defineProperty&&Object.defineProperty(k,"error",{get:function(){return k.errors?k.errors.map(function(e){return e.field+" "+e.message}).join("\n"):""}}),k.toJSON=function(){return e},k};e.exports=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),p(e,{},e,!0,t)},e.exports.filter=function(t,n){var r=e.exports(t,a(n,{filter:!0}));return function(e){return r(e),e}}},function(e,t,n){var r=n(446),i=function(e,t){return r(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};i.valid=r,i.property=function(e){return r(e)?e:JSON.stringify(e)},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},function(e,t,n){var r=n(16),i=/[\{\[]/,o=/[\}\]]/;e.exports=function(){var e=[],t=0,n=function(n){for(var r="";r.length<2*t;)r+="  ";e.push(r+n)},a=function(e){return e?o.test(e.trim()[0])&&i.test(e[e.length-1])?(t--,n(r.format.apply(r,arguments)),t++,a):i.test(e[e.length-1])?(n(r.format.apply(r,arguments)),t++,a):o.test(e.trim()[0])?(t--,n(r.format.apply(r,arguments)),a):(n(r.format.apply(r,arguments)),a):a};return a.toString=function(){return e.join("\n")},a.toFunction=function(e){var t="return ("+a.toString()+")",n=Object.keys(e||{}).map(function(e){return e}),r=n.map(function(t){return e[t]});return Function.apply(null,n.concat(t)).apply(null,r)},arguments.length&&a.apply(null,arguments),a}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){var n=/~/,r=/~[01]/g;function i(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function o(e){return n.test(e)?e.replace(r,i):e}function a(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e))return e;throw new Error("Invalid JSON pointer.")}function u(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var n=(t=a(t)).length;if(1===n)return e;for(var r=1;r<n;){if(e=e[o(t[r++])],n===r)return e;if("object"!=typeof e)return}}function s(e,t,n){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=a(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,n){for(var r,i,a=1,u=t.length;a<u&&(r=o(t[a++]),i=u>a,"undefined"==typeof e[r]&&(Array.isArray(e)&&"-"===r&&(r=e.length),i&&(e[r]=""!==t[a]&&t[a]<1/0||"-"===t[a]?[]:{})),i);)e=e[r];var s=e[r];return void 0===n?delete e[r]:e[r]=n,s}(e,t,n)}t.get=u,t.set=s,t.compile=function(e){var t=a(e);return{get:function(e){return u(e,t)},set:function(e,n){return s(e,t,n)}}}},function(e,t,n){var r=n(451),i=/\s/,o=/^[a-zA-Z0-9.-]+$/,a=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,u=/^\+[0-9][0-9 ]{5,27}[0-9]$/,s=/ {2}/,c=/ /g;t["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,t.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,t.time=/^\d{2}:\d{2}:\d{2}$/,t.email=function(e){return-1!==e.indexOf("@")&&!i.test(e)},t["ip-address"]=t.ipv4=r({version:4}),t.ipv6=r({version:6}),t.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,t.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,t.hostname=function(e){if(!o.test(e))return!1;for(var t=e.split("."),n=0;n<t.length;n++)if(!a.test(t[n]))return!1;return!0},t.alpha=/^[a-zA-Z]+$/,t.alphanumeric=/^[a-zA-Z0-9]+$/,t.style=/\s*(.+?):\s*([^;]+);?/g,t.phone=function(e){if(!u.test(e))return!1;if(s.test(e))return!1;var t=e.substring(1).replace(c,"").length;return t>=7&&t<=15},t["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},function(e,t){var n=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r=/\/\d{1,3}(?=%|$)/,i=/\//,o=/%.*$/,a=/([^0-9a-f:/%])/i,u=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function s(e){if(!n.test(e))return!1;var t=e.split(".");if(4!==t.length)return!1;if("0"===t[0][0]&&t[0].length>1)return!1;if("0"===t[1][0]&&t[1].length>1)return!1;if("0"===t[2][0]&&t[2].length>1)return!1;if("0"===t[3][0]&&t[3].length>1)return!1;var r=Number(t[0]),i=Number(t[1]),o=Number(t[2]),a=Number(t[3]);return r>=0&&r<256&&i>=0&&i<256&&o>=0&&o<256&&a>=0&&a<256}function c(e){var t=e.replace(r,""),n=e.length!==t.length;if(n)return!1;if(!n&&i.test(e))return!1;var c=t.replace(o,""),f=c.lastIndexOf(":");if(-1===f)return!1;var l=s(c.substring(f+1))?c.substring(0,f+1)+"1234:5678":c;if(a.test(l))return!1;if(u.test(l))return!1;var p=l.split("::");if(p.length>2)return!1;if(2===p.length){var d=""===p[0]?[]:p[0].split(":"),h=""===p[1]?[]:p[1].split(":");if(8-(d.length+h.length)<=0)return!1}else if(8!==l.split(":").length)return!1;return!0}function f(e){return s(e)||c(e)}e.exports=function(e){if(e||(e={}),4===e.version)return s;if(6===e.version)return c;if(null==e.version)return f;throw new Error("Unknown version: "+e.version)},e.exports.__all_regexes__=[n,r,i,o,a,u]},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(19),a=n.n(o),u=n(4),s=function(){function e(t){i()(this,e),this.schema=t}return e.prototype._compressObj=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={};return"object"!=typeof e||null===e?e:Array.isArray(e)?e.map(function(e){return t._compressObj(e,u.p(n+".item"))}):(Object.keys(e).forEach(function(i){var o,a=e[i],s=u.p(n+"."+i),c=t.table[s]?t.table[s]:i;o=t._compressObj(a,s),r[c]=o}),r)},e.prototype.compress=function(e){return this.schema.doKeyCompression()?this._compressObj(e):u.b(e)},e.prototype._decompressObj=function(e){var t=this,n=this.reverseTable;if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(function(e){return t._decompressObj(e)});var r={};return Object.keys(e).forEach(function(i){var o=i;(i.startsWith("|")||i.startsWith("_"))&&n[i]&&(o=n[i]),r[o]=t._decompressObj(e[i])}),r},e.prototype.decompress=function(e){return this.schema.doKeyCompression()?this._decompressObj(e):u.b(e)},e.prototype._transformKey=function(e,t,n){var r=this.table;e=u.p(e),t=u.p(t);var i=n.shift(),o=u.p(e+"."+i);return t+=r[o]?"."+r[o]:"."+i,n.length>0?this._transformKey(o,t,n):u.p(t)},e.prototype.compressQuery=function(e){var t=this;if(e=u.b(e),!this.schema.doKeyCompression())return e;var n={};return Object.keys(e.selector).forEach(function(r){var i=e.selector[r];if(r.startsWith("$")){var o=i.map(function(e){var n={};return Object.keys(e).forEach(function(r){var i=t._transformKey("","",r.split("."));n[i]=e[r]}),n});n[r]=o}else{var a=t._transformKey("","",r.split("."));n[a]=i}}),e.selector=n,e.sort&&(e.sort=e.sort.map(function(e){var n=Object.keys(e)[0],r=e[n],i={};return i[t._transformKey("","",n.split("."))]=r,i})),e},a()(e,[{key:"table",get:function(){var e=this;if(!this._table){var t=0;this._table={},function n(r,i){Object.keys(i).map(function(o){var a=i[o],s="properties"===o?r:u.p(r+"."+o);"object"==typeof a&&!Array.isArray(a)&&!e._table[s]&&""!==s&&o.length>3&&!s.startsWith("_")&&(e._table[s]="|"+u.h(++t-1)),!0===a.primary&&(e._table[s]="_id"),"object"!=typeof a||Array.isArray(a)||n(s,a)})}("",this.schema.normalized)}return this._table}},{key:"reverseTable",get:function(){var e=this;if(!this._reverseTable){var t=this.table;this._reverseTable={},Object.keys(t).forEach(function(n){var r=t[n],i=n.split(".").pop();e._reverseTable[r]=i})}return this._reverseTable}}]),e}();t.a={rxdb:!0,prototypes:{},overwritable:{createKeyCompressor:function(e){return new s(e)}}}},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(2),s=n.n(u),c=n(454),f=n.n(c),l=n(4),p=n(240),d=n(5),h=n(97),y=(n.n(h),n(44)),v=(n.n(y),n(457)),m=(n.n(v),function(){function e(t){s()(this,e),this.destroyed=!1,this.subs=[],this.unloads=[],this.database=t,this.token=this.database.token,this.isLeader=!1,this.becomeLeader$=new h.BehaviorSubject({isLeader:!1}),this.isDead=!1,this.isApplying=!1,this.isWaiting=!1,this.bc=p.a.create(this.database,"leader"),this.electionChannel=this.bc?"broadcast":"socket"}return e.prototype.createLeaderObject=function(){return{_id:"_local/leader",is:"",apply:"",t:0}},e.prototype.getLeaderObject=(g=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,this.database._adminPouch.get("_local/leader");case 4:t=e.sent,e.next=14;break;case 7:return e.prev=7,e.t0=e.catch(1),t=this.createLeaderObject(),e.next=12,this.database._adminPouch.put(t);case 12:t._rev=e.sent.rev;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this,[[1,7]])})),function(){return g.apply(this,arguments)}),e.prototype.setLeaderObject=function(e){return this.database._adminPouch.put(e)},e.prototype.getApplyFunction=function(e){if("socket"===e)return this.applySocket.bind(this);if("broadcast"===e)return this.applyBroadcast.bind(this);throw d.a.newRxError("LE1")},e.prototype.applyOnce=(b=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isDead){e.next=4;break}return e.abrupt("return",!1);case 4:if(!this.isApplying){e.next=6;break}return e.abrupt("return",!1);case 6:if(!this.destroyed){e.next=8;break}return e.abrupt("return",!1);case 8:return this.isApplying=!0,e.next=11,this.getApplyFunction(this.electionChannel)();case 11:if(!e.sent){e.next=15;break}return e.next=15,this.beLeader();case 15:return this.isApplying=!1,e.abrupt("return",!0);case 17:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)}),e.prototype.applySocket=(m=a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getLeaderObject();case 3:if(t=e.sent,n=(new Date).getTime()-1e3,!(t.t>=n)){e.next=7;break}throw d.a.newRxError("LE2");case 7:return t.apply=this.token,t.t=(new Date).getTime(),e.next=11,this.setLeaderObject(t);case 11:return e.next=13,l.j(250);case 13:return e.next=15,this.getLeaderObject();case 15:if((t=e.sent).apply===this.token){e.next=18;break}throw d.a.newRxError("LE3");case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,this,[[0,21]])})),function(){return m.apply(this,arguments)}),e.prototype.applyBroadcast=(c=a()(i.a.mark(function e(){var t,n,r,o,u,s=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),n=[],r=[],o=function(){var e=a()(i.a.mark(function e(){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.push(s.bc.$.pipe(Object(y.filter)(function(){return!!s.isApplying}),Object(y.filter)(function(e){return e.t>=t}),Object(y.filter)(function(e){return"apply"===e.type}),Object(y.filter)(function(e){return e.data<t||e.data===t&&e.it>s.token}),Object(y.filter)(function(){return r.length<1})).subscribe(function(e){return r.push("other is applying:"+e.it)})),n.push(s.bc.$.pipe(Object(y.filter)(function(){return!!s.isApplying}),Object(y.filter)(function(e){return e.t>=t}),Object(y.filter)(function(e){return"tell"===e.type}),Object(y.filter)(function(){return r.length<1})).subscribe(function(e){return r.push("other is leader"+e.it)})),n.push(s.bc.$.pipe(Object(y.filter)(function(){return!!s.isApplying}),Object(y.filter)(function(e){return"apply"===e.type}),Object(y.filter)(function(e){return e.data>t||e.data===t&&e.it>s.token})).subscribe(function(){return s.bc.write("apply",t)})),o=3;case 4:if(!(o>0)){e.next=14;break}return o--,e.next=8,s.bc.write("apply",t);case 8:return e.next=10,l.j(300);case 10:if(!(r.length>0)){e.next=12;break}return e.abrupt("return",!1);case 12:e.next=4;break;case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}},e,s)}));return function(){return e.apply(this,arguments)}}(),e.next=6,o();case 6:return u=e.sent,n.map(function(e){return e.unsubscribe()}),e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)}),e.prototype.leaderSignal=(u=a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(!this.leaderSignal_run){e.next=4;break}return e.abrupt("return");case 4:this.leaderSignal_run=!0,e.t0=this.electionChannel,e.next="broadcast"===e.t0?8:"socket"===e.t0?11:31;break;case 8:return e.next=10,this.bc.write("tell");case 10:return e.abrupt("break",31);case 11:t=!1;case 12:if(t){e.next=30;break}return e.prev=13,e.next=16,this.getLeaderObject();case 16:return(n=e.sent).is=this.token,n.apply=this.token,n.t=(new Date).getTime(),e.next=22,this.setLeaderObject(n);case 22:t=!0,e.next=28;break;case 25:e.prev=25,e.t1=e.catch(13),console.dir(e.t1);case 28:e.next=12;break;case 30:return e.abrupt("break",31);case 31:return this.leaderSignal_run=!1,e.abrupt("return");case 33:case"end":return e.stop()}},e,this,[[13,25]])})),function(){return u.apply(this,arguments)}),e.prototype.beLeader=(o=a()(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDead){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isLeader){e.next=4;break}return e.abrupt("return",!1);case 4:return this.isLeader=!0,this.becomeLeader$.next({isLeader:!0}),e.next=8,this.leaderSignal();case 8:e.t0=this.electionChannel,e.next="broadcast"===e.t0?11:"socket"===e.t0?14:16;break;case 11:return this.signalLeadership=this.bc.$.pipe(Object(y.filter)(function(){return!!t.isLeader}),Object(y.filter)(function(e){return"tell"!==e.type})).subscribe(function(){return t.leaderSignal()}),this.subs.push(this.signalLeadership),e.abrupt("break",16);case 14:return a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.destroyed){e.next=9;break}return e.next=3,l.j(500);case 3:if(t.isLeader){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t.leaderSignal();case 7:e.next=0;break;case 9:case"end":return e.stop()}},e,t)}))(),e.abrupt("break",16);case 16:return this.unloads.push(f.a.add(function(){t.bc&&t.bc.write("death"),t.die()})),e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),e.prototype.die=(r=a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLeader){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.isDead){e.next=4;break}return e.abrupt("return",!1);case 4:this.isDead=!0,this.isLeader=!1,this.signalLeadership&&this.signalLeadership.unsubscribe(),e.t0=this.electionChannel,e.next="broadcast"===e.t0?10:"socket"===e.t0?13:30;break;case 10:return e.next=12,this.bc.write("death");case 12:return e.abrupt("break",30);case 13:t=!1;case 14:if(t){e.next=29;break}return e.prev=15,e.next=18,this.getLeaderObject();case 18:return(n=e.sent).t=0,e.next=22,this.setLeaderObject(n);case 22:t=!0,e.next=27;break;case 25:e.prev=25,e.t1=e.catch(15);case 27:e.next=14;break;case 29:return e.abrupt("break",30);case 30:return e.abrupt("return",!0);case 31:case"end":return e.stop()}},e,this,[[15,25]])})),function(){return r.apply(this,arguments)}),e.prototype.waitForLeadership=(n=a()(i.a.mark(function e(){var t,n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLeader){e.next=2;break}return e.abrupt("return",Promise.resolve(!0));case 2:if(this.isWaiting){e.next=14;break}this.isWaiting=!0,this.applyOnce(),t=2500,e.t0=this.electionChannel,e.next="broadcast"===e.t0?9:"socket"===e.t0?11:13;break;case 9:return this.subs.push(this.bc.$.pipe(Object(y.filter)(function(e){return"death"===e.type})).subscribe(function(){return n.applyOnce()})),e.abrupt("break",13);case 11:return t=1e3,e.abrupt("break",13);case 13:a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.destroyed||n.isLeader){e.next=16;break}return e.next=3,l.j(t);case 3:e.t0=n.electionChannel,e.next="broadcast"===e.t0?6:"socket"===e.t0?9:12;break;case 6:return e.next=8,l.m(t);case 8:return e.abrupt("break",12);case 9:return e.next=11,n.database.requestIdlePromise(t);case 11:return e.abrupt("break",12);case 12:return e.next=14,n.applyOnce();case 14:e.next=0;break;case 16:case"end":return e.stop()}},e,n)}))();case 14:return e.abrupt("return",this.becomeLeader$.asObservable().pipe(Object(y.filter)(function(e){return!0===e.isLeader}),Object(v.first)()).toPromise());case 15:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),e.prototype.destroy=(t=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroyed=!0,this.subs.map(function(e){return e.unsubscribe()}),this.unloads.map(function(e){return e()}),e.next=5,this.die();case 5:this.bc&&this.bc.destroy();case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),e;var t,n,r,o,u,c,m,b,g}());t.a={rxdb:!0,prototypes:{},overwritable:{createLeaderElector:function(e){return new m(e)}}}},function(e,t,n){e.exports=function(e){var t={},n=!1,r=!1,i=0,o={};return t.debug=function(){r=!0},t.add=function(t){i++;var a=function(e,r,i){if(!n)return n=!0,t(e,r,i)},u={};Object.keys(e).forEach(function(t){u[t]=e[t].add(a)});var s=function(){Object.keys(u).forEach(function(t){e[t].remove(a,u[t])}),r&&console.log("unload.stopListening()"),r&&console.dir(o[i])};return s.run=function(){a()},o[i]={fn:t,remove:s,listeners:u},r&&console.log("unload.add()"),r&&console.dir(o[i]),s},t.runAll=function(){n||(n=!0,Object.keys(o).forEach(function(e){o[e].fn()}))},t.removeAll=function(){Object.keys(o).forEach(function(e){o[e].remove()})},t}({node:n(455),browser:n(456)})},function(e,t,n){(function(t){e.exports={add:function(e){var n={};return"object"==typeof t&&t.on&&"function"==typeof t.on&&(n.beforeExit=function(n){var r=e(n);Promise.resolve(r).then(function(){t.exit()})},t.on("beforeExit",n.beforeExit),n.exit=function(t){var n=e(t);Promise.resolve(n)},t.on("exit",n.exit),n.SIGINT=function(n){var r=e(n);Promise.resolve(r).then(function(){t.exit()})},t.on("SIGINT",n.SIGINT),n.uncaughtException=function(n){var r=e(n);Promise.resolve(r).then(function(){t.exit()})},t.on("uncaughtException",n.uncaughtException)),n},remove:function(e,n){Object.keys(n).forEach(function(e){var r=n[e];switch(e){case"beforeExit":case"SIGINT":case"uncaughtException":case"exit":t.removeListener(e,r)}})}}}).call(t,n(6))},function(e,t){e.exports={add:function(e){var t={};return"object"==typeof window&&window.addEventListener&&"function"==typeof window.addEventListener&&(window.addEventListener("beforeunload",e,!1),t.beforeunload=e),t},remove:function(e,t){Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"beforeunload":window.removeEventListener("beforeunload",n,!1)}})}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(31),o=n(458);t.first=function(e,t,n){return function(r){return r.lift(new a(e,t,n,r))}};var a=function(){function e(e,t,n,r){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),u=function(e){function t(t,n,r,i,o){e.call(this,t),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return r(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}n&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(n)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||e.error(new o.EmptyError):(e.next(this.defaultValue),e.complete())},t}(i.Subscriber)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.EmptyError=i},function(e,t,n){"use strict";var r=n(460),i=(n.n(r),n(467)),o=(n.n(i),n(5)),a=function(e){return function(e,t){return r.encrypt(e,t).toString()}(JSON.stringify(e),this._password)},u=function(e){var t=r.decrypt(e,this._password).toString(i);return JSON.parse(t)};t.a={rxdb:!0,prototypes:{Crypter:function(e){e._encryptValue=a,e._decryptValue=u}},overwritable:{validatePassword:function(e){if(e&&"string"!=typeof e)throw o.a.newRxTypeError("EN1",{password:e});if(e&&e.length<8)throw o.a.newRxError("EN2",{minPassLength:8,password:e})}}}},function(e,t,n){var r;e.exports=(r=n(46),n(461),n(462),n(463),n(466),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],a=[],u=[],s=[],c=[],f=[],l=[],p=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var h=r^r<<1^r<<2^r<<3^r<<4;i[n]=h=h>>>8^255&h^99,o[h]=n;var y,v=e[n],m=e[v],b=e[m];a[n]=(y=257*e[h]^16843008*h)<<24|y>>>8,u[n]=y<<16|y>>>16,s[n]=y<<8|y>>>24,c[n]=y,f[h]=(y=16843009*b^65537*m^257*v^16843008*n)<<24|y>>>8,l[h]=y<<16|y>>>16,p[h]=y<<8|y>>>24,d[h]=y,n?(n=v^e[e[e[b^v]]],r^=e[e[r]]):n=r=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],y=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)if(a<n)o[a]=t[a];else{var u=o[a-1];a%n?n>6&&a%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=h[a/n|0]<<24),o[a]=o[a-n]^u}for(var s=this._invKeySchedule=[],c=0;c<r;c++)a=r-c,u=c%4?o[a]:o[a-4],s[c]=c<4||a<=4?u:f[i[u>>>24]]^l[i[u>>>16&255]]^p[i[u>>>8&255]]^d[i[255&u]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,u,s,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,f,l,p,d,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,u){for(var s=this._nRounds,c=e[t]^n[0],f=e[t+1]^n[1],l=e[t+2]^n[2],p=e[t+3]^n[3],d=4,h=1;h<s;h++){var y=r[c>>>24]^i[f>>>16&255]^o[l>>>8&255]^a[255&p]^n[d++],v=r[f>>>24]^i[l>>>16&255]^o[p>>>8&255]^a[255&c]^n[d++],m=r[l>>>24]^i[p>>>16&255]^o[c>>>8&255]^a[255&f]^n[d++],b=r[p>>>24]^i[c>>>16&255]^o[f>>>8&255]^a[255&l]^n[d++];c=y,f=v,l=m,p=b}y=(u[c>>>24]<<24|u[f>>>16&255]<<16|u[l>>>8&255]<<8|u[255&p])^n[d++],v=(u[f>>>24]<<24|u[l>>>16&255]<<16|u[p>>>8&255]<<8|u[255&c])^n[d++],m=(u[l>>>24]<<24|u[p>>>16&255]<<16|u[c>>>8&255]<<8|u[255&f])^n[d++],b=(u[p>>>24]<<24|u[c>>>16&255]<<16|u[f>>>8&255]<<8|u[255&l])^n[d++],e[t]=y,e[t+1]=v,e[t+2]=m,e[t+3]=b},keySize:8});e.AES=t._createHelper(y)}(),r.AES)},function(e,t,n){var r,i;e.exports=(r=n(46),i=r.lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,u=0;u<4&&o+.75*u<n;u++)i.push(r.charAt(a>>>6*(3-u)&63));var s=r.charAt(64);if(s)for(;i.length%4;)i.push(s);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var u=e.indexOf(a);-1!==u&&(t=u)}return function(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var u=n[e.charCodeAt(a-1)]<<a%4*2,s=n[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(u|s)<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},function(e,t,n){var r;e.exports=(r=n(46),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,u=[];!function(){for(var t=0;t<64;t++)u[t]=4294967296*e.abs(e.sin(t+1))|0}();var s=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],s=e[t+1],d=e[t+2],h=e[t+3],y=e[t+4],v=e[t+5],m=e[t+6],b=e[t+7],g=e[t+8],_=e[t+9],w=e[t+10],E=e[t+11],O=e[t+12],T=e[t+13],S=e[t+14],k=e[t+15],x=o[0],j=o[1],N=o[2],I=o[3];j=p(j=p(j=p(j=p(j=l(j=l(j=l(j=l(j=f(j=f(j=f(j=f(j=c(j=c(j=c(j=c(j,N=c(N,I=c(I,x=c(x,j,N,I,a,7,u[0]),j,N,s,12,u[1]),x,j,d,17,u[2]),I,x,h,22,u[3]),N=c(N,I=c(I,x=c(x,j,N,I,y,7,u[4]),j,N,v,12,u[5]),x,j,m,17,u[6]),I,x,b,22,u[7]),N=c(N,I=c(I,x=c(x,j,N,I,g,7,u[8]),j,N,_,12,u[9]),x,j,w,17,u[10]),I,x,E,22,u[11]),N=c(N,I=c(I,x=c(x,j,N,I,O,7,u[12]),j,N,T,12,u[13]),x,j,S,17,u[14]),I,x,k,22,u[15]),N=f(N,I=f(I,x=f(x,j,N,I,s,5,u[16]),j,N,m,9,u[17]),x,j,E,14,u[18]),I,x,a,20,u[19]),N=f(N,I=f(I,x=f(x,j,N,I,v,5,u[20]),j,N,w,9,u[21]),x,j,k,14,u[22]),I,x,y,20,u[23]),N=f(N,I=f(I,x=f(x,j,N,I,_,5,u[24]),j,N,S,9,u[25]),x,j,h,14,u[26]),I,x,g,20,u[27]),N=f(N,I=f(I,x=f(x,j,N,I,T,5,u[28]),j,N,d,9,u[29]),x,j,b,14,u[30]),I,x,O,20,u[31]),N=l(N,I=l(I,x=l(x,j,N,I,v,4,u[32]),j,N,g,11,u[33]),x,j,E,16,u[34]),I,x,S,23,u[35]),N=l(N,I=l(I,x=l(x,j,N,I,s,4,u[36]),j,N,y,11,u[37]),x,j,b,16,u[38]),I,x,w,23,u[39]),N=l(N,I=l(I,x=l(x,j,N,I,T,4,u[40]),j,N,a,11,u[41]),x,j,h,16,u[42]),I,x,m,23,u[43]),N=l(N,I=l(I,x=l(x,j,N,I,_,4,u[44]),j,N,O,11,u[45]),x,j,k,16,u[46]),I,x,d,23,u[47]),N=p(N,I=p(I,x=p(x,j,N,I,a,6,u[48]),j,N,b,10,u[49]),x,j,S,15,u[50]),I,x,v,21,u[51]),N=p(N,I=p(I,x=p(x,j,N,I,O,6,u[52]),j,N,h,10,u[53]),x,j,w,15,u[54]),I,x,s,21,u[55]),N=p(N,I=p(I,x=p(x,j,N,I,g,6,u[56]),j,N,k,10,u[57]),x,j,m,15,u[58]),I,x,T,21,u[59]),N=p(N,I=p(I,x=p(x,j,N,I,y,6,u[60]),j,N,E,10,u[61]),x,j,d,15,u[62]),I,x,_,21,u[63]),o[0]=o[0]+x|0,o[1]=o[1]+j|0,o[2]=o[2]+N|0,o[3]=o[3]+I|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var u=this._hash,s=u.words,c=0;c<4;c++){var f=s[c];s[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return u},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,o,a){var u=e+(t&n|~t&r)+i+a;return(u<<o|u>>>32-o)+t}function f(e,t,n,r,i,o,a){var u=e+(t&r|n&~r)+i+a;return(u<<o|u>>>32-o)+t}function l(e,t,n,r,i,o,a){var u=e+(t^n^r)+i+a;return(u<<o|u>>>32-o)+t}function p(e,t,n,r,i,o,a){var u=e+(n^(t|~r))+i+a;return(u<<o|u>>>32-o)+t}t.MD5=o._createHelper(s),t.HmacMD5=o._createHmacHelper(s)}(Math),r.MD5)},function(e,t,n){var r,i,o,a,u,s,c;e.exports=(r=n(46),n(464),n(465),u=(o=(i=r).lib).WordArray,c=(s=i.algo).EvpKDF=(a=o.Base).extend({cfg:a.extend({keySize:4,hasher:s.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),i=u.create(),o=i.words,a=n.keySize,s=n.iterations;o.length<a;){c&&r.update(c);var c=r.update(e).finalize(t);r.reset();for(var f=1;f<s;f++)c=r.finalize(c),r.reset();i.concat(c)}return i.sigBytes=4*a,i}}),i.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)},r.EvpKDF)},function(e,t,n){var r,i,o,a,u,s,c;e.exports=(r=n(46),a=(o=(i=r).lib).WordArray,s=[],c=i.algo.SHA1=(u=o.Hasher).extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],c=0;c<80;c++){if(c<16)s[c]=0|e[t+c];else{var f=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=f<<1|f>>>31}var l=(r<<5|r>>>27)+u+s[c];l+=c<20?1518500249+(i&o|~i&a):c<40?1859775393+(i^o^a):c<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}}),i.SHA1=u._createHelper(c),i.HmacSHA1=u._createHmacHelper(c),r.SHA1)},function(e,t,n){var r,i;e.exports=(r=n(46),i=r.enc.Utf8,void(r.algo.HMAC=r.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),u=o.words,s=a.words,c=0;c<n;c++)u[c]^=1549556828,s[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},function(e,t,n){var r;e.exports=void((r=n(46)).lib.Cipher||function(e){var t=r,n=t.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,u=t.enc.Base64,s=t.algo.EvpKDF,c=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:v}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),f=(n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),l=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=f.CBC=function(){var t=l.extend();function n(t,n,r){var i=this._iv;if(i){var o=i;this._iv=e}else o=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),t}(),d=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],u=0;u<r;u+=4)a.push(i);var s=o.create(a,r);e.concat(s)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},h=(n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:p,padding:d}),reset:function(){c.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode=r.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),y=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(t);else r=t;return r.toString(u)},parse:function(e){var t=u.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return h.create({ciphertext:t,salt:r})}},v=n.SerializableCipher=i.extend({cfg:i.extend({format:y}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return h.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),m=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=o.random(8));var i=s.create({keySize:t+n}).compute(e,r),a=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,h.create({key:i,iv:a,salt:r})}},b=n.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:m}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=v.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,v.decrypt.call(this,e,t,i.key,r)}})}())},function(e,t,n){e.exports=n(46).enc.Utf8},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(469),s=n.n(u),c=n(73),f=n.n(c);function l(e){var t=this,n=s()(this._data,e);return Object.keys(this._data).forEach(function(e){n[e]?f()(t._data[e],n[e])||(t._data[e]=n[e]):delete t._data[e]}),delete n._rev,delete n._id,Object.keys(n).filter(function(e){return!f()(t._data[e],n[e])}).forEach(function(e){return t._data[e]=n[e]}),this.save()}var p,d=(p=a()(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.exec();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if(!Array.isArray(n)){e.next=10;break}return e.next=8,Promise.all(n.map(function(e){return e.update(t)}));case 8:e.next=12;break;case 10:return e.next=12,n.update(t);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)});t.a={rxdb:!0,prototypes:{RxDocument:function(e){e.update=l},RxQuery:function(e){e.update=d}}}},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(n(229)),o=r(n(73)),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){Object.keys(e).forEach(function(n){t(e[n],n)})},c=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},f=s,l=function(e){return Array.isArray(e)&&!c(e)},p=function(e){return!(!e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||l(e)||null===e||e instanceof RegExp||"function"==typeof e||e instanceof Date||c(e))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&t.field&&(e+=" for field '"+t.field+"'");var n=new Error(e);return n.name="ModifyJsError",n},h=s,y=function(e,t,n){n=n||{};for(var r,i=!1,o=0;o<t.length;o++){var u=o===t.length-1,s=t[o];if(!l(r=e)&&!p(r)){if(n.noCreate)return;var c=d("cannot use the part '"+s+"' to traverse "+e);throw c.setPropertyError=!0,c}if(e instanceof Array){if(n.forbidArray)return null;if("$"===s){if(i)throw d("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw d("The positional operator did not find the match needed from the query");s=n.arrayIndices[0],i=!0}else{if(!/^[0-9]+$/.test(s)){if(n.noCreate)return;throw d("can't append to array using string field name ["+s+"]")}s=parseInt(s)}if(u&&(t[o]=s),n.noCreate&&s>=e.length)return;for(;e.length<s;)e.push(null);if(!u)if(e.length===s)e.push({});else if("object"!==a(e[s]))throw d("can't modify field '"+t[o+1]+"' of list value "+JSON.stringify(e[s]))}else if(!(s in e)){if(n.noCreate)return;u||(e[s]={})}if(u)return e;e=e[s]}},v={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},m={$currentDate:function(e,t,n){if("object"===("undefined"==typeof n?"undefined":a(n))&&n.hasOwnProperty("$type")){if("date"!==n.$type)throw d("Minimongo does currently only support the date type in $currentDate modifiers",{field:t})}else if(!0!==n)throw d("Invalid $currentDate modifier",{field:t});e[t]=new Date},$min:function(e,t,n){if("number"!=typeof n)throw d("Modifier $min allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw d("Cannot apply $min modifier to non-number",{field:t});e[t]>n&&(e[t]=n)}else e[t]=n},$max:function(e,t,n){if("number"!=typeof n)throw d("Modifier $max allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw d("Cannot apply $max modifier to non-number",{field:t});e[t]<n&&(e[t]=n)}else e[t]=n},$inc:function(e,t,n){if("number"!=typeof n)throw d("Modifier $inc allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw d("Cannot apply $inc modifier to non-number",{field:t});e[t]+=n}else e[t]=n},$set:function(e,t,n){var r,i;if("object"!==("undefined"==typeof(i=e)?"undefined":a(i))||null===i)throw(r=d("Cannot set property on non-object field",{field:t})).setPropertyError=!0,r;if(null===e)throw(r=d("Cannot set property on null",{field:t})).setPropertyError=!0,r;e[t]=n},$setOnInsert:function(e,t,n){},$unset:function(e,t,n){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(e,t,n){if(void 0===e[t]&&(e[t]=[]),!(e[t]instanceof Array))throw d("Cannot apply $push modifier to non-array",{field:t});if(n&&n.$each){var r=n.$each;if(!(r instanceof Array))throw d("$each must be an array",{field:t});var i=void 0;if("$position"in n){if("number"!=typeof n.$position)throw d("$position must be a numeric value",{field:t});if(n.$position<0)throw d("$position in $push must be zero or positive",{field:t});i=n.$position}var o=void 0;if("$slice"in n){if("number"!=typeof n.$slice)throw d("$slice must be a numeric value",{field:t});if(n.$slice>0)throw d("$slice in $push must be zero or negative",{field:t});o=n.$slice}if(n.$sort)throw d("$sort in $push not implemented yet");if(void 0===i)for(var a=0;a<r.length;a++)e[t].push(r[a]);else{var u=[i,0];for(a=0;a<r.length;a++)u.push(r[a]);Array.prototype.splice.apply(e[t],u)}void 0!==o&&(e[t]=0===o?[]:e[t].slice(o))}else e[t].push(n)},$pushAll:function(e,t,n){if(!("object"===("undefined"==typeof n?"undefined":a(n))&&n instanceof Array))throw d("Modifier $pushAll/pullAll allowed for arrays only");var r=e[t];if(void 0===r)e[t]=n;else{if(!(r instanceof Array))throw d("Cannot apply $pushAll modifier to non-array",{field:t});for(var i=0;i<n.length;i++)r.push(n[i])}},$addToSet:function(e,t,n){var r=!1;"object"===("undefined"==typeof n?"undefined":a(n))&&"$each"===Object.keys(n)[0]&&(r=!0);var i=r?n.$each:[n],u=e[t];if(void 0===u)e[t]=i;else{if(!(u instanceof Array))throw d("Cannot apply $addToSet modifier to non-array",{field:t});h(i,function(e){for(var t=0;t<u.length;t++)if(o(e,u[t]))return;u.push(e)})}},$pop:function(e,t,n){if(void 0!==e){var r=e[t];if(void 0!==r){if(!(r instanceof Array))throw d("Cannot apply $pop modifier to non-array",{field:t});"number"==typeof n&&n<0?r.splice(0,1):r.pop()}}},$pull:function(e,t,n){if(void 0!==e){var r=e[t];if(void 0!==r)throw r instanceof Array?d("$pull not implemented yet"):d("Cannot apply $pull/pullAll modifier to non-array",{field:t})}},$pullAll:function(e,t,n){if(!("object"===("undefined"==typeof n?"undefined":a(n))&&n instanceof Array))throw d("Modifier $pushAll/pullAll allowed for arrays only",{field:t});if(void 0!==e){var r=e[t];if(void 0!==r){if(!(r instanceof Array))throw d("Cannot apply $pull/pullAll modifier to non-array",{field:t});for(var i=[],u=0;u<r.length;u++){for(var s=!1,c=0;c<n.length;c++)if(o(r[u],n[c])){s=!0;break}s||i.push(r[u])}e[t]=i}}},$rename:function(e,t,n,r,i){if(r===n)throw d("$rename source must differ from target",{field:t});if(null===e)throw d("$rename source field invalid",{field:t});if("string"!=typeof n)throw d("$rename target must be a string",{field:t});if(n.indexOf("\0")>-1)throw d("The 'to' field for $rename cannot contain an embedded null byte",{field:t});if(void 0!==e){var o=e[t];delete e[t];var a=n.split("."),u=y(i,a,{forbidArray:!0});if(null===u)throw d("$rename target field invalid",{field:t});u[a.pop()]=o}},$bit:function(e,t,n){throw d("$bit is not supported",{field:t})}};e.exports=function(e,t,n){if(!n||!n.each)return function(e,t,n){if(n=n||{},!p(t))throw d("Modifier must be an object");var r;if(function(e,t){if(!p(e))return!1;var n=void 0;return f(e,function(t,r){var i="$"===r.substr(0,1);if(void 0===n)n=i;else if(n!==i)throw new Error("Inconsistent operator: "+JSON.stringify(e))}),!!n}(t=i(t))?(r=i(e),h(t,function(e,t){var i=m[t];if(!i)throw d("Invalid modifier specified "+t);h(e,function(e,o){if(""===o)throw d("An empty update path is not valid.");var a=o.split(".");if(!a.every(function(e){return e}))throw d("The update path '"+o+"' contains an empty field name, which is not allowed.");var u=y(r,a,{noCreate:v[t],forbidArray:"$rename"===t,arrayIndices:n.arrayIndices}),s=a.pop();i(u,s,e,o,r)})})):r=t,n.returnInsteadOfReplacing)return r;h(Object.keys(e),function(t){"_id"!==t&&delete e[t]}),h(r,function(t,n){e[n]=t})}(e,t,u({},n,{returnInsteadOfReplacing:!0}))}},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(2),s=n.n(u),c=n(471),f=n(74),l=(n.n(f),n(97)),p=(n.n(l),n(241)),d=(n.n(p),n(44)),h=(n.n(d),n(98)),y=(n.n(h),n(474)),v=(n.n(y),n(4)),m=n(208),b=n(58),g=n(45),_=n(5);m.a.plugin(c.a);var w=function(){function e(t){var n=this;s()(this,e),this._subs=[],this.collection=t,this._pouchEventEmitterObject=null,this._subjects={change:new f.Subject,docs:new f.Subject,active:new l.BehaviorSubject(!1),complete:new l.BehaviorSubject(!1),error:new f.Subject},Object.keys(this._subjects).forEach(function(e){Object.defineProperty(n,e+"$",{get:function(){return this._subjects[e].asObservable()}})})}return e.prototype.setPouchEventEmitter=function(e){var t=this;if(this._pouchEventEmitterObject)throw _.a.newRxError("RC1");this._pouchEventEmitterObject=e,this._subs.push(Object(p.fromEvent)(e,"change").subscribe(function(e){return t._subjects.change.next(e)})),this._subs.push(Object(p.fromEvent)(e,"change").subscribe(function(e){0!==t._subjects.docs.observers.length&&"pull"===e.direction&&e.change.docs.filter(function(e){return"query"!==e.language}).map(function(e){return t.collection._handleFromPouch(e)}).forEach(function(e){return t._subjects.docs.next(e)})})),this._subs.push(Object(p.fromEvent)(e,"error").subscribe(function(e){return t._subjects.error.next(e)})),this._subs.push(Object(p.fromEvent)(e,"active").subscribe(function(){return t._subjects.active.next(!0)})),this._subs.push(Object(p.fromEvent)(e,"paused").subscribe(function(){return t._subjects.active.next(!1)})),this._subs.push(Object(p.fromEvent)(e,"complete").subscribe(function(e){return t._subjects.complete.next(e)}))},e.prototype.cancel=(t=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._pouchEventEmitterObject&&this._pouchEventEmitterObject.cancel(),this._subs.forEach(function(e){return e.unsubscribe()});case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),e;var t}();function E(){var e=this;if(!this.synced){var t={},n=Object(p.fromEvent)(this.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe(Object(d.filter)(function(e){return"_"!==e.id.charAt(0)}),Object(h.map)(function(e){return e.doc}),Object(d.filter)(function(t){return!e._changeEventBuffer.buffer.map(function(e){return e.data.v._rev}).includes(t._rev)}),Object(d.filter)(function(e){return t[e._rev]="YES"}),Object(y.delay)(10),Object(h.map)(function(e){var n=null;return"YES"===t[e._rev]&&(n=e),delete t[e._rev],n}),Object(d.filter)(function(e){return null!==e})).subscribe(function(t){e.$emit(g.a.fromPouchChange(t,e))});this._subs.push(n);var r=this.$.pipe(Object(h.map)(function(e){return e.data.v}),Object(h.map)(function(e){e&&t[e._rev]&&(t[e._rev]="NO")})).subscribe();this._subs.push(r),this.synced=!0}}function O(e){var t=this,n=e.remote,r=e.waitForLeadership,o=void 0===r||r,u=e.direction,s=void 0===u?{pull:!0,push:!0}:u,c=e.options,f=void 0===c?{live:!0,retry:!0}:c,l=e.query;if(f=v.b(f),b.a.isInstanceOf(n)&&(n=n.pouch),l&&this!==l.collection)throw _.a.newRxError("RC2",{query:l});var p=v.i(this.pouch,s);l&&(f.selector=l.keyCompress().selector);var d=new w(this);return a()(i.a.mark(function e(){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,t.database.waitForLeadership();case 3:e.next=7;break;case 5:return e.next=7,v.j(0);case 7:r=p(n,f),t.watchForChanges(),d.setPouchEventEmitter(r),t._repStates.push(d);case 11:case"end":return e.stop()}},e,t)}))(),d}t.a={rxdb:!0,prototypes:{RxCollection:function(e){e.watchForChanges=E,e.sync=O}},overwritable:{},watchForChanges:E,sync:O}},function(e,t,n){"use strict";var r=n(26),i=n(11),o=n(472),a=n(473),u=n(43),s=n(29),c=(n.n(s),n(12)),f=n.n(c);function l(e){return/^1-/.test(e)}function p(e,t){var n=Object.keys(t._attachments);return r.a.all(n.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}var d=0;function h(){s.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new r.a(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch(function(){})}function y(e,t){return"string"==typeof e?new(0,t.PouchConstructor)(e,t):e}function v(e,t,n,s){if("function"==typeof n&&(s=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Object(u.r)(u.b,"`doc_ids` filter parameter is not a list.");n.complete=s,(n=Object(i.e)(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var c=new h(n);return function e(t,n,s,c,f){var h,y,v=[],m={seq:0,changes:[],docs:[]},b=!1,g=!1,_=!1,w=0,E=s.continuous||s.live||!1,O=s.batch_size||100,T=s.batches_limit||10,S=!1,k=s.doc_ids,x=s.selector,j=[],N=Object(i.y)(),I=s.seq_interval;f=f||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var A={};function L(){return y?r.a.resolve():Object(a.a)(t,n,s).then(function(e){y=new o.a(t,n,e,c,!1===s.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===s.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===s.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function D(){if(j=[],0!==h.docs.length){var e=h.docs;return n.bulkDocs({docs:e,new_edits:!1},{timeout:s.timeout}).then(function(t){if(c.cancelled)throw q(),new Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var r=Object.keys(n).length;f.doc_write_failures+=r,f.docs_written+=e.length-r,e.forEach(function(e){var t=n[e._id];if(t){f.errors.push(t);var r=(t.name||"").toLowerCase();if("unauthorized"!==r&&"forbidden"!==r)throw t;c.emit("denied",Object(i.e)(t))}else j.push(e)})},function(t){throw f.doc_write_failures+=e.length,t})}}function P(){if(h.error)throw new Error("There was a problem getting docs.");f.last_seq=w=h.seq;var e=Object(i.e)(f);return j.length&&(e.docs=j,"number"==typeof h.pending&&(e.pending=h.pending,delete h.pending),c.emit("change",e)),b=!0,y.writeCheckpoint(h.seq,N).then(function(){if(b=!1,c.cancelled)throw q(),new Error("cancelled");h=void 0,Q()}).catch(function(e){throw K(e),e})}function R(){return function(e,t,n,o){n=Object(i.e)(n);var a=[],u=!0;return r.a.resolve().then(function(){var t=Object.keys(n).filter(function(e){var t=n[e].missing;return 1===t.length&&l(t[0])});if(t.length>0)return function(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then(function(e){if(o.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){var t;e.deleted||!e.doc||!l(e.value.rev)||(t=e.doc)._attachments&&Object.keys(t._attachments).length>0||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,a.push(e.doc),delete n[e.id])})})}(t)}).then(function(){var s=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].missing.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,latest:!0}}(n);if(s.docs.length)return e.bulkGet(s).then(function(n){if(o.cancelled)throw new Error("cancelled");return r.a.all(n.results.map(function(n){return r.a.all(n.docs.map(function(n){var o=n.ok;return n.error&&(u=!1),o&&o._attachments?function(e,t,n){var o=Object(i.n)(t)&&!Object(i.n)(e),a=Object.keys(n._attachments);return o?e.get(n._id).then(function(i){return r.a.all(a.map(function(r){return function(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==n._attachments[r].digest}(i,0,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)}))}).catch(function(e){if(404!==e.status)throw e;return p(t,n)}):p(t,n)}(t,e,o).then(function(e){var t=Object.keys(o._attachments);return e.forEach(function(e,n){var r=o._attachments[t[n]];delete r.stub,delete r.length,r.data=e}),o}):o}))})).then(function(e){a=a.concat(Object(i.i)(e).filter(Boolean))})})}).then(function(){return{ok:u,docs:a}})}(t,n,h.diffs,c).then(function(e){h.error=!e.ok,e.docs.forEach(function(e){delete h.diffs[e._id],f.docs_read++,h.docs.push(e)})})}function C(){var e;c.cancelled||h||(0!==v.length?(h=v.shift(),(e={},h.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),n.revsDiff(e).then(function(e){if(c.cancelled)throw q(),new Error("cancelled");h.diffs=e})).then(R).then(D).then(P).then(C).catch(function(e){F("batch processing terminated with error",e)})):M(!0))}function M(e){0!==m.changes.length?(e||g||m.changes.length>=O)&&(v.push(m),m={seq:0,changes:[],docs:[]},"pending"!==c.state&&"stopped"!==c.state||(c.state="active",c.emit("active")),C()):0!==v.length||h||((E&&A.live||g)&&(c.state="pending",c.emit("paused")),g&&q())}function F(e,t){_||(t.message||(t.message=e),f.ok=!1,f.status="aborting",v=[],m={seq:0,changes:[],docs:[]},q(t))}function q(r){if(!(_||c.cancelled&&(f.status="cancelled",b)))if(f.status=f.status||"complete",f.end_time=new Date,f.last_seq=w,_=!0,r){(r=Object(u.r)(r)).result=f;var o=(r.name||"").toLowerCase();"unauthorized"===o||"forbidden"===o?(c.emit("error",r),c.removeAllListeners()):function(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=i.f),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=d};t.once("paused",function(){t.removeListener("active",o)}),t.once("active",o)}e.current_back_off=e.current_back_off||d,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}(s,c,r,function(){e(t,n,s,c)})}else c.emit("complete",f),c.removeAllListeners()}function U(e,t,n){if(c.cancelled)return q();"number"==typeof t&&(m.pending=t),Object(i.h)(s)(e)&&(m.seq=e.seq||n,m.changes.push(e),M(0===v.length&&A.live))}function B(e){if(S=!1,c.cancelled)return q();if(e.results.length>0)A.since=e.last_seq,Q(),M(!0);else{var t=function(){E?(A.live=!0,Q()):g=!0,M(!0)};h||0!==e.results.length?t():(b=!0,y.writeCheckpoint(e.last_seq,N).then(function(){b=!1,f.last_seq=w=e.last_seq,t()}).catch(K))}}function G(e){if(S=!1,c.cancelled)return q();F("changes rejected",e)}function Q(){if(!S&&!g&&v.length<T){S=!0,c._changes&&(c.removeListener("cancel",c._abortChanges),c._changes.cancel()),c.once("cancel",n);var e=t.changes(A).on("change",U);e.then(r,r),e.then(B).catch(G),s.retry&&(c._changes=e,c._abortChanges=n)}function n(){e.cancel()}function r(){c.removeListener("cancel",n)}}function V(){L().then(function(){if(!c.cancelled)return y.getCheckpoint().then(function(e){A={since:w=e,limit:O,batch_size:O,style:"all_docs",doc_ids:k,selector:x,return_docs:!0},!1!==I&&(A.seq_interval=I||O),s.filter&&("string"!=typeof s.filter?A.include_docs=!0:A.filter=s.filter),"heartbeat"in s&&(A.heartbeat=s.heartbeat),"timeout"in s&&(A.timeout=s.timeout),s.query_params&&(A.query_params=s.query_params),s.view&&(A.view=s.view),Q()});q()}).catch(function(e){F("getCheckpoint rejected with ",e)})}function K(e){b=!1,F("writeCheckpoint completed with error",e)}c.ready(t,n),c.cancelled?q():(c._addedListeners||(c.once("cancel",q),"function"==typeof s.complete&&(c.once("error",s.complete),c.once("complete",function(e){s.complete(null,e)})),c._addedListeners=!0),"undefined"==typeof s.since?V():L().then(function(){return b=!0,y.writeCheckpoint(s.since,N)}).then(function(){b=!1,c.cancelled?q():(w=s.since,V())}).catch(K))}(y(e,n),y(t,n),n,c),c}function m(e,t,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),(n=Object(i.e)(n)).PouchConstructor=n.PouchConstructor||this,new b(e=y(e,n),t=y(t,n),n,r)}function b(e,t,n,o){var a=this;this.canceled=!1;var u=n.push?Object(i.b)({},n,n.push):n,s=n.pull?Object(i.b)({},n,n.pull):n;function c(e){a.emit("change",{direction:"pull",change:e})}function f(e){a.emit("change",{direction:"push",change:e})}function l(e){a.emit("denied",{direction:"push",doc:e})}function p(e){a.emit("denied",{direction:"pull",doc:e})}function d(){a.pushPaused=!0,a.pullPaused&&a.emit("paused")}function h(){a.pullPaused=!0,a.pushPaused&&a.emit("paused")}function y(){a.pushPaused=!1,a.pullPaused&&a.emit("active",{direction:"push"})}function m(){a.pullPaused=!1,a.pushPaused&&a.emit("active",{direction:"pull"})}this.push=v(e,t,u),this.pull=v(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var b={};function g(e){return function(t,n){("change"===t&&(n===c||n===f)||"denied"===t&&(n===p||n===l)||"paused"===t&&(n===h||n===d)||"active"===t&&(n===m||n===y))&&(t in b||(b[t]={}),b[t][e]=!0,2===Object.keys(b[t]).length&&a.removeAllListeners(t))}}function _(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",a.pull.cancel.bind(a.pull)),this.pull.on("complete",a.push.cancel.bind(a.push))),this.on("newListener",function(e){"change"===e?(_(a.pull,"change",c),_(a.push,"change",f)):"denied"===e?(_(a.pull,"denied",p),_(a.push,"denied",l)):"active"===e?(_(a.pull,"active",m),_(a.push,"active",y)):"paused"===e&&(_(a.pull,"paused",h),_(a.push,"paused",d))}),this.on("removeListener",function(e){"change"===e?(a.pull.removeListener("change",c),a.push.removeListener("change",f)):"denied"===e?(a.pull.removeListener("denied",p),a.push.removeListener("denied",l)):"active"===e?(a.pull.removeListener("active",m),a.push.removeListener("active",y)):"paused"===e&&(a.pull.removeListener("paused",h),a.push.removeListener("paused",d))}),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var w=r.a.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return a.emit("complete",t),o&&o(null,t),a.removeAllListeners(),t},function(e){if(a.cancel(),o?o(e):a.emit("error",e),a.removeAllListeners(),o)throw e});this.then=function(e,t){return w.then(e,t)},this.catch=function(e){return w.catch(e)}}f()(h,s.EventEmitter),h.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},h.prototype.ready=function(e,t){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),n.once("complete",function(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)}))},f()(b,s.EventEmitter),b.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},t.a=function(e){e.replicate=v,e.sync=m,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return"undefined"==typeof this.replicateMethods&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}},function(e,t,n){"use strict";var r=n(26),i=n(11),o=n(68),a=1,u="pouchdb",s=5;function c(e,t,n,r,o){return e.get(t).catch(function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||Object(i.g)(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:u,version:a};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(e){return e.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,s),i.version=a,i.replicator=u,i.session_id=r,i.last_seq=n,e.put(i).catch(function(i){if(409===i.status)return c(e,t,n,r,o);throw i})})}function f(e,t,n,r,i){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=i||{}}f.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},f.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?c(this.target,this.id,e,t,this.returnValue):r.a.resolve(!0)},f.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return c(this.src,this.id,e,t,this.returnValue).catch(function(e){if(d(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e})}return r.a.resolve(!0)};var l={undefined:function(e,t){return 0===Object(o.a)(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return(t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:function e(t,n){var r=t[0],i=t.slice(1),o=n[0],a=n.slice(1);return r&&0!==n.length?p(r.session_id,n)?{last_seq:r.last_seq,history:t}:p(o.session_id,i)?{last_seq:o.last_seq,history:a}:e(i,a):{last_seq:0,history:[]}}(t.history,e.history)).last_seq}};function p(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||p(e,r))}function d(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}f.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||0}).catch(function(e){if(404!==e.status)throw e;return 0}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then(function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in l?l[n](t,e):0;var n},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then(function(){return 0},function(n){return d(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0});throw n})}).catch(function(e){if(404!==e.status)throw e;return 0})},t.a=f},function(e,t,n){"use strict";var r=n(26),i=n(69),o=n(68);t.a=function(e,t,n){var a=n.doc_ids?n.doc_ids.sort(o.a):"",u=n.filter?n.filter.toString():"",s="",c="",f="";return n.selector&&(f=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(o.a).reduce(function(t,n){return t[n]=e[n],t},{})}(n.query_params))),n.filter&&"_view"===n.filter&&(c=n.view.toString()),r.a.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+u+c+s+a+f;return new r.a(function(e){Object(i.a)(t,e)})}).then(function(e){return"_local/"+e.replace(/\//g,".").replace(/\+/g,"_")})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(475),o=n(480),a=n(31),u=n(481);t.delay=function(e,t){void 0===t&&(t=i.async);var n=o.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new s(n,t))}};var s=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.delay,this.scheduler))},e}(),c=function(e){function t(t,n,r){e.call(this,t),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return r(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new f(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(u.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},t}(a.Subscriber),f=function(e,t){this.time=e,this.notification=t}},function(e,t,n){"use strict";var r=n(476),i=n(478);t.async=new i.AsyncScheduler(r.AsyncAction)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(59),o=n(477);t.AsyncAction=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n,this.pending=!1}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;i.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(o.Action)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(71);t.Action=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i.Subscription)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=n(479);t.AsyncScheduler=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler)},function(e,t,n){"use strict";t.Scheduler=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}()},function(e,t,n){"use strict";t.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},function(e,t,n){"use strict";var r=n(32);t.Notification=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";var r,i=n(8),o=n.n(i),a=n(9),u=n.n(a),s=n(55),c=n(4),f=(r=u()(o.a.mark(function e(t){var n,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="rxdb-test-adapter-"+c.d(),r=null,i=void 0,e.prev=3,i=new s.a(n,c.a(t),{auto_compaction:!1,revs_limit:1}),e.next=7,i.info();case 7:return e.next=9,i.put({_id:n,value:!0});case 9:return e.next=11,i.get(n);case 11:return r=e.sent,e.next=14,i.remove(r);case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",!1);case 19:if(!r||!r.value){e.next=23;break}return e.abrupt("return",!0);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,this,[[3,16]])})),function(e){return r.apply(this,arguments)});t.a={rxdb:!0,prototypes:{},overwritable:{checkAdapter:f}}},function(e,t,n){"use strict";var r,i,o,a,u=n(8),s=n.n(u),c=n(9),f=n.n(c),l=n(4),p=n(99),d=n(5),h=n(45),y=(r=f()(s.a.mark(function e(){var t,n,r=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]},this.password&&(t.passwordHash=l.e(this.password),t.encrypted=!i),n=Object.keys(this.collections).filter(function(e){return!o||o.includes(e)}).filter(function(e){return"_"!==e.charAt(0)}).map(function(e){return r.collections[e]}),e.next=5,Promise.all(n.map(function(e){return e.dump(i)}));case 5:return t.collections=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),v=(i=f()(s.a.mark(function e(t){var n,r=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.collections.filter(function(e){return!r.collections[e.name]}).map(function(e){return e.name})).length>0)){e.next=3;break}throw d.a.newRxError("JD1",{missingCollections:n});case 3:return e.abrupt("return",Promise.all(t.collections.map(function(e){return r.collections[e.name].importDump(e)})));case 4:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),m=(o=f()(s.a.mark(function e(){var t,n,r,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!i,n={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]},this.database.password&&t&&(n.passwordHash=l.e(this.database.password),n.encrypted=!0),r=p.a.create("find",{},this),e.next=6,this._pouchFind(r,null,t);case 6:return n.docs=e.sent.map(function(e){return delete e._rev,e}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),b=(a=f()(s.a.mark(function e(t){var n,r=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.schemaHash===this.schema.hash){e.next=2;break}throw d.a.newRxError("JD2",{schemaHash:t.schemaHash,own:this.schema.hash});case 2:if(!t.encrypted||t.passwordHash===l.e(this.database.password)){e.next=4;break}throw d.a.newRxError("JD3",{passwordHash:t.passwordHash,own:l.e(this.database.password)});case 4:return n=t.docs.map(function(e){return r._crypter.decrypt(e)}).map(function(e){return r.schema.validate(e)}).map(function(){var e=f()(s.a.mark(function e(t){var n,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._pouchPut(t);case 2:n=t[r.schema.primaryPath],(i=h.a.create("INSERT",r.database,r,null,t)).data.doc=n,r.$emit(i);case 6:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(n));case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)});t.a={rxdb:!0,prototypes:{RxDatabase:function(e){e.dump=y,e.importDump=v},RxCollection:function(e){e.dump=m,e.importDump=b}},overwritable:{}}},function(e,t,n){"use strict";var r,i=n(8),o=n.n(i),a=n(9),u=n.n(a),s=n(2),c=n.n(s),f=n(134),l=n.n(f),p=n(138),d=n.n(p),h=n(74),y=(n.n(h),n(58)),v=n(4),m=n(100),b=n(239),g=n(61),_=n(55),w=n(5),E=new WeakMap,O=new WeakMap,T={new_edits:!1},S=function(e){function t(n,r){c()(this,t);var i,o=l()(this,e.call(this,n.database,n.name,((i=v.b(n.schema.jsonID)).disableKeyCompression=!0,delete i.properties._id,delete i.properties._rev,delete i.properties._attachments,function e(t,n){delete t.encrypted,Object.values(t).filter(function(e){return"object"==typeof e}).forEach(function(t){return e(t,n)})}(i,i),g.a.create(i)),r,{},n._methods));return o._isInMemory=!0,o._parentCollection=n,o._parentCollection.onDestroy.then(function(){return o.destroy()}),o._changeStreams=[],o.onDestroy.then(function(){o._changeStreams.forEach(function(e){return e.cancel()}),o.pouch.destroy()}),o}return d()(t,e),t.prototype.prepare=(r=u()(o.a.mark(function e(){var t=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._crypter=m.a.create(this.database.password,this.schema),this.pouch=new _.a("rxdb-in-memory-"+v.k(10),v.a("memory"),{}),this._observable$=new h.Subject,this._changeEventBuffer=b.a.create(this),e.next=6,Promise.all(this.schema.indexes.map(function(e){return t.pouch.createIndex({index:{fields:e}})}));case 6:return this._subs.push(this._observable$.subscribe(function(e){var n=t._docCache.get(e.data.doc);n&&n._handleChangeEvent(e)})),e.next=9,this._initialSync();case 9:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),t.prototype._initialSync=(n=u()(o.a.mark(function e(){var t,n,r,i=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._parentCollection.pouch.allDocs({attachments:!1,include_docs:!0});case 2:return t=e.sent,e.next=5,this.pouch.bulkDocs({docs:t.rows.map(function(e){return e.doc}).filter(function(e){return!e.language}).map(function(e){return i._parentCollection._handleFromPouch(e)}).map(function(e){return i._parentCollection.schema.swapPrimaryToId(e)})},T);case 5:this._parentCollection.watchForChanges(),this.watchForChanges(),n=this.pouch.changes({since:"now",include_docs:!0,live:!0}).on("change",function(){var e=u()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=i._parentCollection._handleToPouch(t.doc),i._parentCollection.pouch.bulkDocs({docs:[n]},T);case 2:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}()),this._changeStreams.push(n),r=this._parentCollection.pouch.changes({since:"now",include_docs:!0,live:!0}).on("change",function(){var e=u()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=i._parentCollection._handleFromPouch(t.doc),n=i.schema.swapPrimaryToId(n),i.pouch.bulkDocs({docs:[n]},T);case 3:case"end":return e.stop()}},e,i)}));return function(t){return e.apply(this,arguments)}}()),this._changeStreams.push(r);case 11:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),t.prototype.$emit=function(e){this._observable$.next(e),this._eventCounter||(this._eventCounter=0),this._eventCounter++,10===this._eventCounter&&(this._eventCounter=0,this.pouch.compact())},t;var n,r}(y.a.RxCollection),k=!1,x=(r=u()(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=4;break}if(k=!0,_.a.adapters&&_.a.adapters.memory){e.next=4;break}throw w.a.newRxError("IM1");case 4:if(!E.has(this)){e.next=8;break}return e.next=7,O.get(this);case 7:return e.abrupt("return",E.get(this));case 8:return t=new S(this),n=t.prepare(),E.set(this,t),O.set(this,n),e.next=14,n;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)});t.a={rxdb:!0,prototypes:{RxCollection:function(e){e.inMemory=x}},overwritable:{},spawnInMemory:x}},function(e,t,n){"use strict";(function(e){var r,i=n(2),o=n.n(i),a=n(8),u=n.n(a),s=n(9),c=n.n(s),f=n(98),l=(n.n(f),n(45)),p=n(4),d=n(5),h=(r=c()(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection.pouch.get(t.primary);case 2:n=t.collection._handleFromPouch(e.sent),r=l.a.create("UPDATE",t.collection.database,t.collection,t,n),t.$emit(r);case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)});function y(e){if(!e.collection.schema.jsonID.attachments)throw d.a.newRxError("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var v={createBlobBuffer:function(t,n){var r=void 0;try{r=new Blob([t],{type:n})}catch(i){r=new e(t,{type:n})}return r},toString:function(t){return t instanceof e?p.g().then(function(){return t.toString()}):new Promise(function(e){var n=new FileReader;n.addEventListener("loadend",function(t){e(t.target.result)}),n.readAsText(t)})}},m=function(e){Object.entries(e.doc.collection._attachments).forEach(function(t){var n=t[1];e.__defineGetter__(t[0],function(){return n.bind(e)})})},b=function(){function e(t){var n=t.doc,r=t.id,i=t.type,a=t.length,u=t.digest,s=t.rev;o()(this,e),this.doc=n,this.id=r,this.type=i,this.length=a,this.digest=u,this.rev=s,m(this)}return e.prototype.remove=(r=c()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doc.collection.pouch.removeAttachment(this.doc.primary,this.id,this.doc._data._rev);case 2:return e.next=4,h(this.doc);case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),e.prototype.getData=(n=c()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doc.collection.pouch.getAttachment(this.doc.primary,this.id);case 2:if(t=e.sent,!g(this.doc)){e.next=8;break}return e.next=6,v.toString(t);case 6:t=v.createBlobBuffer(this.doc.collection._crypter._decryptValue(e.sent),this.type);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),e.prototype.getStringData=(t=c()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:return t=e.sent,e.next=5,v.toString(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),e;var t,n,r}();function g(e){return!!e.collection.schema.jsonID.attachments.encrypted}b.fromPouchDocument=function(e,t,n){return new b({doc:n,id:e,type:t.content_type,length:t.length,digest:t.digest,rev:t.revpos})};var _,w=(_=c()(u.a.mark(function e(t){var n,r,i=this,o=t.id,a=t.data,s=t.type,f=void 0===s?"text/plain":s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y(this),n=this.atomicQueue,g(this)&&(a=this.collection._crypter._encryptValue(a)),r=v.createBlobBuffer(a,f),e.next=6,n.requestIdlePromise();case 6:return e.next=8,n.wrapCall(c()(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.collection.pouch.putAttachment(i.primary,o,i._data._rev,r,f);case 2:return e.next=4,i.collection.pouch.get(i.primary);case 4:return n=b.fromPouchDocument(o,(t=e.sent)._attachments[o],i),i._data._rev=t._rev,i._data._attachments=t._attachments,e.next=11,h(i);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,i)})));case 8:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)});function E(e){y(this);var t=this._dataSync$.getValue();return t._attachments&&t._attachments[e]?b.fromPouchDocument(e,t._attachments[e],this):null}function O(){var e=this;y(this);var t=this._dataSync$.getValue();return Object.keys(t._attachments).map(function(n){return b.fromPouchDocument(n,t._attachments[n],e)})}var T,S,k=(T=c()(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.migrated._attachments,e.abrupt("return",t);case 2:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)}),x=(S=c()(u.a.mark(function e(t){var n,r,i,o,a,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.oldCollection.schema.primaryPath,r=t.doc._attachments){e.next=4;break}return e.abrupt("return",t);case 4:e.t0=u.a.keys(r);case 5:if((e.t1=e.t0()).done){e.next=21;break}return o=r[i=e.t1.value],a=t.doc[n],e.next=11,t.oldCollection.pouchdb.getAttachment(a,i);case 11:return s=e.sent,e.next=14,v.toString(s);case 14:return s=e.sent,e.next=17,t.newestCollection.pouch.putAttachment(a,i,t.res.rev,v.createBlobBuffer(s,o.content_type),o.content_type);case 17:t.res=e.sent,e.next=5;break;case 21:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)});t.a={rxdb:!0,prototypes:{RxDocument:function(e){e.putAttachment=w,e.getAttachment=E,e.allAttachments=O,Object.defineProperty(e,"allAttachments$",{get:function(){var e=this;return this._dataSync$.pipe(Object(f.map)(function(e){return e._attachments?e._attachments:{}}),Object(f.map)(function(e){return Object.entries(e)}),Object(f.map)(function(t){return t.map(function(t){return b.fromPouchDocument(t[0],t[1],e)})}))}})}},overwritable:{},hooks:{preMigrateDocument:k,postMigrateDocument:x},blobBufferUtil:v}}).call(t,n(20).Buffer)},function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(9),a=n.n(o),u=n(2),s=n.n(u),c=n(19),f=n.n(c),l=n(134),p=n.n(l),d=n(138),h=n.n(d),y=n(60),v=n.n(y),m=n(73),b=n.n(m),g=n(72),_=n(122),w=n(58),E=n(45),O=n(238),T=n(5),S=n(4),k=n(44),x=(n.n(k),new WeakMap),j=function(e){return x.has(e)||x.set(e,O.a.create()),x.get(e)},N=new WeakMap,I=function(e){function t(n,r,i){s()(this,t);var o=p()(this,e.call(this,null,r));return o.id=n,o.parent=i,o}return h()(t,e),t.prototype.toPouchJson=function(){S.b(this._data)._id="_local/"+this.id},t.prototype._handleChangeEvent=function(e){if(e.data.doc===this.primary)switch(e.data.op){case"UPDATE":var t=S.b(e.data.v),n=this._dataSync$.getValue(),r=this._data;b()(n,r)?(this._data=t,!0!==this._synced$.getValue()&&this._synced$.next(!0)):(!1!==this._synced$.getValue()&&this._synced$.next(!1),this._data._rev=t._rev),this._dataSync$.next(S.b(t));break;case"REMOVE":j(this.parent).delete(this.primary),this._deleted$.next(!0)}},t.prototype.$emit=function(e){return this.parent.$emit(e)},t.prototype.get=function(e){if(this._data){if("string"!=typeof e)throw T.a.newRxTypeError("LD2",{objPath:e});var t=v.a.get(this._data,e);return S.b(t)}},t.prototype.get$=function(e){if(e.includes(".item."))throw T.a.newRxError("LD3",{path:e});if(e===this.primaryPath)throw T.a.newRxError("LD4");return this._dataSync$.map(function(t){return v.a.get(t,e)}).distinctUntilChanged().asObservable()},t.prototype.set=function(e,t){if(!t){var n=S.b(e);return n._rev=this._data._rev,this._data=n,this}if("_id"===e)throw T.a.newRxError("LD5",{objPath:e,value:t});if(!Object.is(this.get(e),t))return v.a.set(this._data,e,t),this},t.prototype.save=(r=a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=S.b(this._data))._id="_local/"+this.id,e.next=4,this.parentPouch.put(t);case 4:this._data._rev=e.sent.rev,n=E.a.create("UPDATE",_.a.isInstanceOf(this.parent)?this.parent:this.parent.database,w.a.isInstanceOf(this.parent)?this.parent:null,this,S.b(this._data),!0),this.$emit(n);case 8:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),t.prototype.remove=(n=a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="_local/"+this.id,e.next=3,this.parentPouch.remove(t,this._data._rev);case 3:j(this.parent).delete(this.id),n=E.a.create("REMOVE",_.a.isInstanceOf(this.parent)?this.parent:this.parent.database,w.a.isInstanceOf(this.parent)?this.parent:null,this,S.b(this._data),!0),this.$emit(n);case 6:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)}),f()(t,[{key:"isLocal",get:function(){return!0}},{key:"parentPouch",get:function(){return R(this.parent)}},{key:"allAttachments$",get:function(){throw T.a.newRxError("LD1",{document:this})}},{key:"primaryPath",get:function(){return"id"}},{key:"primary",get:function(){return this.id}},{key:"$",get:function(){return this._dataSync$.asObservable()}}]),t;var n,r}(g.a.RxDocument),A=!1;I.create=function(e,t,n){A||(A=!0,["populate","update","putAttachment","getAttachment","allAttachments"].forEach(function(e){return I.prototype[e]=function(e){return function(){throw T.a.newRxError("LD6",{functionName:e})}}(e)})),function(e){if(!N.has(e)){var t=e.$.pipe(Object(k.filter)(function(e){return e.data.isLocal})).subscribe(function(t){var n=j(e).get(t.data.doc);n&&n._handleChangeEvent(t)});e._subs.push(t),N.set(e,t)}N.get(e)}(n);var r=new I(e,t,n);return j(n).set(e,r),r};var L,D,P,R=function(e){return _.a.isInstanceOf(e)?e._adminPouch:e.pouch},C=(L=a()(i.a.mark(function e(t,n){var r,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.a.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.insertLocal(t,n));case 2:return n=S.b(n),e.next=5,this.getLocal(t);case 5:if(!e.sent){e.next=8;break}throw T.a.newRxError("LD7",{id:t,data:n});case 8:return r=R(this),(o=S.b(n))._id="_local/"+t,e.next=13,r.put(o);case 13:return n._rev=e.sent.rev,a=I.create(t,n,this),e.abrupt("return",a);case 17:case"end":return e.stop()}},e,this)})),function(e,t){return L.apply(this,arguments)}),M=(D=a()(i.a.mark(function e(t,n){var r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.a.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.upsertLocal(t,n));case 2:return e.next=4,this.getLocal(t);case 4:if(r=e.sent){e.next=10;break}return o=this.insertLocal(t,n),e.abrupt("return",o);case 10:return n._rev=r._data._rev,r._data=n,e.next=14,r.save();case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this)})),function(e,t){return D.apply(this,arguments)}),F=(P=a()(i.a.mark(function e(t){var n,r,o,a,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.a.isInstanceOf(this)||!this._isInMemory){e.next=2;break}return e.abrupt("return",this._parentCollection.getLocal(t));case 2:if(n=R(this),r=j(this),o=r.get(t)){e.next=19;break}return e.prev=6,e.next=9,n.get("_local/"+t);case 9:if(a=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return u=I.create(t,a,this),e.abrupt("return",u);case 16:return e.prev=16,e.t0=e.catch(6),e.abrupt("return",null);case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}},e,this,[[6,16]])})),function(e){return P.apply(this,arguments)});t.a={rxdb:!0,prototypes:{RxCollection:function(e){e.insertLocal=C,e.upsertLocal=M,e.getLocal=F},RxDatabase:function(e){e.insertLocal=C,e.upsertLocal=M,e.getLocal=F}},overwritable:{}}},function(e,t,n){const r=n(16),i=n(17).AbstractLevelDOWN,o=n(246)("leveldown").leveldown,a=n(489),u=n(490);function s(e){if(!(this instanceof s))return new s(e);i.call(this,e),this.binding=o(e)}r.inherits(s,i),s.prototype._open=function(e,t){this.binding.open(e,t)},s.prototype._close=function(e){this.binding.close(e)},s.prototype._put=function(e,t,n,r){this.binding.put(e,t,n,r)},s.prototype._get=function(e,t,n){this.binding.get(e,t,n)},s.prototype._del=function(e,t,n){this.binding.del(e,t,n)},s.prototype._chainedBatch=function(){return new a(this)},s.prototype._batch=function(e,t,n){return this.binding.batch(e,t,n)},s.prototype.approximateSize=function(e,t,n){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof n)throw new Error("approximateSize() requires a callback argument");e=this._serializeKey(e),t=this._serializeKey(t),this.binding.approximateSize(e,t,n)},s.prototype.compactRange=function(e,t,n){this.binding.compactRange(e,t,n)},s.prototype.getProperty=function(e){if("string"!=typeof e)throw new Error("getProperty() requires a valid `property` argument");return this.binding.getProperty(e)},s.prototype._iterator=function(e){return new u(this,e)},s.destroy=function(e,t){if(arguments.length<2)throw new Error("destroy() requires `location` and `callback` arguments");if("string"!=typeof e)throw new Error("destroy() requires a location string argument");if("function"!=typeof t)throw new Error("destroy() requires a callback function argument");o.destroy(e,t)},s.repair=function(e,t){if(arguments.length<2)throw new Error("repair() requires `location` and `callback` arguments");if("string"!=typeof e)throw new Error("repair() requires a location string argument");if("function"!=typeof t)throw new Error("repair() requires a callback function argument");o.repair(e,t)},e.exports=s.default=s},function(e,t,n){(function(t,r){const i=n(75),o=n(244),a=n(245),u=Object.prototype.hasOwnProperty,s="start end gt gte lt lte".split(" ");function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}function f(e){return-1!==s.indexOf(e)}c.prototype.open=function(e,t){var n=this,r=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists,this.status="opening",this._open(e,function(e){if(e)return n.status=r,t(e);n.status="open",t()})},c.prototype._open=function(e,n){t.nextTick(n)},c.prototype.close=function(e){var t=this,n=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");this.status="closing",this._close(function(r){if(r)return t.status=n,e(r);t.status="closed",e()})},c.prototype._close=function(e){t.nextTick(e)},c.prototype.get=function(e,n,r){if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("get() requires a callback argument");var i=this._checkKey(e,"key");if(i)return t.nextTick(r,i);e=this._serializeKey(e),"object"!=typeof n&&(n={}),n.asBuffer=!1!==n.asBuffer,this._get(e,n,r)},c.prototype._get=function(e,n,r){t.nextTick(function(){r(new Error("NotFound"))})},c.prototype.put=function(e,n,r,i){if("function"==typeof r&&(i=r),"function"!=typeof i)throw new Error("put() requires a callback argument");var o=this._checkKey(e,"key");if(o)return t.nextTick(i,o);e=this._serializeKey(e),n=this._serializeValue(n),"object"!=typeof r&&(r={}),this._put(e,n,r,i)},c.prototype._put=function(e,n,r,i){t.nextTick(i)},c.prototype.del=function(e,n,r){if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("del() requires a callback argument");var i=this._checkKey(e,"key");if(i)return t.nextTick(r,i);e=this._serializeKey(e),"object"!=typeof n&&(n={}),this._del(e,n,r)},c.prototype._del=function(e,n,r){t.nextTick(r)},c.prototype.batch=function(e,n,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof n&&(r=n),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return t.nextTick(r,new Error("batch(array) requires an array argument"));n&&"object"==typeof n||(n={});for(var o=new Array(e.length),a=0;a<e.length;a++){if("object"!=typeof e[a]||null===e[a])return t.nextTick(r,new Error("batch(array) element must be an object and not `null`"));var u=i(e[a]);if("put"!==u.type&&"del"!==u.type)return t.nextTick(r,new Error("`type` must be 'put' or 'del'"));var s=this._checkKey(u.key,"key");if(s)return t.nextTick(r,s);u.key=this._serializeKey(u.key),"put"===u.type&&(u.value=this._serializeValue(u.value)),o[a]=u}this._batch(o,n,r)},c.prototype._batch=function(e,n,r){t.nextTick(r)},c.prototype._setupIteratorOptions=function(e){return(e=function(e){var t,n={};for(var i in e)u.call(e,i)&&(f(i)&&(""===(t=e[i])||null==t||function(e){return r.isBuffer(e)&&0===e.length}(t))||(n[i]=e[i]));return n}(e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),this._iterator(e)},c.prototype._iterator=function(e){return new o(this)},c.prototype._chainedBatch=function(){return new a(this)},c.prototype._serializeKey=function(e){return r.isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":r.isBuffer(e)||t.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null===e||void 0===e?new Error(t+" cannot be `null` or `undefined`"):r.isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c}).call(t,n(6),n(20).Buffer)},function(e,t,n){const r=n(16),i=n(17).AbstractChainedBatch;function o(e){i.call(this,e),this.binding=e.binding.batch()}o.prototype._put=function(e,t){this.binding.put(e,t)},o.prototype._del=function(e){this.binding.del(e)},o.prototype._clear=function(e){this.binding.clear(e)},o.prototype._write=function(e,t){this.binding.write(e,t)},r.inherits(o,i),e.exports=o},function(e,t,n){(function(t){const r=n(16),i=n(17).AbstractIterator,o=n(250);function a(e,t){i.call(this,e),this.binding=e.binding.iterator(t),this.cache=null,this.finished=!1,this.fastFuture=o()}r.inherits(a,i),a.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");if("string"!=typeof e&&!t.isBuffer(e))throw new Error("seek() requires a string or buffer key");if(0==e.length)throw new Error("cannot seek() to an empty key");this.cache=null,this.binding.seek(e),this.finished=!1},a.prototype._next=function(e){var t,n,r=this;return this.cache&&this.cache.length?(t=this.cache.pop(),n=this.cache.pop(),this.fastFuture(function(){e(null,t,n)})):this.finished?this.fastFuture(function(){e()}):this.binding.next(function(t,n,i){if(t)return e(t);r.cache=n,r.finished=i,r._next(e)}),this},a.prototype._end=function(e){delete this.cache,this.binding.end(e)},e.exports=a}).call(t,n(20).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(26),o=n(43),a=n(142),u=n(57),s=n(42),c=n(143),f=n(56),l=5,p="document-store",d="by-sequence",h="attach-store",y="attach-seq-store",v="meta-store",m="local-store",b="detect-blob-support";function g(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Object(o.r)(o.d,n,t.type))}}function _(e,t,n){return{data:Object(a.b)(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function w(e){if(!e)return null;var t=Object(a.a)(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function E(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function O(e,t,n,r){n?r(e?"string"!=typeof e?e:Object(u.b)(e,t):Object(u.d)([""],{type:t})):e?"string"!=typeof e?Object(u.i)(e,function(e){r(Object(u.g)(e))}):r(e):r("")}function T(e,t,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var o=0;function a(){++o===i.length&&r&&r()}i.forEach(function(r){t.attachments&&t.include_docs?function(e,t){var r=e._attachments[t],i=r.digest;n.objectStore(h).get(i).onsuccess=function(e){r.body=e.target.result.body,a()}}(e,r):(e._attachments[r].stub=!0,a())})}function S(e,t){return i.a.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return i.a.all(n.map(function(n){var o=e.doc._attachments[n];if("body"in o){var a=o.body,u=o.content_type;return new i.a(function(i){O(a,u,t,function(t){e.doc._attachments[n]=Object(r.b)(Object(r.t)(o,["digest","content_type"]),{data:t}),i()})})}}))}}))}function k(e,t,n){var r=[],i=n.objectStore(d),o=n.objectStore(h),a=n.objectStore(y),u=e.length;function s(){--u||r.length&&r.forEach(function(e){a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::\uffff",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}})}e.forEach(function(e){i.index("_doc_id_rev").getKey(t+"::"+e).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return s();i.delete(t),a.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),a.delete(t.primaryKey),t.continue()}else s()}}})}function x(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var j=new r.d;function N(e,t,n,r,i){var o,a,u;function s(e){a=e.target.result,o&&i(o,a,u)}function c(e){o=e.target.result,a&&i(o,a,u)}function f(e){var t=e.target.result;if(!t)return i();i([t.key],[t.value],t)}"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(u={continue:function(){if(!o.length)return i();var n,u=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return i()}else n=IDBKeyRange.lowerBound(u,!0);o=null,a=null,e.getAll(t=n,r).onsuccess=s,e.getAllKeys(t,r).onsuccess=c}},e.getAll(t,r).onsuccess=s,e.getAllKeys(t,r).onsuccess=c):n?e.openCursor(t,"prev").onsuccess=f:e.openCursor(t).onsuccess=f}var I=!1,A=[];function L(){!I&&A.length&&(I=!0,A.shift()())}var D,P=new s.a,R=new s.a;function C(e,t){var n=this;!function(t,a,C){A.push(function(){!function(e,t,n){var a=t.name,I=null;function A(e,t){var n=e.objectStore(p);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,o=Object(f.d)(i);i.deletedOrLocal=o?"1":"0",n.put(i),r.continue()}else t()}}function L(e,t){var n=e.objectStore(m),r=e.objectStore(p),i=e.objectStore(d);r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var a=o.value,u=a.id,s=Object(f.e)(u),c=Object(f.k)(a);if(s){var l=u+"::"+c,p=u+"::",d=u+"::~",h=i.index("_doc_id_rev"),y=IDBKeyRange.bound(p,d,!1,!1),v=h.openCursor(y);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&n.put(t),i.delete(v.primaryKey),v.continue()}else r.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function C(e,t){var n=e.objectStore(d),r=e.objectStore(h),i=e.objectStore(y);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,o=n.primaryKey,a=Object.keys(r._attachments||{}),u={},s=0;s<a.length;s++){u[r._attachments[a[s]].digest]=!0}var c=Object.keys(u);for(s=0;s<c.length;s++){i.put({seq:o,digestSeq:c[s]+"::"+o})}n.continue()}}}function M(e){var t=e.objectStore(d),n=e.objectStore(p);n.openCursor().onsuccess=function(e){var r,i=e.target.result;if(i){var o,a,u,s=(r=i.value).data?w(r):(r.deleted="1"===r.deletedOrLocal,r);if(s.winningRev=s.winningRev||Object(f.k)(s),s.seq)return c();o=s.id+"::",a=s.id+"::\uffff",u=0,t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(o,a)).onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=u,c();var n=t.primaryKey;n>u&&(u=n),t.continue()}}function c(){var e=_(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=Object(r.w)(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,i){!function(e,t,n,r,i,a){for(var u,l,b,E,O,T,S,N,I=t.docs,A=0,L=I.length;A<L;A++){var D=I[A];D._id&&Object(c.c)(D._id)||(D=I[A]=Object(c.d)(D,n.new_edits)).error&&!S&&(S=D)}if(S)return a(S);var P=!1,R=0,C=new Array(I.length),M=new s.a,F=!1,q=r._meta.blobSupport?"blob":"base64";function U(){P=!0,B()}function B(){N&&P&&(N.docCount+=R,T.put(N))}function G(){F||(j.notify(r._meta.name),a(null,C))}function Q(e,t,n,r,i,o,a,u){e.metadata.winningRev=t,e.metadata.deleted=n;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,r&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return function(e,t,n,r,i,o){var a=0,u=Object.keys(e.data._attachments);function s(){a===u.length&&V(e,t,n,r,i,o)}function c(){a++,s()}u.forEach(function(n){var r=e.data._attachments[n];if(r.stub)a++,s();else{var i=r.data;delete r.data,r.revpos=parseInt(t,10),function(e,t,n){E.count(e).onsuccess=function(r){if(r.target.result)return n();E.put({digest:e,body:t}).onsuccess=n}}(r.digest,i,c)}})}(e,t,n,i,a,u);R+=o,B(),V(e,t,n,i,a,u)}function V(e,t,n,i,o,a){var s=e.data,c=e.metadata;function p(o){var a=e.stemmedRevs||[];i&&r.auto_compaction&&(a=a.concat(Object(f.c)(e.metadata))),a&&a.length&&k(a,e.metadata.id,u),c.seq=o.target.result;var s=_(c,t,n);l.put(s).onsuccess=d}function d(){C[o]={ok:!0,id:c.id,rev:c.rev},M.set(e.metadata.id,e.metadata),function(e,t,n){var r,i=0,o=Object.keys(e.data._attachments||{});if(!o.length)return n();function a(){++i===o.length&&n()}for(var u=0;u<o.length;u++)r=void 0,(r=O.put({seq:t,digestSeq:e.data._attachments[o[u]].digest+"::"+t})).onsuccess=a,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),a()}}(e,c.seq,a)}s._doc_id_rev=c.id+"::"+c.rev,delete s._id,delete s._rev;var h=b.put(s);h.onsuccess=p,h.onerror=function(e){e.preventDefault(),e.stopPropagation(),b.index("_doc_id_rev").getKey(s._doc_id_rev).onsuccess=function(e){b.put(s,e.target.result).onsuccess=p}}}Object(c.e)(I,q,function(t){if(t)return a(t);!function(){var t=x(i,[p,d,h,m,y,v],"readwrite");if(t.error)return a(t.error);(u=t.txn).onabort=g(a),u.ontimeout=g(a),u.oncomplete=G,l=u.objectStore(p),b=u.objectStore(d),E=u.objectStore(h),O=u.objectStore(y),(T=u.objectStore(v)).get(v).onsuccess=function(e){N=e.target.result,B()},function(e){var t=[];if(I.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,r=0;t.forEach(function(i){!function(e,t){E.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=Object(o.r)(o.j,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}(i,function(i){i&&!n&&(n=i),++r===t.length&&e(n)})})}(function(t){if(t)return F=!0,a(t);!function(){if(I.length)for(var t=0,i=0,o=I.length;i<o;i++){var a=I[i];a._id&&Object(c.c)(a._id)?s():l.get(a.metadata.id).onsuccess=f}function s(){++t===I.length&&Object(c.f)(e.revs_limit,I,r,M,u,C,Q,n,U)}function f(e){var t=w(e.target.result);t&&M.set(t.id,t),s()}}()})}()})}(t,n,r,e,I,i)},e._get=function(e,t,n){var r,i,a,u=t.ctx;if(!u){var s=x(I,[p,d,h],"readonly");if(s.error)return n(s.error);u=s.txn}function c(){n(a,{doc:r,metadata:i,ctx:u})}u.objectStore(p).get(e).onsuccess=function(e){if(!(i=w(e.target.result)))return a=Object(o.r)(o.h,"missing"),c();var n;if(t.rev)n=t.latest?Object(f.f)(t.rev,i):t.rev;else if(n=i.winningRev,Object(f.d)(i))return a=Object(o.r)(o.h,"deleted"),c();var s=u.objectStore(d),l=i.id+"::"+n;s.index("_doc_id_rev").get(l).onsuccess=function(e){if((r=e.target.result)&&(r=E(r)),!r)return a=Object(o.r)(o.h,"missing"),c();c()}}},e._getAttachment=function(e,t,n,r,i){var o;if(r.ctx)o=r.ctx;else{var a=x(I,[p,d,h],"readonly");if(a.error)return i(a.error);o=a.txn}var u=n.digest,s=n.content_type;o.objectStore(h).get(u).onsuccess=function(e){O(e.target.result.body,s,r.binary,function(e){i(null,e)})}},e._info=function(t){var n,r,i=x(I,[v,d],"readonly");if(i.error)return t(i.error);var o=i.txn;o.objectStore(v).get(v).onsuccess=function(e){r=e.target.result.docCount},o.objectStore(d).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){!function(e,t,n){var r,i,a="keys"in e&&e.keys,u=e.skip||0,s="number"==typeof e.limit?e.limit:-1;if(!a&&(i=(r=function(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending))&&r.error)&&("DataError"!==i.name||0!==i.code))return n(Object(o.r)(o.d,i.name,i.message));var c=[p,d,v];e.attachments&&c.push(h);var l=x(t,c,"readonly");if(l.error)return n(l.error);var y=l.txn;y.oncomplete=function(){e.attachments?S(I,e.binary).then(P):P()},y.onabort=g(n);var m,b,_=y.objectStore(p),O=y.objectStore(d),k=y.objectStore(v),j=O.index("_doc_id_rev"),I=[];function A(t,n){var r={id:n.id,key:n.id,value:{rev:t}};n.deleted?a&&(I.push(r),r.value.deleted=!0,r.doc=null):u--<=0&&(I.push(r),e.include_docs&&function(t,n,r){j.get(t.id+"::"+r).onsuccess=function(r){if(n.doc=E(r.target.result),e.conflicts){var i=Object(f.a)(t);i.length&&(n.doc._conflicts=i)}T(n.doc,e,y)}}(n,r,t))}function L(e){for(var t=0,n=e.length;t<n&&I.length!==s;t++){var r=e[t];if(r.error&&a)I.push(r);else{var i=w(r);A(i.winningRev,i)}}}function D(e,t,n){n&&(L(t),I.length<s&&n.continue())}function P(){var t={total_rows:m,offset:e.skip,rows:I};e.update_seq&&void 0!==b&&(t.update_seq=b),n(null,t)}k.get(v).onsuccess=function(e){m=e.target.result.docCount},e.update_seq&&(O.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),function(e){e.target.result&&e.target.result.length>0&&(b=e.target.result[0])}({target:{result:[n]}})}),i||0===s||(a?function(e,t,n){var r=[],i=0;e.forEach(function(o,a){t.get(o).onsuccess=function(t){r[a]=t.target.result?t.target.result:{key:o,error:"not_found"},++i===e.length&&n(e,r,{})}})}(e.keys,_,D):-1===s?function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(_,r,function(t){var n=t.target.result;e.descending&&(n=n.reverse()),L(n)}):N(_,r,e.descending,s+u,D))}(e,I,t)},e._changes=function(t){return function(e,t,n,i){if((e=Object(r.e)(e)).continuous){var o=n+":"+Object(r.y)();return j.addListener(n,o,t,e),j.notify(n),{cancel:function(){j.removeListener(n,o)}}}var a=e.doc_ids&&new s.b(e.doc_ids);e.since=e.since||0;var u,c=e.since,f="limit"in e?e.limit:-1;0===f&&(f=1),u="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var l,y,v,m,b=[],_=0,O=Object(r.h)(e),k=new s.a;function I(e,t,n,r){return n.seq!==t?r():n.winningRev===e._rev?r(n,e):void(m.get(e._id+"::"+n.winningRev).onsuccess=function(e){r(n,E(e.target.result))})}function A(){e.complete(null,{results:b,last_seq:c})}var L=[p,d];e.attachments&&L.push(h);var D=x(i,L,"readonly");if(D.error)return e.complete(D.error);(l=D.txn).onabort=g(e.complete),l.oncomplete=function(){!e.continuous&&e.attachments?S(b).then(A):A()},y=l.objectStore(d),v=l.objectStore(p),m=y.index("_doc_id_rev"),N(y,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,f,function(t,n,r){if(r&&t.length){var i=new Array(t.length),o=new Array(t.length),s=0;n.forEach(function(e,n){!function(e,t,n){if(a&&!a.has(e._id))return n();var r=k.get(e._id);if(r)return I(e,t,r,n);v.get(e._id).onsuccess=function(i){r=w(i.target.result),k.set(e._id,r),I(e,t,r,n)}}(E(e),t[n],function(e,a){o[n]=e,i[n]=a,++s===t.length&&function(){for(var e=0,t=i.length;e<t&&_!==f;e++){var n=i[e];n&&p(o[e],n)}_!==f&&r.continue()}()})})}function p(t,n){var r=e.processChange(n,t,e);c=r.seq=t.seq;var i=O(r);if("object"==typeof i)return e.complete(i);i&&(_++,u&&b.push(r),e.attachments&&e.include_docs?T(n,e,l,function(){S([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r))}})}(t,e,a,I)},e._close=function(e){I.close(),P.delete(a),e()},e._getRevisionTree=function(e,t){var n=x(I,[p],"readonly");if(n.error)return t(n.error);n.txn.objectStore(p).get(e).onsuccess=function(e){var n=w(e.target.result);n?t(null,n.rev_tree):t(Object(o.r)(o.h))}},e._doCompaction=function(e,t,n){var r=x(I,[p,d,h,y],"readwrite");if(r.error)return n(r.error);var i=r.txn;i.objectStore(p).get(e).onsuccess=function(n){var r=w(n.target.result);Object(f.j)(r.rev_tree,function(e,n,r,i,o){-1!==t.indexOf(n+"-"+r)&&(o.status="missing")}),k(t,e,i);var o=r.winningRev,a=r.deleted;i.objectStore(p).put(_(r,o,a))},i.onabort=g(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=x(I,[m],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore(m).get(e);r.onerror=g(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(Object(o.r)(o.h))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,i=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var a,u=t.ctx;if(!u){var s=x(I,[m],"readwrite");if(s.error)return n(s.error);(u=s.txn).onerror=g(n),u.oncomplete=function(){a&&n(null,a)}}var c,f=u.objectStore(m);r?(c=f.get(i)).onsuccess=function(i){var u=i.target.result;u&&u._rev===r?f.put(e).onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,a)}:n(Object(o.r)(o.o))}:((c=f.add(e)).onerror=function(e){n(Object(o.r)(o.o)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,a)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r,i=t.ctx;if(!i){var a=x(I,[m],"readwrite");if(a.error)return n(a.error);(i=a.txn).oncomplete=function(){r&&n(null,r)}}var u=e._id,s=i.objectStore(m),c=s.get(u);c.onerror=g(n),c.onsuccess=function(i){var a=i.target.result;a&&a._rev===e._rev?(s.delete(u),r={ok:!0,id:u,rev:"0-0"},t.ctx&&n(null,r)):n(Object(o.r)(o.h))}},e._destroy=function(e,t){j.removeAllListeners(a);var n=R.get(a);n&&n.result&&(n.result.close(),P.delete(a));var i=indexedDB.deleteDatabase(a);i.onsuccess=function(){R.delete(a),Object(r.l)()&&a in localStorage&&delete localStorage[a],t(null,{ok:!0})},i.onerror=g(t)};var F,q=P.get(a);if(q)return I=q.idb,e._meta=q.global,Object(r.p)(function(){n(null,e)});F=t.storage?function(e,t){try{return indexedDB.open(e,{version:l,storage:t})}catch(t){return indexedDB.open(e,l)}}(a,t.storage):indexedDB.open(a,l),R.set(a,F),F.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(p,{keyPath:"id"});e.createObjectStore(d,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(h,{keyPath:"digest"}),e.createObjectStore(v,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(b),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(m,{keyPath:"_id"});var n=e.createObjectStore(y,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore(m,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore(y,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r=[A,L,C,M],i=e.oldVersion;!function e(){var t=r[i-1];i++,t&&t(n,e)}()},F.onsuccess=function(t){(I=t.target.result).onversionchange=function(){I.close(),P.delete(a)},I.onabort=function(e){Object(r.k)("error","Database has a global failure",e.target.error),I.close(),P.delete(a)};var o,s,c,f,l=I.transaction([v,b,p],"readwrite"),d=!1;function h(){"undefined"!=typeof c&&d&&(e._meta={name:a,instanceId:f,blobSupport:c},P.set(a,{idb:I,global:e._meta}),n(null,e))}function y(){if("undefined"!=typeof s&&"undefined"!=typeof o){var e=a+"_id";e in o?f=o[e]:o[e]=f=Object(r.y)(),o.docCount=s,l.objectStore(v).put(o)}}l.objectStore(v).get(v).onsuccess=function(e){o=e.target.result||{id:v},y()},function(e,t){e.objectStore(p).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){s=e.target.result,y()}}(l),D||(D=function(e){return new i.a(function(t){var n=Object(u.d)([""]);e.objectStore(b).put(n,"key").onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}}).catch(function(){return!1})}(l)),D.then(function(e){c=e,h()}),l.oncomplete=function(){d=!0,h()},l.onabort=g(n)},F.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";Object(r.k)("error",e),n(Object(o.r)(o.d,e))}}(n,e,function(e,t){!function(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}(a,e,t,C),I=!1,Object(r.p)(function(){L()})})}),L()}(0,t,n.constructor)}C.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");try{return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}},t.default=function(e){e.adapter("idb",C,!0)}},function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(e):o===t.length-2?i[t.pop()]=e:t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,a,u,s,c,f,l="";n=t.pop();)if(r=n.obj,l+=n.prefix||"",i=n.val||"")l+=i;else if("object"!=typeof r)l+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)l+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),o=r.length-1;o>=0;o--)t.push({obj:r[o],prefix:0===o?"":","});t.push({val:"["})}else{for(u in a=[],r)r.hasOwnProperty(u)&&a.push(u);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)c=r[s=a[o]],f=o>0?",":"",f+=JSON.stringify(s)+":",t.push({obj:c,prefix:f});t.push({val:"{"})}return l},t.parse=function(e){for(var t,n,i,o,a,u,s,c,f,l=[],p=[],d=0;;)if("}"!==(t=e[d++])&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,r(null,l,p);break;case"t":d+=3,r(!0,l,p);break;case"f":d+=4,r(!1,l,p);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(i=e[d++],!/[\d\.\-e\+]/.test(i)){d--;break}n+=i}r(parseFloat(n),l,p);break;case'"':for(o="",a=void 0,u=0;'"'!==(s=e[d++])||"\\"===a&&u%2==1;)o+=s,"\\"===(a=s)?u++:u=0;r(JSON.parse('"'+o+'"'),l,p);break;case"[":l.push((c={element:[],index:l.length}).element),p.push(c);break;case"{":l.push((f={element:{},index:l.length}).element),p.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===l.length)return l.pop();r(l.pop(),l,p)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(494),o=n(495),a=n.n(o);function u(e,t){var n=Object(r.b)({websql:a.a},e);i.a.call(this,n,t)}u.valid=function(){return!0},u.use_prefix=!1,t.default=function(e){e.adapter("websql",u,!0)}},function(e,t,n){"use strict";var r=n(42),i=n(43),o=n(11),a=n(143),u=n(56),s=n(142),c=n(57);function f(e){return e<65?e-48:e-55}function l(e,t){return"UTF-8"===t?function(e){return decodeURIComponent(escape(e))}(function(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(f(e.charCodeAt(t++))<<4|f(e.charCodeAt(t++)));return r}(e,0,e.length)):function(e,t,n){for(var r="";t<n;)r+=String.fromCharCode(f(e.charCodeAt(t+2))<<12|f(e.charCodeAt(t+3))<<8|f(e.charCodeAt(t))<<4|f(e.charCodeAt(t+1))),t+=4;return r}(e,0,e.length)}function p(e){return"'"+e+"'"}var d=7,h=p("document-store"),y=p("by-sequence"),v=p("attach-store"),m=p("local-store"),b=p("metadata-store"),g=p("attach-seq-store");function _(e){return delete e._id,delete e._rev,JSON.stringify(e)}function w(e,t,n){return(e=JSON.parse(e))._id=t,e._rev=n,e}function E(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function O(e,t,n,r,i){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function T(e,t,n){if(e.length){var i=0,o=[];e.forEach(function(e){n.executeSql("SELECT seq FROM "+y+" WHERE doc_id=? AND rev=?",[t,e],function(e,t){if(!t.rows.length)return a();var n=t.rows.item(0).seq;o.push(n),e.executeSql("DELETE FROM "+y+" WHERE seq=?",[n],a)})})}function a(){++i===e.length&&function(){if(o.length){var e="SELECT DISTINCT digest AS digest FROM "+g+" WHERE seq IN "+E(o.length);n.executeSql(e,o,function(e,t){for(var n=[],i=0;i<t.rows.length;i++)n.push(t.rows.item(i).digest);if(n.length){var a="DELETE FROM "+g+" WHERE seq IN ("+o.map(function(){return"?"}).join(",")+")";e.executeSql(a,o,function(e){var t="SELECT digest FROM "+g+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var i=new r.b,o=0;o<t.rows.length;o++)i.add(t.rows.item(o).digest);n.forEach(function(t){i.has(t)||(e.executeSql("DELETE FROM "+g+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+v+" WHERE digest=?",[t]))})})})}})}}()}}function S(e){return function(t){Object(o.k)("error","WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^(]+)/),r=n&&n[1]||t.type,a=t.target||t.message;e(Object(i.r)(i.q,a,r))}}var k=new r.a,x=new o.d;function j(e,t,n,r,i){var a=Object.keys(e._attachments||{});if(!a.length)return i&&i();var u=0;function s(){++u===a.length&&i&&i()}a.forEach(function(i){t.attachments&&t.include_docs?function(e,i){var a=e._attachments[i];n._getAttachment(e._id,i,a,{binary:t.binary,ctx:r},function(t,n){e._attachments[i]=Object(o.b)(Object(o.t)(a,["digest","content_type"]),{data:n}),s()})}(e,i):(e._attachments[i].stub=!0,s())})}var N="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+y+" (seq, deleted)",I="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+y+" (doc_id, rev)",A="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+h+" (winningseq)",L="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+g+" (seq)",D="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+g+" (digest, seq)",P=y+".seq = "+h+".winningseq",R=y+".seq AS seq, "+y+".deleted AS deleted, "+y+".json AS data, "+y+".rev AS rev, "+h+".json AS metadata";t.a=function(e,t){var n,f=this,p=null,C=function(e){return"size"in e?1e6*e.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}(e),M=[];f._name=e.name;var F=function(e){var t=k.get(e.name);return t||(t=function(e){try{return{db:function(e){return e.websql(e.name,e.version,e.description,e.size)}(e)}}catch(e){return{error:e}}}(e),k.set(e.name,t)),t}(Object(o.b)({},e,{version:1,description:e.name,size:C}));if(F.error)return S(t)(F.error);var q=F.db;function U(e,t){e.executeSql(A),e.executeSql("ALTER TABLE "+y+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(N),e.executeSql("ALTER TABLE "+h+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+h+" (local, id)"),e.executeSql("SELECT "+h+".winningseq AS seq, "+h+".json AS metadata FROM "+y+" JOIN "+h+" ON "+y+".seq = "+h+".winningseq",[],function(e,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var u=n.rows.item(o),s=u.seq,c=JSON.parse(u.metadata);Object(a.b)(c)&&r.push(s),Object(a.c)(c.id)&&i.push(c.id)}e.executeSql("UPDATE "+h+"SET local = 1 WHERE id IN "+E(i.length),i,function(){e.executeSql("UPDATE "+y+" SET deleted = 1 WHERE seq IN "+E(r.length),r,t)})})})})}function B(e,t){e.executeSql("CREATE TABLE IF NOT EXISTS "+m+" (id UNIQUE, rev, json)",[],function(){e.executeSql("SELECT "+h+".id AS id, "+y+".json AS data FROM "+y+" JOIN "+h+" ON "+y+".seq = "+h+".winningseq WHERE local = 1",[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i));!function n(){if(!r.length)return t(e);var i=r.shift(),o=JSON.parse(i.data)._rev;e.executeSql("INSERT INTO "+m+" (id, rev, json) VALUES (?,?,?)",[i.id,o,i.data],function(e){e.executeSql("DELETE FROM "+h+" WHERE id=?",[i.id],function(e){e.executeSql("DELETE FROM "+y+" WHERE seq=?",[i.seq],function(){n()})})})}()})})}function G(e,t){function r(r){!function i(){if(!r.length)return t(e);var o=l(r.shift().hex,n),a=o.lastIndexOf("::"),u=o.substring(0,a),s=o.substring(a+2);e.executeSql("UPDATE "+y+" SET doc_id=?, rev=? WHERE doc_id_rev=?",[u,s,o],function(){i()})}()}e.executeSql("ALTER TABLE "+y+" ADD COLUMN doc_id",[],function(e){e.executeSql("ALTER TABLE "+y+" ADD COLUMN rev",[],function(e){e.executeSql(I,[],function(e){e.executeSql("SELECT hex(doc_id_rev) as hex FROM "+y,[],function(e,t){for(var n=[],i=0;i<t.rows.length;i++)n.push(t.rows.item(i));r(n)})})})})}function Q(e,t){function n(e){e.executeSql("SELECT COUNT(*) AS cnt FROM "+v,[],function(e,n){if(!n.rows.item(0).cnt)return t(e);var r=0;!function n(){var i=O(R+", "+h+".id AS id",[h,y],P,null,h+".id ");i+=" LIMIT 10 OFFSET "+r,r+=10,e.executeSql(i,[],function(e,r){if(!r.rows.length)return t(e);for(var i,o,a,u={},s=0;s<r.rows.length;s++)for(var c=r.rows.item(s),f=w(c.data,c.id,c.rev),l=Object.keys(f._attachments||{}),p=0;p<l.length;p++)o=c.seq,a=void 0,-1===(a=u[i=f._attachments[l[p]].digest]=u[i]||[]).indexOf(o)&&a.push(o);var d=[];if(Object.keys(u).forEach(function(e){u[e].forEach(function(t){d.push([e,t])})}),!d.length)return n();var h=0;d.forEach(function(t){e.executeSql("INSERT INTO "+g+" (digest, seq) VALUES (?,?)",t,function(){++h===d.length&&n()})})})}()})}e.executeSql("CREATE TABLE IF NOT EXISTS "+g+" (digest, seq INTEGER)",[],function(e){e.executeSql(D,[],function(e){e.executeSql(L,[],n)})})}function V(e,t){e.executeSql("ALTER TABLE "+v+" ADD COLUMN escaped TINYINT(1) DEFAULT 0",[],t)}function K(e,t){e.executeSql("ALTER TABLE "+h+" ADD COLUMN max_seq INTEGER",[],function(e){e.executeSql("UPDATE "+h+" SET max_seq=(SELECT MAX(seq) FROM "+y+" WHERE doc_id=id)",[],function(e){e.executeSql("CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+h+" (max_seq)",[],t)})})}function $(){for(;M.length>0;)M.pop()(null,p)}function z(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+b+" (dbid, db_version INTEGER)",r="CREATE TABLE IF NOT EXISTS "+g+" (digest, seq INTEGER)",i="CREATE TABLE IF NOT EXISTS "+h+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",a="CREATE TABLE IF NOT EXISTS "+y+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",u="CREATE TABLE IF NOT EXISTS "+m+" (id UNIQUE, rev, json)";e.executeSql("CREATE TABLE IF NOT EXISTS "+v+" (digest UNIQUE, escaped TINYINT(1), body BLOB)"),e.executeSql(u),e.executeSql(r,[],function(){e.executeSql(L),e.executeSql(D)}),e.executeSql(i,[],function(){e.executeSql(A),e.executeSql(a,[],function(){e.executeSql(N),e.executeSql(I),e.executeSql(n,[],function(){var t="INSERT INTO "+b+" (db_version, dbid) VALUES (?,?)";p=Object(o.y)(),e.executeSql(t,[d,p],function(){$()})})})})}else{var s=[U,B,G,Q,V,K,function(){t<d&&e.executeSql("UPDATE "+b+" SET db_version = "+d),e.executeSql("SELECT dbid FROM "+b,[],function(e,t){p=t.rows.item(0).dbid,$()})}],c=t,f=function(e){s[c-1](e,f),c++};f(e)}}function J(e,t){e.executeSql("SELECT MAX(seq) AS seq FROM "+y,[],function(e,n){var r=n.rows.item(0).seq||0;t(r)})}function Y(e,t){var n=O("COUNT("+h+".id) AS 'num'",[h,y],P,y+".deleted=0");e.executeSql(n,[],function(e,n){t(n.rows.item(0).num)})}"function"!=typeof q.readTransaction&&(q.readTransaction=q.transaction),q.transaction(function(e){!function(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,r){var i=r.rows.item(0).hex;n=2===i.length?"UTF-8":"UTF-16",t()})}(e,function(){!function(e){e.executeSql("SELECT sql FROM sqlite_master WHERE tbl_name = "+b,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+b,[],function(e,t){z(e,t.rows.item(0).db_version)}):e.executeSql("ALTER TABLE "+b+" ADD COLUMN db_version INTEGER",[],function(){z(e,1)}):z(e,0)})}(e)})},S(t),function(){Object(o.l)()&&(window.localStorage["_pouch__websqldb_"+f._name]=!0),t(null,f)}),f._remote=!1,f.type=function(){return"websql"},f._id=Object(o.w)(function(e){e(null,p)}),f._info=function(e){var t,r;q.readTransaction(function(e){J(e,function(e){t=e}),Y(e,function(e){r=e})},S(e),function(){e(null,{doc_count:r,update_seq:t,websql_encoding:n})})},f._bulkDocs=function(t,n,o){!function(e,t,n,o,c,f,l){var p,d=n.new_edits,m=t.docs.map(function(e){return e._id&&Object(a.c)(e._id)?e:Object(a.d)(e,d)}),b=m.filter(function(e){return e.error});if(b.length)return l(b[0]);var w,E=new Array(m.length),k=new r.a;function x(){if(w)return l(w);f.notify(o._name),l(null,E)}function j(e,t,n,r,i,a,c,f){function l(){var t=e.data,n=r?1:0,i=t._id,o=t._rev,a=_(t);function u(e,n){var r=0,i=Object.keys(t._attachments||{});if(!i.length)return n();function o(){return++r===i.length&&n(),!1}for(var a=0;a<i.length;a++)p.executeSql("INSERT INTO "+g+" (digest, seq) VALUES (?,?)",[t._attachments[i[a]].digest,e],o,o)}p.executeSql("INSERT INTO "+y+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",[i,o,a,n],function(e,t){var n=t.insertId;u(n,function(){x(e,n)})},function(){var e=O("seq",y,null,"doc_id=? AND rev=?");return p.executeSql(e,[i,o],function(e,t){var r=t.rows.item(0).seq;e.executeSql("UPDATE "+y+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",[a,n,i,o],function(e){u(r,function(){x(e,r)})})}),!1})}function d(e){m||(e?f(m=e):b===w.length&&l())}var m=null,b=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var w=Object.keys(e.data._attachments||{});function S(e){b++,d(e)}function x(n,r){var a=e.metadata.id,l=e.stemmedRevs||[];i&&o.auto_compaction&&(l=Object(u.c)(e.metadata).concat(l)),l.length&&T(l,a,n),e.metadata.seq=r;var p=e.metadata.rev;delete e.metadata.rev;var d=i?"UPDATE "+h+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+y+" WHERE doc_id="+h+".id AND rev=?) WHERE id=?":"INSERT INTO "+h+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",v=Object(s.b)(e.metadata);n.executeSql(d,i?[v,r,t,a]:[a,r,r,v],function(){E[c]={ok:!0,id:e.metadata.id,rev:p},k.set(a,e.metadata),f()})}r&&(e.data._deleted=!0),w.forEach(function(n){var r=e.data._attachments[n];if(r.stub)b++,d();else{var i=r.data;delete r.data,r.revpos=parseInt(t,10),function(e,t,n){var r="SELECT digest FROM "+v+" WHERE digest=?";p.executeSql(r,[e],function(i,o){if(o.rows.length)return n();var a;i.executeSql(r="INSERT INTO "+v+" (digest, body, escaped) VALUES (?,?,1)",[e,(a=t,a.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01"))],function(){n()},function(){return n(),!1})})}(r.digest,i,S)}}),w.length||l()}function N(){Object(a.f)(e.revs_limit,m,o,k,p,E,j,n)}Object(a.e)(m,"binary",function(e){if(e)return l(e);c.transaction(function(e){p=e,function(e){var t=[];if(m.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)})}),!t.length)return e();var n,r=0;t.forEach(function(o){!function(e,t){p.executeSql("SELECT count(*) as cnt FROM "+v+" WHERE digest=?",[e],function(n,r){if(0===r.rows.item(0).cnt){var o=Object(i.r)(i.j,"unknown stub attachment with digest "+e);t(o)}else t()})}(o,function(i){i&&!n&&(n=i),++r===t.length&&e(n)})})}(function(e){e?w=e:function(e){if(!m.length)return e();var t=0;function n(){++t===m.length&&e()}m.forEach(function(e){if(e._id&&Object(a.c)(e._id))return n();var t=e.metadata.id;p.executeSql("SELECT json FROM "+h+" WHERE id = ?",[t],function(e,r){if(r.rows.length){var i=Object(s.a)(r.rows.item(0).json);k.set(t,i)}n()})})}(N)})},S(l),x)})}(e,t,n,f,q,x,o)},f._get=function(e,t,n){var r,a,c,l,p=t.ctx;if(!p)return q.readTransaction(function(r){f._get(e,Object(o.b)({ctx:r},t),n)});function d(e){n(e,{doc:r,metadata:a,ctx:p})}if(t.rev){if(t.latest)return void function(e,t,n,r,o){var a=O(R,[h,y],P,h+".id=?");e.executeSql(a,[t],function(e,t){if(!t.rows.length){var a=Object(i.r)(i.h,"missing");return o(a)}var c=t.rows.item(0),f=Object(s.a)(c.metadata);r(Object(u.f)(n,f))})}(p,e,t.rev,function(r){t.latest=!1,t.rev=r,f._get(e,t,n)},d);c=O(R,[h,y],h+".id="+y+".doc_id",[y+".doc_id=?",y+".rev=?"]),l=[e,t.rev]}else c=O(R,[h,y],P,h+".id=?"),l=[e];p.executeSql(c,l,function(e,n){if(!n.rows.length)return d(Object(i.r)(i.h,"missing"));var o=n.rows.item(0);if(a=Object(s.a)(o.metadata),o.deleted&&!t.rev)return d(Object(i.r)(i.h,"deleted"));r=w(o.data,a.id,o.rev),d()})},f._allDocs=function(e,t){var n,r,i=[],o="startkey"in e&&e.startkey,a="endkey"in e&&e.endkey,c="key"in e&&e.key,l="keys"in e&&e.keys,p="descending"in e&&e.descending,d="limit"in e?e.limit:-1,v="skip"in e?e.skip:0,m=!1!==e.inclusive_end,b=[],g=[];if(l){var _=[],E="";l.forEach(function(e){-1===_.indexOf(e)&&(_.push(e),E+="?,")}),E=E.substring(0,E.length-1),g.push(h+".id IN ("+E+")"),b=b.concat(_)}else if(!1!==c)g.push(h+".id = ?"),b.push(c);else if(!1!==o||!1!==a){if(!1!==o&&(g.push(h+".id "+(p?"<=":">=")+" ?"),b.push(o)),!1!==a){var T=p?">":"<";m&&(T+="="),g.push(h+".id "+T+" ?"),b.push(a)}!1!==c&&(g.push(h+".id = ?"),b.push(c))}l||g.push(y+".deleted = 0"),q.readTransaction(function(t){if(Y(t,function(e){n=e}),e.update_seq&&J(t,function(e){r=e}),0!==d){var o=O(R,[h,y],P,g,h+".id "+(p?"DESC":"ASC"));t.executeSql(o+=" LIMIT "+d+" OFFSET "+v,b,function(t,n){for(var r=0,o=n.rows.length;r<o;r++){var a=n.rows.item(r),c=Object(s.a)(a.metadata),p=c.id,d=w(a.data,p,a.rev),h=d._rev,y={id:p,key:p,value:{rev:h}};if(e.include_docs){if(y.doc=d,y.doc._rev=h,e.conflicts){var v=Object(u.a)(c);v.length&&(y.doc._conflicts=v)}j(y.doc,e,f,t)}if(a.deleted){if(!l)continue;y.value.deleted=!0,y.doc=null}if(l){var m=l.indexOf(p,m);do{i[m]=y,m=l.indexOf(p,m+1)}while(m>-1&&m<l.length)}else i.push(y)}l&&l.forEach(function(e,t){i[t]||(i[t]={key:e,error:"not_found"})})})}},S(t),function(){var o={total_rows:n,offset:e.skip,rows:i};e.update_seq&&(o.update_seq=r),t(null,o)})},f._changes=function(e){if((e=Object(o.e)(e)).continuous){var t=f._name+":"+Object(o.y)();return x.addListener(f._name,t,f,e),x.notify(f._name),{cancel:function(){x.removeListener(f._name,t)}}}var n=e.descending;e.since=e.since&&!n?e.since:0;var r,i="limit"in e?e.limit:-1;0===i&&(i=1),r="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var a=[],u=0;!function(){var t=h+".json AS metadata, "+h+".max_seq AS maxSeq, "+y+".json AS winningDoc, "+y+".rev AS winningRev ",c=h+" JOIN "+y,l=h+".id="+y+".doc_id AND "+h+".winningseq="+y+".seq",p=["maxSeq > ?"],d=[e.since];e.doc_ids&&(p.push(h+".id IN "+E(e.doc_ids.length)),d=d.concat(e.doc_ids));var v=O(t,c,l,p,"maxSeq "+(n?"DESC":"ASC")),m=Object(o.h)(e);e.view||e.filter||(v+=" LIMIT "+i);var b=e.since||0;q.readTransaction(function(t){t.executeSql(v,d,function(t,n){function o(t){return function(){e.onChange(t)}}for(var c=0,l=n.rows.length;c<l;c++){var p=n.rows.item(c),d=Object(s.a)(p.metadata);b=p.maxSeq;var h=w(p.winningDoc,d.id,p.winningRev),y=e.processChange(h,d,e);y.seq=p.maxSeq;var v=m(y);if("object"==typeof v)return e.complete(v);if(v&&(u++,r&&a.push(y),e.attachments&&e.include_docs?j(h,e,f,t,o(y)):o(y)()),u===i)break}})},S(e.complete),function(){e.continuous||e.complete(null,{results:a,last_seq:b})})}()},f._close=function(e){e()},f._getAttachment=function(e,t,r,i,o){var a,u=r.content_type;i.ctx.executeSql("SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+v+" WHERE digest=?",[r.digest],function(e,t){var r=t.rows.item(0),s=r.escaped?r.body.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"):l(r.body,n);a=i.binary?Object(c.c)(s,u):Object(c.g)(s),o(null,a)})},f._getRevisionTree=function(e,t){q.readTransaction(function(n){n.executeSql("SELECT json AS metadata FROM "+h+" WHERE id = ?",[e],function(e,n){if(n.rows.length){var r=Object(s.a)(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(Object(i.r)(i.h))})})},f._doCompaction=function(e,t,n){if(!t.length)return n();q.transaction(function(n){n.executeSql("SELECT json AS metadata FROM "+h+" WHERE id = ?",[e],function(n,r){var i=Object(s.a)(r.rows.item(0).metadata);Object(u.j)(i.rev_tree,function(e,n,r,i,o){-1!==t.indexOf(n+"-"+r)&&(o.status="missing")}),n.executeSql("UPDATE "+h+" SET json = ? WHERE id = ?",[Object(s.b)(i),e])}),T(t,e,n)},S(n),function(){n()})},f._getLocal=function(e,t){q.readTransaction(function(n){n.executeSql("SELECT json, rev FROM "+m+" WHERE id=?",[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),a=w(o.json,e,o.rev);t(null,a)}else t(Object(i.r)(i.h))})})},f._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r,o=e._rev,a=e._id;r=e._rev=o?"0-"+(parseInt(o.split("-")[1],10)+1):"0-1";var u,s=_(e);function c(e){var c,f;o?(c="UPDATE "+m+" SET rev=?, json=? WHERE id=? AND rev=?",f=[r,s,a,o]):(c="INSERT INTO "+m+" (id, rev, json) VALUES (?,?,?)",f=[a,r,s]),e.executeSql(c,f,function(e,o){o.rowsAffected?(u={ok:!0,id:a,rev:r},t.ctx&&n(null,u)):n(Object(i.r)(i.o))},function(){return n(Object(i.r)(i.o)),!1})}t.ctx?c(t.ctx):q.transaction(c,S(n),function(){u&&n(null,u)})},f._removeLocal=function(e,t,n){var r;function o(o){o.executeSql("DELETE FROM "+m+" WHERE id=? AND rev=?",[e._id,e._rev],function(o,a){if(!a.rowsAffected)return n(Object(i.r)(i.h));r={ok:!0,id:e._id,rev:"0-0"},t.ctx&&n(null,r)})}"function"==typeof t&&(n=t,t={}),t.ctx?o(t.ctx):q.transaction(o,S(n),function(){r&&n(null,r)})},f._destroy=function(e,t){x.removeAllListeners(f._name),q.transaction(function(e){[h,y,v,b,m,g].forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},S(t),function(){Object(o.l)()&&(delete window.localStorage["_pouch__websqldb_"+f._name],delete window.localStorage[f._name]),t(null,{ok:!0})})}}},function(e,t,n){"use strict";(function(t){e.exports=t.openDatabase}).call(t,n(7))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(251),o=n(533),a=n.n(o);function u(e,t){var n=Object(r.b)({db:a.a},e);i.a.call(this,n,t)}u.valid=function(){return!0},u.use_prefix=!1,t.default=function(e){e.adapter("memory",u,!0)}},function(e,t,n){(function(t){var r=n(16),i=n(17).AbstractLevelDOWN,o=n(498),a="put get del batch approximateSize".split(" ");function u(e){i.call(this,""),this._db=e,this._operations=[],this._iterators=[]}function s(e){a.forEach(function(t){e["_"+t]=function(){this._operations.push({method:t,args:arguments})}}),e._iterator=function(e){var t=new o(e);return this._iterators.push(t),t}}r.inherits(u,i),u.prototype._open=function(e,t){var n=this;this._db.open(e,function(e){if(e)return t(e);var r;n._operations.forEach(function(e){n._db[e.method].apply(n._db,e.args)}),n._operations=[],n._iterators.forEach(function(e){e.setDb(n._db)}),n._iterators=[],r=n,a.concat("iterator").forEach(function(e){r["_"+e]=function(){return this._db[e].apply(this._db,arguments)}}),t()})},u.prototype._close=function(e){var t=this;this._db.close(function(n){if(n)return e(n);s(t),e()})},s(u.prototype),u.prototype._isBuffer=function(e){return t.isBuffer(e)},u.prototype._serializeKey=function(e){return e},u.prototype._serializeValue=function(e){return e},e.exports=u,e.exports.DeferredIterator=o}).call(t,n(20).Buffer)},function(e,t,n){var r=n(16),i=n(17).AbstractIterator;function o(e){i.call(this,e),this._options=e,this._iterator=null,this._operations=[]}r.inherits(o,i),o.prototype.setDb=function(e){var t=this._iterator=e.iterator(this._options);this._operations.forEach(function(e){t[e.method].apply(t,e.args)})},o.prototype._operation=function(e,t){if(this._iterator)return this._iterator[e].apply(this._iterator,t);this._operations.push({method:e,args:t})},"next end".split(" ").forEach(function(e){o.prototype["_"+e]=function(){this._operation(e,arguments)}}),e.exports=o},function(e,t,n){var r=n(12),i=n(76).Readable,o=n(75);function a(e,t){if(!(this instanceof a))return new a(e,t);i.call(this,o(t=t||{},{objectMode:!0})),this._iterator=e,this._destroyed=!1,this._options=t,this.on("end",this._cleanup.bind(this))}e.exports=a,r(a,i),a.prototype._read=function(){var e=this,t=this._options;this._destroyed||this._iterator.next(function(n,r,i){if(!e._destroyed)return n?e.emit("error",n):void e.push(void 0===r&&void 0===i?null:!1!==t.keys&&!1===t.values?r:!1===t.keys&&!1!==t.values?i:{key:r,value:i})})},a.prototype.destroy=a.prototype._cleanup=function(){var e=this;this._destroyed||(this._destroyed=!0,this._iterator.end(function(t){if(t)return e.emit("error",t);e.emit("close")}))}},function(e,t){},function(e,t,n){"use strict";var r=n(102).Buffer,i=n(502);e.exports=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)n.data.copy(t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(t,n(7))},function(e,t,n){"use strict";e.exports=o;var r=n(257),i=n(77);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(12),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(145).WriteError,i=n(258);function o(e){this._levelup=e,this.batch=e.db.batch(),this.ops=[],this.length=0}o.prototype.put=function(e,t){try{this.batch.put(e,t)}catch(e){throw new r(e)}return this.ops.push({type:"put",key:e,value:t}),this.length++,this},o.prototype.del=function(e){try{this.batch.del(e)}catch(e){throw new r(e)}return this.ops.push({type:"del",key:e}),this.length++,this},o.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new r(e)}return this.ops=[],this.length=0,this},o.prototype.write=function(e){var t,n=this._levelup,o=this.ops;e||(t=(e=i()).promise);try{this.batch.write(function(t){if(t)return e(new r(t));n.emit("batch",o),e()})}catch(e){throw new r(e)}return t},e.exports=o},function(e,t,n){var r=e.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];e.exports.errno={},e.exports.code={},r.forEach(function(t){e.exports.errno[t.errno]=t,e.exports.code[t.code]=t}),e.exports.custom=n(507)(e.exports),e.exports.create=e.exports.custom.createError},function(e,t,n){var r=n(508);function i(e,t,n){t&&"string"!=typeof t&&(t=t.message||t.name),r(this,{type:e,name:e,cause:"string"!=typeof t?t:n,message:t},"ewr")}function o(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i.call(this,"CustomError",e,t)}o.prototype=new Error,e.exports=function(e){var t=function(t,n){return function(e,t,n){var r=function(n,o){i.call(this,t,n,o),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,r)};return r.prototype=n?new n:new o,r}(e,t,n)};return{CustomError:o,FilesystemError:t("FilesystemError"),createError:t}}},function(e,t){var n;n=function(){var e="function"==typeof Object.defineProperty?function(e,t,n){return Object.defineProperty(e,t,n),e}:function(e,t,n){return e[t]=n.value,e};return function(t,n,r,i){var o;if(i=function(e,t){var n="object"==typeof t,r=!n&&"string"==typeof t,i=function(e){return n?!!t[e]:!!r&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(r,i),"object"==typeof n){for(o in n)Object.hasOwnProperty.call(n,o)&&(i.value=n[o],e(t,o,i));return t}return e(t,n,i)}},"undefined"!=typeof e&&e.exports?e.exports=n():this.prr=n()},function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(16),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,s="foo"===(function(){}).name;function c(e){return Object.prototype.toString.call(e)}function f(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var l=e.exports=m,p=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(o.isFunction(e)){if(s)return e.name;var t=e.toString().match(p);return t&&t[1]}}function h(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(s||!o.isFunction(e))return o.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new l.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function m(e,t){e||v(e,!0,t,"==",l.ok)}function b(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var s=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=g(e),a=g(t);if(i&&!a||!i&&a)return!1;if(i)return b(e=u.call(e),t=u.call(t),n);var s,c,f=E(e),l=E(t);if(f.length!==l.length)return!1;for(f.sort(),l.sort(),c=f.length-1;c>=0;c--)if(f[c]!==l[c])return!1;for(c=f.length-1;c>=0;c--)if(!b(e[s=f[c]],t[s],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var a="string"==typeof r,u=!e&&o.isError(i),s=!e&&i&&!n;if((u&&a&&_(i,n)||s)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}l.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=h(y((t=this).actual),128)+" "+t.operator+" "+h(y(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=d(n),a=i.indexOf("\n"+o);if(a>=0){var u=i.indexOf("\n",a+1);i=i.substring(u+1)}this.stack=i}}},o.inherits(l.AssertionError,Error),l.fail=v,l.ok=m,l.equal=function(e,t,n){e!=t&&v(e,t,n,"==",l.equal)},l.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",l.notEqual)},l.deepEqual=function(e,t,n){b(e,t,!1)||v(e,t,n,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(e,t,n){b(e,t,!0)||v(e,t,n,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(e,t,n){b(e,t,!1)&&v(e,t,n,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},l.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",l.strictEqual)},l.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",l.notStrictEqual)},l.throws=function(e,t,n){w(!0,e,t,n)},l.doesNotThrow=function(e,t,n){w(!1,e,t,n)},l.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(t,n(7))},function(e,t,n){"use strict";var r=n(259),i=n.n(r),o=n(12),a=n.n(o),u=n(29),s=n.n(u),c=n(76),f=n.n(c),l=n(260),p=n.n(l);function d(e){return"function"==typeof e.prefix?e.prefix():e}function h(){Error.call(this)}a()(h,Error),h.prototype.name="NotFoundError";var y=s.a.EventEmitter,v=new h,m=function(e,t,n,r){var i=new y;function o(e){var t,n={};if(r)for(t in r)"undefined"!=typeof r[t]&&(n[t]=r[t]);if(e)for(t in e)"undefined"!=typeof e[t]&&(n[t]=e[t]);return n}return i.sublevels={},i.options=r,i.version="6.5.4",i.methods={},t=t||[],i.put=function(n,r,a,u){"function"==typeof a&&(u=a,a={}),e.apply([{key:n,value:r,prefix:t.slice(),type:"put"}],o(a),function(e){if(e)return u(e);i.emit("put",n,r),u(null)})},i.prefix=function(){return t.slice()},i.batch=function(n,r,a){"function"==typeof r&&(a=r,r={}),n=n.map(function(e){return{key:e.key,value:e.value,prefix:e.prefix||t,keyEncoding:e.keyEncoding,valueEncoding:e.valueEncoding,type:e.type}}),e.apply(n,o(r),function(e){if(e)return a(e);i.emit("batch",n),a(null)})},i.get=function(n,r,i){"function"==typeof r&&(i=r,r={}),e.get(n,t,o(r),function(e,t){e?i(v):i(null,t)})},i.sublevel=function(r,a){return i.sublevels[r]=i.sublevels[r]||m(e,t.concat(r),n,o(a))},i.readStream=i.createReadStream=function(r){var i;(r=o(r)).prefix=t;var a=e.iterator(r);return(i=n(r,e.createDecoder(r))).setIterator(a),i},i.close=function(t){e.close(t)},i.isOpen=e.isOpen,i.isClosed=e.isClosed,i},b=f.a.Readable;function g(e,t){if(!(this instanceof g))return new g(e,t);b.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this._waiting=!1,this._options=e,this._makeData=t}a()(g,b),g.prototype.setIterator=function(e){return this._iterator=e,this._destroyed?e.end(function(){}):this._waiting?(this._waiting=!1,this._read()):this},g.prototype._read=function(){var e=this;if(!e._destroyed)return e._iterator?void e._iterator.next(function(t,n,r){if(t||void 0===n&&void 0===r)return t||e._destroyed||e.push(null),e._cleanup(t);r=e._makeData(n,r),e._destroyed||e.push(r)}):this._waiting=!0},g.prototype._cleanup=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;e&&"iterator has ended"!==e.message&&t.emit("error",e),t._iterator?t._iterator.end(function(){t._iterator=null,t.emit("close")}):t.emit("close")}},g.prototype.destroy=function(){this._cleanup()};var _={encode:function(e){return"\xff"+e[0]+"\xff"+e[1]},decode:function(e){var t=e.toString(),n=t.indexOf("\xff",1);return[t.substring(1,n),t.substring(n+1)]},lowerBound:"\0",upperBound:"\xff"},w=new p.a;t.a=function(e){return m(function(e,t,n){function r(e,r,i,o){return t.encode([e,n.encodeKey(r,i,o)])}function o(e,t){return t&&t.options&&(e.keyEncoding=e.keyEncoding||t.options.keyEncoding,e.valueEncoding=e.valueEncoding||t.options.valueEncoding),e}return e.open(function(){}),{apply:function(t,i,a){i=i||{};for(var u=[],s=-1,c=t.length;++s<c;){var f=t[s];o(f,f.prefix),f.prefix=d(f.prefix),u.push({key:r(f.prefix,f.key,i,f),value:"del"!==f.type&&n.encodeValue(f.value,i,f),type:f.type})}e.db.batch(u,i,a)},get:function(t,i,o,a){return o.asBuffer=n.valueAsBuffer(o),e.db.get(r(i,t,o),o,function(e,t){e?a(e):a(null,n.decodeValue(t,o))})},createDecoder:function(e){return function(r,i){return{key:n.decodeKey(t.decode(r)[1],e),value:n.decodeValue(i,e)}}},isClosed:function(){return e.isClosed()},close:function(t){return e.close(t)},iterator:function(o){var a,u=function(e){var t={};for(var n in e)t[n]=e[n];return t}(o||{}),s=o.prefix||[];return i.a.toLtgt(o,u,function(e){return r(s,e,u,{})},t.lowerBound,t.upperBound),u.prefix=null,u.keyAsBuffer=u.valueAsBuffer=!1,"number"!=typeof u.limit&&(u.limit=-1),u.keyAsBuffer=t.buffer,u.valueAsBuffer=n.valueAsBuffer(u),a=e.db.iterator(u),{next:function(e){return a.next(e)},end:function(e){a.end(e)}}}}}(e,_,w),[],g,e.options)}},function(e,t,n){(function(e){function n(e){return e}function r(t){return void 0===t||null===t||e.isBuffer(t)}t.utf8=t["utf-8"]={encode:function(e){return r(e)?e:String(e)},decode:function(e){return"string"==typeof e?e:String(e)},buffer:!1,type:"utf8"},t.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},t.binary={encode:function(t){return r(t)?t:new e(t)},decode:n,buffer:!0,type:"binary"},t.none={encode:n,decode:n,buffer:!1,type:"id"},t.id=t.none,["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach(function(n){t[n]={encode:function(t){return r(t)?t:new e(t,n)},decode:function(e){return e.toString(n)},buffer:!0,type:n}})}).call(t,n(20).Buffer)},function(e,t,n){"use strict";function r(e){if(this._capacity=o(e),this._length=0,this._front=0,i(e)){for(var t=e.length,n=0;n<t;++n)this[n]=e[n];this._length=t}}r.prototype.toArray=function(){for(var e=this._length,t=new Array(e),n=this._front,r=this._capacity,i=0;i<e;++i)t[i]=this[n+i&r-1];return t},r.prototype.push=function(e){var t=arguments.length,n=this._length;if(t>1){var r=this._capacity;if(n+t>r){for(var i=0;i<t;++i)this._checkCapacity(n+1),this[o=this._front+n&this._capacity-1]=arguments[i],this._length=++n;return n}var o=this._front;for(i=0;i<t;++i)this[o+n&r-1]=arguments[i],o++;return this._length=n+t,n+t}return 0===t?n:(this._checkCapacity(n+1),this[i=this._front+n&this._capacity-1]=e,this._length=n+1,n+1)},r.prototype.pop=function(){var e=this._length;if(0!==e){var t=this._front+e-1&this._capacity-1,n=this[t];return this[t]=void 0,this._length=e-1,n}},r.prototype.shift=function(){var e=this._length;if(0!==e){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length=e-1,n}},r.prototype.unshift=function(e){var t=this._length,n=arguments.length;if(n>1){if(t+n>(i=this._capacity)){for(var r=n-1;r>=0;r--){var i;this._checkCapacity(t+1),this[a=(this._front-1&(i=this._capacity)-1^i)-i]=arguments[r],this._length=++t,this._front=a}return t}var o=this._front;for(r=n-1;r>=0;r--){var a;this[a=(o-1&i-1^i)-i]=arguments[r],o=a}return this._front=o,this._length=t+n,t+n}return 0===n?t:(this._checkCapacity(t+1),this[r=(this._front-1&(i=this._capacity)-1^i)-i]=e,this._length=t+1,this._front=r,t+1)},r.prototype.peekBack=function(){var e=this._length;if(0!==e)return this[this._front+e-1&this._capacity-1]},r.prototype.peekFront=function(){if(0!==this._length)return this[this._front]},r.prototype.get=function(e){var t=e;if(t===(0|t)){var n=this._length;if(t<0&&(t+=n),!(t<0||t>=n))return this[this._front+t&this._capacity-1]}},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.clear=function(){for(var e=this._length,t=this._front,n=this._capacity,r=0;r<e;++r)this[t+r&n-1]=void 0;this._length=0,this._front=0},r.prototype.valueOf=r.prototype.toString=function(){return this.toArray().toString()},r.prototype.removeFront=r.prototype.shift,r.prototype.removeBack=r.prototype.pop,r.prototype.insertFront=r.prototype.unshift,r.prototype.insertBack=r.prototype.push,r.prototype.enqueue=r.prototype.push,r.prototype.dequeue=r.prototype.shift,r.prototype.toJSON=r.prototype.toArray,Object.defineProperty(r.prototype,"length",{get:function(){return this._length},set:function(){throw new RangeError("")}}),r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(o(1.5*this._capacity+16))},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,r=this._length;n+r>t&&function(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+0],e[o+0]=void 0}(this,0,this,t,n+r&t-1)};var i=Array.isArray;function o(e){if("number"!=typeof e){if(!i(e))return 16;e=e.length}return t=Math.min(Math.max(16,e),1073741824),t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,1+((t|=t>>8)|t>>16);var t}e.exports=r},function(e,t,n){(function(t){var r=n(514),i="function"==typeof t.alloc&&"function"==typeof t.allocUnsafe&&"function"==typeof t.from;e.exports=function(e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return r(e)?function(e,n,r){var o=e.byteLength-(n>>>=0);if(o<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=o;else if((r>>>=0)>o)throw new RangeError("'length' is out of bounds");return i?t.from(e.slice(n,n+r)):new t(new Uint8Array(e.slice(n,n+r)))}(e,n,o):"string"==typeof e?function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return i?t.from(e,n):new t(e,n)}(e,n):i?t.from(e):new t(e)}}).call(t,n(20).Buffer)},function(e,t,n){"use strict";var r,i,o=n(146),a=n(515),u="function"==typeof ArrayBuffer,s=!1;if(u){if(n(268)){var c=n(519)(ArrayBuffer.prototype,"byteLength");if(c&&"function"==typeof c.get){var f=o(function(){return new ArrayBuffer(4)});!1===f.threw&&a(f.value)&&(f=o.call(f.value,c.get),s=!1===f.threw&&"number"==typeof f.value&&c.get)}}!1===s&&(r=n(266),i="[object ArrayBuffer]")}e.exports=function(e){if(!1===u||!1===a(e))return!1;if(!1===s)return r(e)===i;var t=o.call(e,s);return!1===t.threw&&"number"==typeof t.value}},function(e,t,n){"use strict";var r=n(263),i=n(103);e.exports=function(e){return!1===i(e)&&!1===r(e,!0)}},function(e,t,n){"use strict";var r=n(269),i=r.trim2016,o=r.trim2018,a=n(33).RegExp,u=n(79),s=new a("["+u.string2016+"]+","g"),c=new a("["+u.string2018+"]+","g"),f="".replace,l=function(e){return f.call(o(e),c," ")};e.exports={normalizeSpace:l,normalizeSpace2016:function(e){return f.call(i(e),s," ")},normalizeSpace2018:l}},function(e,t,n){"use strict";var r=n(149),i=n(33).RegExp,o=new i("["+n(79).string2016+"]+$"),a=new i("["+n(79).string2018+"]+$"),u="".replace,s=function(e){return u.call(r(e),a,"")};e.exports={trimRight:s,trimRight2016:function(e){return u.call(r(e),o,"")},trimRight2018:s}},function(e,t,n){"use strict";var r=n(104),i=n(149),o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,a="".replace;e.exports=function(e){return a.call(i(e),o,arguments.length>1?r(arguments[1]):"")}},function(e,t,n){"use strict";var r,i,o,a=n(152),u=n(153),s=n(265),c=n(146),f="function"==typeof Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor,l=function(e,t){e[u(t)]=0;var n=c(f,e,t);return!1===n.threw&&0===n.value.value};if(f){var p="undefined"!=typeof document&&document;if(!p||l(p.createElement("div"),"sentinel")){var d=c(f,Object("abc"),1);if(!1===d.threw&&d.value&&"b"===d.value.value)if(l({},"sentinel")){var h=!1===c(f,42,"name").threw;o=n(78)&&l({},Object(Symbol("")))?h?f:function(e,t){return f(a(e),t)}:h?function(e,t){return f(e,u(t))}:function(e,t){return f(a(e),u(t))}}else r=f;else i=f}}if(s(o)||r||i){var y,v,m=n(521),b=n(103),g=n(522),_=n(523),w=n(532),E=Object.prototype,O=m(E,"__defineGetter__");if(O){var T=E.__lookupGetter__,S=E.__lookupSetter__;y=function(e,t){return T.call(e,t)},v=function(e,t){return S.call(e,t)}}o=function(e,t){var n,o=a(e),s=u(t);if(r&&!1===(n=c.call(Object,r,o,s)).threw)return n.value;var f,l=g(o)&&_(s,o.length);if(i&&!1===l&&!1===(n=c.call(Object,i,o,s)).threw)return n.value;if(!1===l&&!1===m(o,s))return f;if(f={configurable:!1===b(e)&&!1===l,enumerable:w(o,s)},O){var p=o.__proto__,d=o!==E;d&&(o.__proto__=E);var h=y(o,s),T=v(o,s);if(d&&(o.__proto__=p),h||T)return h&&(f.get=h),T&&(f.set=T),f}return l?(f.value=o.charAt(s),f.writable=!1):(f.value=o[s],f.writable=!0),f}}e.exports=o},function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,n){"use strict";var r=n(152),i=n(153),o=n(33).Object.prototype.hasOwnProperty;e.exports=function(e,t){return o.call(r(e),i(t))}},function(e,t,n){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===i.call(e))}},function(e,t,n){"use strict";var r=n(524),i=n(525).toInteger2018,o=n(105).toNumber2018,a=n(530),u=n(531),s=/^(?:0|[1-9]\d*)$/,c=s.test;e.exports=function(e){var t=r(e);if(!1===c.call(s,t))return!1;var n=o(t);return arguments.length>1?n<a(i(arguments[1]),u):n<u}},function(e,t,n){"use strict";var r=n(33).String,i=n(78)&&Symbol.prototype.toString,o="function"==typeof i&&n(151);e.exports=function(e){return o&&o(e)?i.call(e):r(e)}},function(e,t,n){"use strict";var r=n(105),i=r.toNumber2016,o=r.toNumber2018,a=n(154),u=n(527),s=n(529),c=s.sign2016,f=s.sign2018,l=Math.floor,p=Math.abs,d=function(e){var t=o(e);return a(t)?0:0===t||!1===u(t)?t:f(t)*l(p(t))};e.exports={toInteger:d,toInteger2016:function(e){var t=i(e);return a(t)?0:0===t||!1===u(t)?t:c(t)*l(p(t))},toInteger2018:d}},function(e,t,n){"use strict";var r=parseInt,i=n(272),o=n(104),a=n(148).trimLeft2016,u=n(148).trimLeft2018,s=n(33),c=s.Number,f=s.String.prototype.charAt,l=/^[-+]?0[xX]/,p=l.test,d=function(e,t){var n=u(o(e));return"\u180e"===f.call(n,0)?i:r(n,c(t)||(p.call(l,n)?16:10))};e.exports={parseInt:d,parseInt2016:function(e,t){var n=a(o(e));return r(n,c(t)||(p.call(l,n)?16:10))},parseInt2018:d}},function(e,t,n){"use strict";var r=n(154),i=n(528);e.exports=function(e){return"number"==typeof e&&!1===r(e)&&e!==i&&e!==-i}},function(e,t,n){"use strict";e.exports=1/0},function(e,t,n){"use strict";var r=n(105),i=r.toNumber2016,o=r.toNumber2018,a=n(154),u=function(e){var t=o(e);return 0===t||a(t)?t:t>0?1:-1};e.exports={sign:u,sign2016:function(e){var t=i(e);return 0===t||a(t)?t:t>0?1:-1},sign2018:u}},function(e,t,n){"use strict";var r=n(105).toNumber2018;e.exports=function(e){var t=r(e),n=arguments.length;if(n<2)return t;var i,o=r(arguments[1]);if(n<3?(i=o,o=0):i=r(arguments[2]),o>i)throw new RangeError('"min" must be less than "max"');return t<o?o:t>i?i:t}},function(e,t,n){"use strict";e.exports=9007199254740991},function(e,t,n){"use strict";var r=n(153),i=n(152),o=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return o.call(i(e),r(t))}},function(e,t,n){(function(t){var r=n(12),i=n(17).AbstractLevelDOWN,o=n(17).AbstractIterator,a=n(259),u=n(534),s={},c=n(535);function f(e){return a.compare(e,this._end)>0}function l(e){return a.compare(e,this._end)>=0}function p(e){return a.compare(e,this._end)<0}function d(e){return a.compare(e,this._end)<=0}function h(e,t){o.call(this,e),this._limit=t.limit,-1===this._limit&&(this._limit=1/0);var n=e._store[e._location];this.keyAsBuffer=!1!==t.keyAsBuffer,this.valueAsBuffer=!1!==t.valueAsBuffer,this._reverse=t.reverse,this._options=t,this._done=0,this._reverse?(this._incr="prev",this._start=a.upperBound(t),this._end=a.lowerBound(t),this._tree="undefined"==typeof this._start?n.end:a.upperBoundInclusive(t)?n.le(this._start):n.lt(this._start),this._end&&(this._test=a.lowerBoundInclusive(t)?l:f)):(this._incr="next",this._start=a.lowerBound(t),this._end=a.upperBound(t),this._tree="undefined"==typeof this._start?n.begin:a.lowerBoundInclusive(t)?n.ge(this._start):n.gt(this._start),this._end&&(this._test=a.upperBoundInclusive(t)?d:p))}function y(e){if(!(this instanceof y))return new y(e);i.call(this,"string"==typeof e?e:""),this._location=this.location?"$"+this.location:"_tree",this._store=this.location?s:this,this._store[this._location]=this._store[this._location]||u(a.compare)}r(h,o),h.prototype._next=function(e){var n,r;return this._done++>=this._limit?c(e):this._tree.valid?(r=this._tree.value,this._test(n=this._tree.key)?(this.keyAsBuffer&&(n=new t(n)),this.valueAsBuffer&&(r=new t(r)),this._tree[this._incr](),void c(function(){e(null,n,r)})):c(e)):c(e)},h.prototype._test=function(){return!0},y.clearGlobalStore=function(e){e?Object.keys(s).forEach(function(e){delete s[e]}):s={}},r(y,i),y.prototype._open=function(e,t){var n=this;c(function(){t(null,n)})},y.prototype._put=function(e,t,n,r){"undefined"!=typeof t&&null!==t||(t="");var i=this._store[this._location].find(e);this._store[this._location]=i.valid?i.update(t):this._store[this._location].insert(e,t),c(r)},y.prototype._get=function(e,n,r){var i=this._store[this._location].get(e);if("undefined"==typeof i)return c(function(){r(new Error("NotFound"))});!1===n.asBuffer||this._isBuffer(i)||(i=new t(String(i))),c(function(){r(null,i)})},y.prototype._del=function(e,t,n){this._store[this._location]=this._store[this._location].remove(e),c(n)},y.prototype._batch=function(e,t,n){for(var r,i,o,a=-1,u=e.length,s=this._store[this._location];++a<u;)e[a]&&(r=this._isBuffer(e[a].key)?e[a].key:String(e[a].key),o=s.find(r),"put"===e[a].type?(i=this._isBuffer(e[a].value)?e[a].value:String(e[a].value),s=o.valid?o.update(i):s.insert(r,i)):s=o.remove());this._store[this._location]=s,c(n)},y.prototype._iterator=function(e){return new h(this,e)},y.prototype._isBuffer=function(e){return t.isBuffer(e)},y.destroy=function(e,t){var n="$"+e;n in s&&delete s[n],c(t)},e.exports=y}).call(t,n(20).Buffer)},function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._color=e,this.key=t,this.value=n,this.left=r,this.right=i,this._count=o}function i(e){return new r(e._color,e.key,e.value,e.left,e.right,e._count)}function o(e,t){return new r(e,t.key,t.value,t.left,t.right,t._count)}function a(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function u(e,t){this._compare=e,this.root=t}e.exports=function(e){return new u(e||p,null)};var s=u.prototype;function c(e,t){this.tree=e,this._stack=t}Object.defineProperty(s,"keys",{get:function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e}}),Object.defineProperty(s,"values",{get:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e}}),Object.defineProperty(s,"length",{get:function(){return this.root?this.root._count:0}}),s.insert=function(e,t){for(var n=this._compare,i=this.root,s=[],c=[];i;){var f=n(e,i.key);s.push(i),c.push(f),i=f<=0?i.left:i.right}s.push(new r(0,e,t,null,null,1));for(var l=s.length-2;l>=0;--l)i=s[l],s[l]=c[l]<=0?new r(i._color,i.key,i.value,s[l+1],i.right,i._count+1):new r(i._color,i.key,i.value,i.left,s[l+1],i._count+1);for(l=s.length-1;l>1;--l){var p=s[l-1];if(i=s[l],1===p._color||1===i._color)break;var d=s[l-2];if(d.left===p)if(p.left===i){if(!(h=d.right)||0!==h._color){d._color=0,d.left=p.right,p._color=1,p.right=d,s[l-2]=p,s[l-1]=i,a(d),a(p),l>=3&&((y=s[l-3]).left===d?y.left=p:y.right=p);break}p._color=1,d.right=o(1,h),d._color=0,l-=1}else{if(!(h=d.right)||0!==h._color){p.right=i.left,d._color=0,d.left=i.right,i._color=1,i.left=p,i.right=d,s[l-2]=i,s[l-1]=p,a(d),a(p),a(i),l>=3&&((y=s[l-3]).left===d?y.left=i:y.right=i);break}p._color=1,d.right=o(1,h),d._color=0,l-=1}else if(p.right===i){if(!(h=d.left)||0!==h._color){d._color=0,d.right=p.left,p._color=1,p.left=d,s[l-2]=p,s[l-1]=i,a(d),a(p),l>=3&&((y=s[l-3]).right===d?y.right=p:y.left=p);break}p._color=1,d.left=o(1,h),d._color=0,l-=1}else{var h;if(!(h=d.left)||0!==h._color){var y;p.left=i.right,d._color=0,d.right=i.left,i._color=1,i.right=p,i.left=d,s[l-2]=i,s[l-1]=p,a(d),a(p),a(i),l>=3&&((y=s[l-3]).right===d?y.right=i:y.left=i);break}p._color=1,d.left=o(1,h),d._color=0,l-=1}}return s[0]._color=1,new u(n,s[0])},s.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return function e(t,n){var r;return n.left&&(r=e(t,n.left))?r:(r=t(n.key,n.value))||(n.right?e(t,n.right):void 0)}(e,this.root);case 2:return function e(t,n,r,i){if(n(t,i.key)<=0){var o;if(i.left&&(o=e(t,n,r,i.left)))return o;if(o=r(i.key,i.value))return o}if(i.right)return e(t,n,r,i.right)}(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return function e(t,n,r,i,o){var a,u=r(t,o.key),s=r(n,o.key);if(u<=0){if(o.left&&(a=e(t,n,r,i,o.left)))return a;if(s>0&&(a=i(o.key,o.value)))return a}if(s>0&&o.right)return e(t,n,r,i,o.right)}(t,n,this._compare,e,this.root)}},Object.defineProperty(s,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new c(this,e)}}),Object.defineProperty(s,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new c(this,e)}}),s.at=function(e){if(e<0)return new c(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new c(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new c(this,[])},s.ge=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<=0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new c(this,r)},s.gt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new c(this,r)},s.lt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new c(this,r)},s.le=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>=0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new c(this,r)},s.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var i=t(e,n.key);if(r.push(n),0===i)return new c(this,r);n=i<=0?n.left:n.right}return new c(this,[])},s.remove=function(e){var t=this.find(e);return t?t.remove():this},s.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var f=c.prototype;function l(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function p(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(f,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(f,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),f.clone=function(){return new c(this.tree,this._stack.slice())},f.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var t=new Array(e.length);t[t.length-1]=new r((s=e[e.length-1])._color,s.key,s.value,s.left,s.right,s._count);for(var n=e.length-2;n>=0;--n){var s;t[n]=(s=e[n]).left===e[n+1]?new r(s._color,s.key,s.value,t[n+1],s.right,s._count):new r(s._color,s.key,s.value,s.left,t[n+1],s._count)}if((s=t[t.length-1]).left&&s.right){var c=t.length;for(s=s.left;s.right;)t.push(s),s=s.right;var f=t[c-1];for(t.push(new r(s._color,f.key,f.value,s.left,s.right,s._count)),t[c-1].key=s.key,t[c-1].value=s.value,n=t.length-2;n>=c;--n)t[n]=new r((s=t[n])._color,s.key,s.value,s.left,t[n+1],s._count);t[c-1].left=t[c]}if(0===(s=t[t.length-1])._color){var p=t[t.length-2];for(p.left===s?p.left=null:p.right===s&&(p.right=null),t.pop(),n=0;n<t.length;++n)t[n]._count--;return new u(this.tree._compare,t[0])}if(s.left||s.right){for(s.left?l(s,s.left):s.right&&l(s,s.right),s._color=1,n=0;n<t.length-1;++n)t[n]._count--;return new u(this.tree._compare,t[0])}if(1===t.length)return new u(this.tree._compare,null);for(n=0;n<t.length;++n)t[n]._count--;var d=t[t.length-2];return function(e){for(var t,n,r,u,s=e.length-1;s>=0;--s){if(t=e[s],0===s)return void(t._color=1);if((n=e[s-1]).left===t){if((r=n.right).right&&0===r.right._color)return u=(r=n.right=i(r)).right=i(r.right),n.right=r.left,r.left=n,r.right=u,r._color=n._color,t._color=1,n._color=1,u._color=1,a(n),a(r),s>1&&((c=e[s-2]).left===n?c.left=r:c.right=r),void(e[s-1]=r);if(r.left&&0===r.left._color)return u=(r=n.right=i(r)).left=i(r.left),n.right=u.left,r.left=u.right,u.left=n,u.right=r,u._color=n._color,n._color=1,r._color=1,t._color=1,a(n),a(r),a(u),s>1&&((c=e[s-2]).left===n?c.left=u:c.right=u),void(e[s-1]=u);if(1===r._color){if(0===n._color)return n._color=1,void(n.right=o(0,r));n.right=o(0,r);continue}r=i(r),n.right=r.left,r.left=n,r._color=n._color,n._color=0,a(n),a(r),s>1&&((c=e[s-2]).left===n?c.left=r:c.right=r),e[s-1]=r,e[s]=n,s+1<e.length?e[s+1]=t:e.push(t),s+=2}else{if((r=n.left).left&&0===r.left._color)return u=(r=n.left=i(r)).left=i(r.left),n.left=r.right,r.right=n,r.left=u,r._color=n._color,t._color=1,n._color=1,u._color=1,a(n),a(r),s>1&&((c=e[s-2]).right===n?c.right=r:c.left=r),void(e[s-1]=r);if(r.right&&0===r.right._color)return u=(r=n.left=i(r)).right=i(r.right),n.left=u.right,r.right=u.left,u.right=n,u.left=r,u._color=n._color,n._color=1,r._color=1,t._color=1,a(n),a(r),a(u),s>1&&((c=e[s-2]).right===n?c.right=u:c.left=u),void(e[s-1]=u);if(1===r._color){if(0===n._color)return n._color=1,void(n.left=o(0,r));n.left=o(0,r);continue}var c;r=i(r),n.left=r.right,r.right=n,r._color=n._color,n._color=0,a(n),a(r),s>1&&((c=e[s-2]).right===n?c.right=r:c.left=r),e[s-1]=r,e[s]=n,s+1<e.length?e[s+1]=t:e.push(t),s+=2}}}(t),d.left===s?d.left=null:d.right=null,new u(this.tree._compare,t[0])},Object.defineProperty(f,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(f,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(f,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),f.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(f,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),f.update=function(e){var t=this._stack;if(0===t.length)throw new Error("Can't update empty node!");var n=new Array(t.length),i=t[t.length-1];n[n.length-1]=new r(i._color,i.key,e,i.left,i.right,i._count);for(var o=t.length-2;o>=0;--o)n[o]=(i=t[o]).left===t[o+1]?new r(i._color,i.key,i.value,n[o+1],i.right,i._count):new r(i._color,i.key,i.value,i.left,n[o+1],i._count);return new u(this.tree._compare,n[0])},f.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(f,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},function(e,t,n){e.exports=n(110)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(247),i=n.n(r),o=n(248),a=n.n(o),u=n(56),s=n(537),c=n.n(s),f=n(261),l=(n.n(f),n(542)),p=n.n(l),d=n(11),h=n(251),y=function(){try{return n(155)}catch(e){return"MODULE_NOT_FOUND"===(e=e||"leveldown import error").code?new Error(["the 'leveldown' package is not available. install it, or,","specify another storage backend using the 'db' option"].join(" ")):e.message&&e.message.match("Module version mismatch")?new Error([e.message,"This generally implies that leveldown was built with a different","version of node than that which is running now.  You may try","fully removing and reinstalling PouchDB or leveldown to resolve."].join(" ")):new Error(e.toString()+": unable to import leveldown")}},v=["document-store","by-sequence","attach-store","attach-binary-store"];function m(e){return("0000000000000000"+e).slice(-16)}var b={doMigrationOne:function(e,t,r){var o=n(155),u=a.a.resolve(e);i.a.unlink(u+".uuid",function(e){if(e)return r();var n=4,s=[];v.forEach(function(e,f){!function(e,f,l){var d,h=a.a.join(u,e),y=t.sublevel(e,d=3===f?{valueEncoding:"binary"}:{valueEncoding:"json"}),v=c()(h,d),m=v.createReadStream(),b=new p.a(y)();m.on("end",function(){v.close(function(e){!function(e,t){if(e)return r(e);s.push(t),--n||s.forEach(function(e){o.destroy(e,function(){++n===s.length&&i.a.rmdir(u,r)})})}(e,h)})}),m.pipe(b)}(e,f)})})},doMigrationTwo:function(e,t,n){var r=[];t.bySeqStore.get("_local_uuid",function(i,o){if(i)return n();r.push({key:"_local_uuid",value:o,prefix:t.metaStore,type:"put",valueEncoding:"json"}),r.push({key:"_local_uuid",prefix:t.bySeqStore,type:"del"}),t.bySeqStore.get("_local_doc_count",function(i,o){o&&(r.push({key:"_local_doc_count",value:o,prefix:t.metaStore,type:"put",valueEncoding:"json"}),r.push({key:"_local_doc_count",prefix:t.bySeqStore,type:"del"})),t.bySeqStore.get("_local_last_update_seq",function(i,o){o&&(r.push({key:"_local_last_update_seq",value:o,prefix:t.metaStore,type:"put",valueEncoding:"json"}),r.push({key:"_local_last_update_seq",prefix:t.bySeqStore,type:"del"}));var a={};t.docStore.createReadStream({startKey:"_",endKey:"_\xff"}).pipe(Object(f.obj)(function(e,n,i){if(!Object(u.e)(e.key))return i();r.push({key:e.key,prefix:t.docStore,type:"del"});var o=Object(u.k)(e.value);Object.keys(e.value.rev_map).forEach(function(t){"winner"!==t&&this.push(m(e.value.rev_map[t]))},this),t.bySeqStore.get(m(e.value.rev_map[o]),function(n,o){n||r.push({key:e.key,value:o,prefix:t.localStore,type:"put",valueEncoding:"json"}),i()})})).pipe(Object(f.obj)(function(e,n,i){if(a[e])return i();a[e]=!0,t.bySeqStore.get(e,function(n,o){if(n||!Object(u.e)(o._id))return i();r.push({key:e,prefix:t.bySeqStore,type:"del"}),i()})},function(){e.batch(r,n)}))})})})}};function g(e,t){var n=e.db;if(!n&&(n=y())instanceof Error)return t(n);var r=Object(d.b)({db:n,migrate:b},e);h.a.call(this,r,t)}g.valid=function(){return!0},g.use_prefix=!1,t.default=function(e){e.adapter("leveldb",g,!0)}},function(e,t,n){e.exports=n(538)(n(155))},function(e,t,n){const r=n(252),i=n(539);e.exports=function(e){function t(t,n,o){return"function"==typeof n&&(o=n),"object"==typeof n&&null!==n||(n={}),r(i(e(t),n),n,o)}return["destroy","repair"].forEach(function(n){"function"==typeof e[n]&&(t[n]=function(t,r){e[n](t,r||function(){})})}),t.errors=r.errors,t}},function(e,t,n){"use strict";var r=n(17).AbstractLevelDOWN,i=n(17).AbstractChainedBatch,o=n(17).AbstractIterator,a=n(16).inherits,u=n(260),s=n(145).EncodingError;function c(e,t){if(!(this instanceof c))return new c(e,t);r.call(this,""),"undefined"==typeof(t=t||{}).keyEncoding&&(t.keyEncoding="utf8"),"undefined"==typeof t.valueEncoding&&(t.valueEncoding="utf8"),this.db=e,this.codec=new u(t)}function f(e,t){o.call(this,e),this.codec=e.codec,this.keys=t.keys,this.values=t.values,this.opts=this.codec.encodeLtgt(t),this.it=e.db.iterator(this.opts)}function l(e,t){i.call(this,e),this.codec=e.codec,this.batch=e.db.batch()}e.exports=c.default=c,a(c,r),c.prototype._serializeKey=c.prototype._serializeValue=function(e){return e},c.prototype._open=function(e,t){this.db.open(e,t)},c.prototype._close=function(e){this.db.close(e)},c.prototype._put=function(e,t,n,r){e=this.codec.encodeKey(e,n),t=this.codec.encodeValue(t,n),this.db.put(e,t,n,r)},c.prototype._get=function(e,t,n){var r=this;e=this.codec.encodeKey(e,t),t.asBuffer=this.codec.valueAsBuffer(t),this.db.get(e,t,function(e,i){if(e)return n(e);try{i=r.codec.decodeValue(i,t)}catch(e){return n(new s(e))}n(null,i)})},c.prototype._del=function(e,t,n){e=this.codec.encodeKey(e,t),this.db.del(e,t,n)},c.prototype._chainedBatch=function(){return new l(this)},c.prototype._batch=function(e,t,n){e=this.codec.encodeBatch(e,t),this.db.batch(e,t,n)},c.prototype._iterator=function(e){return e.keyAsBuffer=this.codec.keyAsBuffer(e),e.valueAsBuffer=this.codec.valueAsBuffer(e),new f(this,e)},c.prototype.approximateSize=function(e,t,n,r){return this.db.approximateSize(e,t,n,r)},a(f,o),f.prototype._next=function(e){var t=this;this.it.next(function(n,r,i){if(n)return e(n);try{r=t.keys&&"undefined"!=typeof r?t.codec.decodeKey(r,t.opts):void 0,i=t.values&&"undefined"!=typeof i?t.codec.decodeValue(i,t.opts):void 0}catch(n){return e(new s(n))}e(null,r,i)})},f.prototype._end=function(e){this.it.end(e)},a(l,i),l.prototype._put=function(e,t){e=this.codec.encodeKey(e),t=this.codec.encodeValue(t),this.batch.put(e,t)},l.prototype._del=function(e){e=this.codec.encodeKey(e),this.batch.del(e)},l.prototype._clear=function(){this.batch.clear()},l.prototype._write=function(e,t){this.batch.write(e,t)}},function(e,t,n){const r=n(16),i=n(17).AbstractChainedBatch;function o(e){i.call(this,e),this.binding=e.binding.batch()}o.prototype._put=function(e,t){this.binding.put(e,t)},o.prototype._del=function(e){this.binding.del(e)},o.prototype._clear=function(e){this.binding.clear(e)},o.prototype._write=function(e,t){this.binding.write(e,t)},r.inherits(o,i),e.exports=o},function(e,t,n){(function(t){const r=n(16),i=n(17).AbstractIterator,o=n(250);function a(e,t){i.call(this,e),this.binding=e.binding.iterator(t),this.cache=null,this.finished=!1,this.fastFuture=o()}r.inherits(a,i),a.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");if("string"!=typeof e&&!t.isBuffer(e))throw new Error("seek() requires a string or buffer key");if(0==e.length)throw new Error("cannot seek() to an empty key");this.cache=null,this.binding.seek(e),this.finished=!1},a.prototype._next=function(e){var t,n,r=this;return this.cache&&this.cache.length?(t=this.cache.pop(),n=this.cache.pop(),this.fastFuture(function(){e(null,t,n)})):this.finished?this.fastFuture(function(){e()}):this.binding.next(function(t,n,i){if(t)return e(t);r.cache=n,r.finished=i,r._next(e)}),this},a.prototype._end=function(e){delete this.cache,this.binding.end(e)},e.exports=a}).call(t,n(20).Buffer)},function(e,t,n){(function(t){var r=n(543);e.exports=function(e){return function(n){n=n||{};var i=[],o=r(function(e,n){0===i.length&&t.nextTick(a),i.push(e),o.once("_drain",n)});return o;function a(){if(1===i.length){var t=i[0];e.put(t.key,t.value,n,u)}else{var r=i.map(function(e){return e.type="put",e});e.batch(r,n,u)}i.length=0}function u(e){o.emit("_drain",e)}}}}).call(t,n(6))},function(e,t,n){var r=n(273);function i(){}e.exports=function(e,t){var n=0,o=!1;t=t||i;var a=r(function(t){n++,e(t,function(e){if(e)return a.emit("error",e);0==--n&&o&&a.emit("finish")})},function(){o=!0,0===n&&this.emit("finish")});return a}},function(e,t,n){e.exports=i;var r=n(29).EventEmitter;function i(){r.call(this)}n(12)(i,r),i.Readable=n(76),i.Writable=n(545),i.Duplex=n(546),i.Transform=n(262),i.PassThrough=n(547),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",u),n.on("close",s));var a=!1;function u(){a||(a=!0,e.end())}function s(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(f(),0===r.listenerCount(this,"error"))throw e}function f(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",u),n.removeListener("close",s),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",f),n.removeListener("close",f),e.removeListener("close",f)}return n.on("error",c),e.on("error",c),n.on("end",f),n.on("close",f),e.on("close",f),e.emit("pipe",n),e}},function(e,t,n){e.exports=n(144)},function(e,t,n){e.exports=n(51)},function(e,t,n){e.exports=n(76).PassThrough},function(e,t,n){var r=n(273);e.exports=function(e,t){return"function"==typeof e&&(t=e,e=[]),r(function(t){e.push(t)},function(){t(e),this.emit("end")})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={title:"publication schema",description:"describes a bbsrc publication",version:0,disableKeyCompression:!0,properties:{id:{type:"string",primary:!0},title:{type:"string",default:""},author:{type:"string",default:""},year:{type:"number",default:0,index:!0},pmid:{type:"string",default:""},doi:{type:"string",default:""},pmcid:{type:"string",default:""},journalName:{type:"string",default:"",index:!0},journalId:{type:"number",default:-1,index:!0},subdisciplines:{type:"array",uniqueItems:!0,item:{type:"object",properties:{subd_id:{type:"number"},weight:{type:"number"}}}},grantId:{type:"string",default:""},grantTitle:{type:"string",default:""},grantClasses:{type:"array",uniqueItems:!0,item:{type:"string"}},grantYear:{type:"number",default:0,index:!0},grantInstitution:{type:"string",default:"",index:!0},grantMechanism:{type:"string",default:"",index:!0},fulltext:{type:"string",default:""}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=this;this.database=e,this.db=t,t||e.get().then(function(e){n.db=e})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="/assets/db-dump.json"}])}});