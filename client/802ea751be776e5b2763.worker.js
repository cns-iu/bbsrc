!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="v1qZ")}({v1qZ:function(e,t){!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=102)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15);Object.defineProperty(t,"GraphQLError",{enumerable:!0,get:function(){return r.GraphQLError}});var i=n(132);Object.defineProperty(t,"syntaxError",{enumerable:!0,get:function(){return i.syntaxError}});var o=n(61);Object.defineProperty(t,"locatedError",{enumerable:!0,get:function(){return o.locatedError}});var a=n(58);Object.defineProperty(t,"printError",{enumerable:!0,get:function(){return a.printError}});var u=n(133);Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return u.formatError}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLInputObjectType=t.GraphQLEnumType=t.GraphQLUnionType=t.GraphQLInterfaceType=t.GraphQLObjectType=t.GraphQLScalarType=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isType=p,t.assertType=d,t.isScalarType=h,t.assertScalarType=function(e){return h(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Scalar type."),e},t.isObjectType=y,t.assertObjectType=function(e){return y(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Object type."),e},t.isInterfaceType=v,t.assertInterfaceType=function(e){return v(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Interface type."),e},t.isUnionType=m,t.assertUnionType=function(e){return m(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Union type."),e},t.isEnumType=_,t.assertEnumType=function(e){return _(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Enum type."),e},t.isInputObjectType=b,t.assertInputObjectType=function(e){return b(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Input Object type."),e},t.isListType=g,t.assertListType=function(e){return g(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL List type."),e},t.isNonNullType=T,t.assertNonNullType=function(e){return T(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL Non-Null type."),e},t.isInputType=E,t.assertInputType=function(e){return E(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL input type."),e},t.isOutputType=O,t.assertOutputType=function(e){return O(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL output type."),e},t.isLeafType=N,t.assertLeafType=function(e){return N(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL leaf type."),e},t.isCompositeType=I,t.assertCompositeType=function(e){return I(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL composite type."),e},t.isAbstractType=w,t.assertAbstractType=function(e){return w(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL abstract type."),e},t.GraphQLList=L,t.GraphQLNonNull=k,t.isWrappingType=j,t.assertWrappingType=function(e){return j(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL wrapping type."),e},t.isNullableType=D,t.assertNullableType=P,t.getNullableType=function(e){if(e)return T(e)?e.ofType:e},t.isNamedType=x,t.assertNamedType=function(e){return x(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL named type."),e},t.getNamedType=function(e){if(e){for(var t=e;j(t);)t=t.ofType;return t}};var o=f(n(39)),a=f(n(5)),u=f(n(8)),s=n(2),c=n(57);function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return h(e)||y(e)||v(e)||m(e)||_(e)||b(e)||g(e)||T(e)}function d(e){return p(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL type."),e}function h(e){return(0,o.default)(e,F)}function y(e){return(0,o.default)(e,M)}function v(e){return(0,o.default)(e,G)}function m(e){return(0,o.default)(e,q)}function _(e){return(0,o.default)(e,V)}function b(e){return(0,o.default)(e,K)}function g(e){return(0,o.default)(e,L)}function T(e){return(0,o.default)(e,k)}function E(e){return h(e)||_(e)||b(e)||j(e)&&E(e.ofType)}function O(e){return h(e)||y(e)||v(e)||m(e)||_(e)||j(e)&&O(e.ofType)}function N(e){return h(e)||_(e)}function I(e){return y(e)||v(e)||m(e)}function w(e){return v(e)||m(e)}function L(e){if(!(this instanceof L))return new L(e);this.ofType=d(e)}var S=L.prototype;function k(e){if(!(this instanceof k))return new k(e);this.ofType=P(e)}S.toString=S.toJSON=S.inspect=function(){return"["+String(this.ofType)+"]"};var A=k.prototype;function j(e){return g(e)||T(e)}function D(e){return p(e)&&!T(e)}function P(e){return D(e)||(0,a.default)(0,"Expected "+String(e)+" to be a GraphQL nullable type."),e}function x(e){return h(e)||y(e)||v(e)||m(e)||_(e)||b(e)}function R(e){return"function"==typeof e?e():e}A.toString=A.toJSON=A.inspect=function(){return String(this.ofType)+"!"};var F=t.GraphQLScalarType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._scalarConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name."),"function"!=typeof t.serialize&&(0,a.default)(0,this.name+' must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.'),(t.parseValue||t.parseLiteral)&&("function"!=typeof t.parseValue||"function"!=typeof t.parseLiteral)&&(0,a.default)(0,this.name+' must provide both "parseValue" and "parseLiteral" functions.')}return e.prototype.serialize=function(e){return(0,this._scalarConfig.serialize)(e)},e.prototype.parseValue=function(e){var t=this._scalarConfig.parseValue;if(!(0,u.default)(e))return t?t(e):e},e.prototype.parseLiteral=function(e,t){var n=this._scalarConfig.parseLiteral;return n?n(e,t):(0,c.valueFromASTUntyped)(e,t)},e.prototype.toString=function(){return this.name},e}();F.prototype.toJSON=F.prototype.inspect=F.prototype.toString;var M=t.GraphQLObjectType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.extensionASTNodes=t.extensionASTNodes,this.isTypeOf=t.isTypeOf,this._typeConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name."),t.isTypeOf&&"function"!=typeof t.isTypeOf&&(0,a.default)(0,this.name+' must provide "isTypeOf" as a function.')}return e.prototype.getFields=function(){return this._fields||(this._fields=C(this,this._typeConfig.fields))},e.prototype.getInterfaces=function(){return this._interfaces||(this._interfaces=(e=R(this._typeConfig.interfaces)||[],Array.isArray(e)||(0,a.default)(0,this.name+" interfaces must be an Array or a function which returns an Array."),e));var e},e.prototype.toString=function(){return this.name},e}();function C(e,t){var n=R(t)||{};Q(n)||(0,a.default)(0,e.name+" fields must be an object with field names as keys or a function which returns such an object.");var r=Object.create(null);return Object.keys(n).forEach(function(t){var o=n[t];Q(o)||(0,a.default)(0,e.name+"."+t+" field config must be an object"),o.hasOwnProperty("isDeprecated")&&(0,a.default)(0,e.name+"."+t+' should provide "deprecationReason" instead of "isDeprecated".');var u,s=i({},o,{isDeprecated:Boolean(o.deprecationReason),name:t});null!=(u=s.resolve)&&"function"!=typeof u&&(0,a.default)(0,e.name+"."+t+" field resolver must be a function if provided, but got: "+String(s.resolve)+".");var c=o.args;c?(Q(c)||(0,a.default)(0,e.name+"."+t+" args must be an object with argument names as keys."),s.args=Object.keys(c).map(function(e){var t=c[e];return{name:e,description:void 0===t.description?null:t.description,type:t.type,defaultValue:t.defaultValue,astNode:t.astNode}})):s.args=[],r[t]=s}),r}function Q(e){return e&&"object"===("undefined"==typeof e?"undefined":r(e))&&!Array.isArray(e)}M.prototype.toJSON=M.prototype.inspect=M.prototype.toString;var G=t.GraphQLInterfaceType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.extensionASTNodes=t.extensionASTNodes,this.resolveType=t.resolveType,this._typeConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name."),t.resolveType&&"function"!=typeof t.resolveType&&(0,a.default)(0,this.name+' must provide "resolveType" as a function.')}return e.prototype.getFields=function(){return this._fields||(this._fields=C(this,this._typeConfig.fields))},e.prototype.toString=function(){return this.name},e}();G.prototype.toJSON=G.prototype.inspect=G.prototype.toString;var q=t.GraphQLUnionType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this.resolveType=t.resolveType,this._typeConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name."),t.resolveType&&"function"!=typeof t.resolveType&&(0,a.default)(0,this.name+' must provide "resolveType" as a function.')}return e.prototype.getTypes=function(){return this._types||(this._types=(e=R(this._typeConfig.types)||[],Array.isArray(e)||(0,a.default)(0,"Must provide Array of types or a function which returns such an array for Union "+this.name+"."),e));var e},e.prototype.toString=function(){return this.name},e}();q.prototype.toJSON=q.prototype.inspect=q.prototype.toString;var V=t.GraphQLEnumType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._enumConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name.")}return e.prototype.getValues=function(){return this._values||(this._values=(e=this,Q(t=this._enumConfig.values)||(0,a.default)(0,e.name+" values must be an object with value names as keys."),Object.keys(t).map(function(n){var r=t[n];return Q(r)||(0,a.default)(0,e.name+"."+n+' must refer to an object with a "value" key representing an internal value but got: '+String(r)+"."),r.hasOwnProperty("isDeprecated")&&(0,a.default)(0,e.name+"."+n+' should provide "deprecationReason" instead of "isDeprecated".'),{name:n,description:r.description,isDeprecated:Boolean(r.deprecationReason),deprecationReason:r.deprecationReason,astNode:r.astNode,value:r.hasOwnProperty("value")?r.value:n}})));var e,t},e.prototype.getValue=function(e){return this._getNameLookup()[e]},e.prototype.serialize=function(e){var t=this._getValueLookup().get(e);if(t)return t.name},e.prototype.parseValue=function(e){if("string"==typeof e){var t=this._getNameLookup()[e];if(t)return t.value}},e.prototype.parseLiteral=function(e,t){if(e.kind===s.Kind.ENUM){var n=this._getNameLookup()[e.value];if(n)return n.value}},e.prototype._getValueLookup=function(){if(!this._valueLookup){var e=new Map;this.getValues().forEach(function(t){e.set(t.value,t)}),this._valueLookup=e}return this._valueLookup},e.prototype._getNameLookup=function(){if(!this._nameLookup){var e=Object.create(null);this.getValues().forEach(function(t){e[t.name]=t}),this._nameLookup=e}return this._nameLookup},e.prototype.toString=function(){return this.name},e}();V.prototype.toJSON=V.prototype.inspect=V.prototype.toString;var K=t.GraphQLInputObjectType=function(){function e(t){l(this,e),this.name=t.name,this.description=t.description,this.astNode=t.astNode,this._typeConfig=t,"string"!=typeof t.name&&(0,a.default)(0,"Must provide name.")}return e.prototype.getFields=function(){return this._fields||(this._fields=this._defineFieldMap())},e.prototype._defineFieldMap=function(){var e=this,t=R(this._typeConfig.fields)||{};Q(t)||(0,a.default)(0,this.name+" fields must be an object with field names as keys or a function which returns such an object.");var n=Object.create(null);return Object.keys(t).forEach(function(r){var o=i({},t[r],{name:r});o.hasOwnProperty("resolve")&&(0,a.default)(0,e.name+"."+r+" field type has a resolve property, but Input Types cannot define resolvers."),n[r]=o}),n},e.prototype.toString=function(){return this.name},e}();K.prototype.toJSON=K.prototype.toString,K.prototype.inspect=K.prototype.toString},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Kind=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",VARIABLE:"Variable",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension",DIRECTIVE_DEFINITION:"DirectiveDefinition"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131);n.n(r),n.o(r,"graphql")&&n.d(t,"graphql",function(){return r.graphql}),n.o(r,"graphqlSync")&&n.d(t,"graphqlSync",function(){return r.graphqlSync});var i=n(138);n.n(i),n.o(i,"GraphQLSchema")&&n.d(t,"GraphQLSchema",function(){return i.GraphQLSchema}),n.o(i,"GraphQLScalarType")&&n.d(t,"GraphQLScalarType",function(){return i.GraphQLScalarType}),n.o(i,"GraphQLObjectType")&&n.d(t,"GraphQLObjectType",function(){return i.GraphQLObjectType}),n.o(i,"GraphQLInterfaceType")&&n.d(t,"GraphQLInterfaceType",function(){return i.GraphQLInterfaceType}),n.o(i,"GraphQLUnionType")&&n.d(t,"GraphQLUnionType",function(){return i.GraphQLUnionType}),n.o(i,"GraphQLEnumType")&&n.d(t,"GraphQLEnumType",function(){return i.GraphQLEnumType}),n.o(i,"GraphQLInputObjectType")&&n.d(t,"GraphQLInputObjectType",function(){return i.GraphQLInputObjectType}),n.o(i,"GraphQLList")&&n.d(t,"GraphQLList",function(){return i.GraphQLList}),n.o(i,"GraphQLNonNull")&&n.d(t,"GraphQLNonNull",function(){return i.GraphQLNonNull}),n.o(i,"GraphQLDirective")&&n.d(t,"GraphQLDirective",function(){return i.GraphQLDirective}),n.o(i,"TypeKind")&&n.d(t,"TypeKind",function(){return i.TypeKind}),n.o(i,"specifiedScalarTypes")&&n.d(t,"specifiedScalarTypes",function(){return i.specifiedScalarTypes}),n.o(i,"GraphQLInt")&&n.d(t,"GraphQLInt",function(){return i.GraphQLInt}),n.o(i,"GraphQLFloat")&&n.d(t,"GraphQLFloat",function(){return i.GraphQLFloat}),n.o(i,"GraphQLString")&&n.d(t,"GraphQLString",function(){return i.GraphQLString}),n.o(i,"GraphQLBoolean")&&n.d(t,"GraphQLBoolean",function(){return i.GraphQLBoolean}),n.o(i,"GraphQLID")&&n.d(t,"GraphQLID",function(){return i.GraphQLID}),n.o(i,"specifiedDirectives")&&n.d(t,"specifiedDirectives",function(){return i.specifiedDirectives}),n.o(i,"GraphQLIncludeDirective")&&n.d(t,"GraphQLIncludeDirective",function(){return i.GraphQLIncludeDirective}),n.o(i,"GraphQLSkipDirective")&&n.d(t,"GraphQLSkipDirective",function(){return i.GraphQLSkipDirective}),n.o(i,"GraphQLDeprecatedDirective")&&n.d(t,"GraphQLDeprecatedDirective",function(){return i.GraphQLDeprecatedDirective}),n.o(i,"DEFAULT_DEPRECATION_REASON")&&n.d(t,"DEFAULT_DEPRECATION_REASON",function(){return i.DEFAULT_DEPRECATION_REASON}),n.o(i,"SchemaMetaFieldDef")&&n.d(t,"SchemaMetaFieldDef",function(){return i.SchemaMetaFieldDef}),n.o(i,"TypeMetaFieldDef")&&n.d(t,"TypeMetaFieldDef",function(){return i.TypeMetaFieldDef}),n.o(i,"TypeNameMetaFieldDef")&&n.d(t,"TypeNameMetaFieldDef",function(){return i.TypeNameMetaFieldDef}),n.o(i,"introspectionTypes")&&n.d(t,"introspectionTypes",function(){return i.introspectionTypes}),n.o(i,"__Schema")&&n.d(t,"__Schema",function(){return i.__Schema}),n.o(i,"__Directive")&&n.d(t,"__Directive",function(){return i.__Directive}),n.o(i,"__DirectiveLocation")&&n.d(t,"__DirectiveLocation",function(){return i.__DirectiveLocation}),n.o(i,"__Type")&&n.d(t,"__Type",function(){return i.__Type}),n.o(i,"__Field")&&n.d(t,"__Field",function(){return i.__Field}),n.o(i,"__InputValue")&&n.d(t,"__InputValue",function(){return i.__InputValue}),n.o(i,"__EnumValue")&&n.d(t,"__EnumValue",function(){return i.__EnumValue}),n.o(i,"__TypeKind")&&n.d(t,"__TypeKind",function(){return i.__TypeKind}),n.o(i,"isSchema")&&n.d(t,"isSchema",function(){return i.isSchema}),n.o(i,"isDirective")&&n.d(t,"isDirective",function(){return i.isDirective}),n.o(i,"isType")&&n.d(t,"isType",function(){return i.isType}),n.o(i,"isScalarType")&&n.d(t,"isScalarType",function(){return i.isScalarType}),n.o(i,"isObjectType")&&n.d(t,"isObjectType",function(){return i.isObjectType}),n.o(i,"isInterfaceType")&&n.d(t,"isInterfaceType",function(){return i.isInterfaceType}),n.o(i,"isUnionType")&&n.d(t,"isUnionType",function(){return i.isUnionType}),n.o(i,"isEnumType")&&n.d(t,"isEnumType",function(){return i.isEnumType}),n.o(i,"isInputObjectType")&&n.d(t,"isInputObjectType",function(){return i.isInputObjectType}),n.o(i,"isListType")&&n.d(t,"isListType",function(){return i.isListType}),n.o(i,"isNonNullType")&&n.d(t,"isNonNullType",function(){return i.isNonNullType}),n.o(i,"isInputType")&&n.d(t,"isInputType",function(){return i.isInputType}),n.o(i,"isOutputType")&&n.d(t,"isOutputType",function(){return i.isOutputType}),n.o(i,"isLeafType")&&n.d(t,"isLeafType",function(){return i.isLeafType}),n.o(i,"isCompositeType")&&n.d(t,"isCompositeType",function(){return i.isCompositeType}),n.o(i,"isAbstractType")&&n.d(t,"isAbstractType",function(){return i.isAbstractType}),n.o(i,"isWrappingType")&&n.d(t,"isWrappingType",function(){return i.isWrappingType}),n.o(i,"isNullableType")&&n.d(t,"isNullableType",function(){return i.isNullableType}),n.o(i,"isNamedType")&&n.d(t,"isNamedType",function(){return i.isNamedType}),n.o(i,"isSpecifiedScalarType")&&n.d(t,"isSpecifiedScalarType",function(){return i.isSpecifiedScalarType}),n.o(i,"isIntrospectionType")&&n.d(t,"isIntrospectionType",function(){return i.isIntrospectionType}),n.o(i,"isSpecifiedDirective")&&n.d(t,"isSpecifiedDirective",function(){return i.isSpecifiedDirective}),n.o(i,"assertType")&&n.d(t,"assertType",function(){return i.assertType}),n.o(i,"assertScalarType")&&n.d(t,"assertScalarType",function(){return i.assertScalarType}),n.o(i,"assertObjectType")&&n.d(t,"assertObjectType",function(){return i.assertObjectType}),n.o(i,"assertInterfaceType")&&n.d(t,"assertInterfaceType",function(){return i.assertInterfaceType}),n.o(i,"assertUnionType")&&n.d(t,"assertUnionType",function(){return i.assertUnionType}),n.o(i,"assertEnumType")&&n.d(t,"assertEnumType",function(){return i.assertEnumType}),n.o(i,"assertInputObjectType")&&n.d(t,"assertInputObjectType",function(){return i.assertInputObjectType}),n.o(i,"assertListType")&&n.d(t,"assertListType",function(){return i.assertListType}),n.o(i,"assertNonNullType")&&n.d(t,"assertNonNullType",function(){return i.assertNonNullType}),n.o(i,"assertInputType")&&n.d(t,"assertInputType",function(){return i.assertInputType}),n.o(i,"assertOutputType")&&n.d(t,"assertOutputType",function(){return i.assertOutputType}),n.o(i,"assertLeafType")&&n.d(t,"assertLeafType",function(){return i.assertLeafType}),n.o(i,"assertCompositeType")&&n.d(t,"assertCompositeType",function(){return i.assertCompositeType}),n.o(i,"assertAbstractType")&&n.d(t,"assertAbstractType",function(){return i.assertAbstractType}),n.o(i,"assertWrappingType")&&n.d(t,"assertWrappingType",function(){return i.assertWrappingType}),n.o(i,"assertNullableType")&&n.d(t,"assertNullableType",function(){return i.assertNullableType}),n.o(i,"assertNamedType")&&n.d(t,"assertNamedType",function(){return i.assertNamedType}),n.o(i,"getNullableType")&&n.d(t,"getNullableType",function(){return i.getNullableType}),n.o(i,"getNamedType")&&n.d(t,"getNamedType",function(){return i.getNamedType}),n.o(i,"validateSchema")&&n.d(t,"validateSchema",function(){return i.validateSchema}),n.o(i,"assertValidSchema")&&n.d(t,"assertValidSchema",function(){return i.assertValidSchema});var o=n(139);n.n(o),n.o(o,"Source")&&n.d(t,"Source",function(){return o.Source}),n.o(o,"getLocation")&&n.d(t,"getLocation",function(){return o.getLocation}),n.o(o,"parse")&&n.d(t,"parse",function(){return o.parse}),n.o(o,"parseValue")&&n.d(t,"parseValue",function(){return o.parseValue}),n.o(o,"parseType")&&n.d(t,"parseType",function(){return o.parseType}),n.o(o,"print")&&n.d(t,"print",function(){return o.print}),n.o(o,"visit")&&n.d(t,"visit",function(){return o.visit}),n.o(o,"visitInParallel")&&n.d(t,"visitInParallel",function(){return o.visitInParallel}),n.o(o,"visitWithTypeInfo")&&n.d(t,"visitWithTypeInfo",function(){return o.visitWithTypeInfo}),n.o(o,"getVisitFn")&&n.d(t,"getVisitFn",function(){return o.getVisitFn}),n.o(o,"Kind")&&n.d(t,"Kind",function(){return o.Kind}),n.o(o,"TokenKind")&&n.d(t,"TokenKind",function(){return o.TokenKind}),n.o(o,"DirectiveLocation")&&n.d(t,"DirectiveLocation",function(){return o.DirectiveLocation}),n.o(o,"BREAK")&&n.d(t,"BREAK",function(){return o.BREAK});var a=n(140);n.n(a),n.o(a,"execute")&&n.d(t,"execute",function(){return a.execute}),n.o(a,"defaultFieldResolver")&&n.d(t,"defaultFieldResolver",function(){return a.defaultFieldResolver}),n.o(a,"responsePathAsArray")&&n.d(t,"responsePathAsArray",function(){return a.responsePathAsArray}),n.o(a,"getDirectiveValues")&&n.d(t,"getDirectiveValues",function(){return a.getDirectiveValues});var u=n(141);n.n(u),n.o(u,"subscribe")&&n.d(t,"subscribe",function(){return u.subscribe}),n.o(u,"createSourceEventStream")&&n.d(t,"createSourceEventStream",function(){return u.createSourceEventStream});var s=n(144);n.n(s),n.o(s,"validate")&&n.d(t,"validate",function(){return s.validate}),n.o(s,"ValidationContext")&&n.d(t,"ValidationContext",function(){return s.ValidationContext}),n.o(s,"specifiedRules")&&n.d(t,"specifiedRules",function(){return s.specifiedRules}),n.o(s,"FieldsOnCorrectTypeRule")&&n.d(t,"FieldsOnCorrectTypeRule",function(){return s.FieldsOnCorrectTypeRule}),n.o(s,"FragmentsOnCompositeTypesRule")&&n.d(t,"FragmentsOnCompositeTypesRule",function(){return s.FragmentsOnCompositeTypesRule}),n.o(s,"KnownArgumentNamesRule")&&n.d(t,"KnownArgumentNamesRule",function(){return s.KnownArgumentNamesRule}),n.o(s,"KnownDirectivesRule")&&n.d(t,"KnownDirectivesRule",function(){return s.KnownDirectivesRule}),n.o(s,"KnownFragmentNamesRule")&&n.d(t,"KnownFragmentNamesRule",function(){return s.KnownFragmentNamesRule}),n.o(s,"KnownTypeNamesRule")&&n.d(t,"KnownTypeNamesRule",function(){return s.KnownTypeNamesRule}),n.o(s,"LoneAnonymousOperationRule")&&n.d(t,"LoneAnonymousOperationRule",function(){return s.LoneAnonymousOperationRule}),n.o(s,"NoFragmentCyclesRule")&&n.d(t,"NoFragmentCyclesRule",function(){return s.NoFragmentCyclesRule}),n.o(s,"NoUndefinedVariablesRule")&&n.d(t,"NoUndefinedVariablesRule",function(){return s.NoUndefinedVariablesRule}),n.o(s,"NoUnusedFragmentsRule")&&n.d(t,"NoUnusedFragmentsRule",function(){return s.NoUnusedFragmentsRule}),n.o(s,"NoUnusedVariablesRule")&&n.d(t,"NoUnusedVariablesRule",function(){return s.NoUnusedVariablesRule}),n.o(s,"OverlappingFieldsCanBeMergedRule")&&n.d(t,"OverlappingFieldsCanBeMergedRule",function(){return s.OverlappingFieldsCanBeMergedRule}),n.o(s,"PossibleFragmentSpreadsRule")&&n.d(t,"PossibleFragmentSpreadsRule",function(){return s.PossibleFragmentSpreadsRule}),n.o(s,"ProvidedNonNullArgumentsRule")&&n.d(t,"ProvidedNonNullArgumentsRule",function(){return s.ProvidedNonNullArgumentsRule}),n.o(s,"ScalarLeafsRule")&&n.d(t,"ScalarLeafsRule",function(){return s.ScalarLeafsRule}),n.o(s,"SingleFieldSubscriptionsRule")&&n.d(t,"SingleFieldSubscriptionsRule",function(){return s.SingleFieldSubscriptionsRule}),n.o(s,"UniqueArgumentNamesRule")&&n.d(t,"UniqueArgumentNamesRule",function(){return s.UniqueArgumentNamesRule}),n.o(s,"UniqueDirectivesPerLocationRule")&&n.d(t,"UniqueDirectivesPerLocationRule",function(){return s.UniqueDirectivesPerLocationRule}),n.o(s,"UniqueFragmentNamesRule")&&n.d(t,"UniqueFragmentNamesRule",function(){return s.UniqueFragmentNamesRule}),n.o(s,"UniqueInputFieldNamesRule")&&n.d(t,"UniqueInputFieldNamesRule",function(){return s.UniqueInputFieldNamesRule}),n.o(s,"UniqueOperationNamesRule")&&n.d(t,"UniqueOperationNamesRule",function(){return s.UniqueOperationNamesRule}),n.o(s,"UniqueVariableNamesRule")&&n.d(t,"UniqueVariableNamesRule",function(){return s.UniqueVariableNamesRule}),n.o(s,"ValuesOfCorrectTypeRule")&&n.d(t,"ValuesOfCorrectTypeRule",function(){return s.ValuesOfCorrectTypeRule}),n.o(s,"VariablesAreInputTypesRule")&&n.d(t,"VariablesAreInputTypesRule",function(){return s.VariablesAreInputTypesRule}),n.o(s,"VariablesDefaultValueAllowedRule")&&n.d(t,"VariablesDefaultValueAllowedRule",function(){return s.VariablesDefaultValueAllowedRule}),n.o(s,"VariablesInAllowedPositionRule")&&n.d(t,"VariablesInAllowedPositionRule",function(){return s.VariablesInAllowedPositionRule});var c=n(0);n.n(c),n.o(c,"GraphQLError")&&n.d(t,"GraphQLError",function(){return c.GraphQLError}),n.o(c,"formatError")&&n.d(t,"formatError",function(){return c.formatError}),n.o(c,"printError")&&n.d(t,"printError",function(){return c.printError});var f=n(145);n.n(f),n.o(f,"getIntrospectionQuery")&&n.d(t,"getIntrospectionQuery",function(){return f.getIntrospectionQuery}),n.o(f,"introspectionQuery")&&n.d(t,"introspectionQuery",function(){return f.introspectionQuery}),n.o(f,"getOperationAST")&&n.d(t,"getOperationAST",function(){return f.getOperationAST}),n.o(f,"introspectionFromSchema")&&n.d(t,"introspectionFromSchema",function(){return f.introspectionFromSchema}),n.o(f,"buildClientSchema")&&n.d(t,"buildClientSchema",function(){return f.buildClientSchema}),n.o(f,"buildASTSchema")&&n.d(t,"buildASTSchema",function(){return f.buildASTSchema}),n.o(f,"buildSchema")&&n.d(t,"buildSchema",function(){return f.buildSchema}),n.o(f,"getDescription")&&n.d(t,"getDescription",function(){return f.getDescription}),n.o(f,"extendSchema")&&n.d(t,"extendSchema",function(){return f.extendSchema}),n.o(f,"lexicographicSortSchema")&&n.d(t,"lexicographicSortSchema",function(){return f.lexicographicSortSchema}),n.o(f,"printSchema")&&n.d(t,"printSchema",function(){return f.printSchema}),n.o(f,"printIntrospectionSchema")&&n.d(t,"printIntrospectionSchema",function(){return f.printIntrospectionSchema}),n.o(f,"printType")&&n.d(t,"printType",function(){return f.printType}),n.o(f,"typeFromAST")&&n.d(t,"typeFromAST",function(){return f.typeFromAST}),n.o(f,"valueFromAST")&&n.d(t,"valueFromAST",function(){return f.valueFromAST}),n.o(f,"valueFromASTUntyped")&&n.d(t,"valueFromASTUntyped",function(){return f.valueFromASTUntyped}),n.o(f,"astFromValue")&&n.d(t,"astFromValue",function(){return f.astFromValue}),n.o(f,"TypeInfo")&&n.d(t,"TypeInfo",function(){return f.TypeInfo}),n.o(f,"coerceValue")&&n.d(t,"coerceValue",function(){return f.coerceValue}),n.o(f,"isValidJSValue")&&n.d(t,"isValidJSValue",function(){return f.isValidJSValue}),n.o(f,"isValidLiteralValue")&&n.d(t,"isValidLiteralValue",function(){return f.isValidLiteralValue}),n.o(f,"concatAST")&&n.d(t,"concatAST",function(){return f.concatAST}),n.o(f,"separateOperations")&&n.d(t,"separateOperations",function(){return f.separateOperations}),n.o(f,"isEqualType")&&n.d(t,"isEqualType",function(){return f.isEqualType}),n.o(f,"isTypeSubTypeOf")&&n.d(t,"isTypeSubTypeOf",function(){return f.isTypeSubTypeOf}),n.o(f,"doTypesOverlap")&&n.d(t,"doTypesOverlap",function(){return f.doTypesOverlap}),n.o(f,"assertValidName")&&n.d(t,"assertValidName",function(){return f.assertValidName}),n.o(f,"isValidNameError")&&n.d(t,"isValidNameError",function(){return f.isValidNameError}),n.o(f,"findBreakingChanges")&&n.d(t,"findBreakingChanges",function(){return f.findBreakingChanges}),n.o(f,"findDangerousChanges")&&n.d(t,"findDangerousChanges",function(){return f.findDangerousChanges}),n.o(f,"BreakingChangeType")&&n.d(t,"BreakingChangeType",function(){return f.BreakingChangeType}),n.o(f,"DangerousChangeType")&&n.d(t,"DangerousChangeType",function(){return f.DangerousChangeType}),n.o(f,"findDeprecatedUsages")&&n.d(t,"findDeprecatedUsages",function(){return f.findDeprecatedUsages})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLSchema=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isSchema=function(e){return(0,s.default)(e,p)};var i=n(1),o=n(9),a=n(10),u=l(n(21)),s=l(n(39)),c=l(n(5)),f=l(n(14));function l(e){return e&&e.__esModule?e:{default:e}}var p=t.GraphQLSchema=function(){function e(t){var n=this;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t&&t.assumeValid?this.__validationErrors=[]:("object"!==("undefined"==typeof t?"undefined":r(t))&&(0,c.default)(0,"Must provide configuration object."),t.types&&!Array.isArray(t.types)&&(0,c.default)(0,'"types" must be Array if provided but got: '+String(t.types)+"."),t.directives&&!Array.isArray(t.directives)&&(0,c.default)(0,'"directives" must be Array if provided but got: '+String(t.directives)+"."),t.allowedLegacyNames&&!Array.isArray(t.allowedLegacyNames)&&(0,c.default)(0,'"allowedLegacyNames" must be Array if provided but got: '+String(t.allowedLegacyNames)+".")),this.__allowedLegacyNames=t.allowedLegacyNames,this._queryType=t.query,this._mutationType=t.mutation,this._subscriptionType=t.subscription,this._directives=t.directives||o.specifiedDirectives,this.astNode=t.astNode;var u=[this.getQueryType(),this.getMutationType(),this.getSubscriptionType(),a.__Schema],s=t.types;s&&(u=u.concat(s));var f=Object.create(null);f=u.reduce(d,f),f=this._directives.reduce(h,f),this._typeMap=f,this._implementations=Object.create(null),Object.keys(this._typeMap).forEach(function(e){var t=n._typeMap[e];(0,i.isObjectType)(t)&&t.getInterfaces().forEach(function(e){if((0,i.isInterfaceType)(e)){var r=n._implementations[e.name];r?r.push(t):n._implementations[e.name]=[t]}})})}return e.prototype.getQueryType=function(){return this._queryType},e.prototype.getMutationType=function(){return this._mutationType},e.prototype.getSubscriptionType=function(){return this._subscriptionType},e.prototype.getTypeMap=function(){return this._typeMap},e.prototype.getType=function(e){return this.getTypeMap()[e]},e.prototype.getPossibleTypes=function(e){return(0,i.isUnionType)(e)?e.getTypes():this._implementations[e.name]},e.prototype.isPossibleType=function(e,t){var n=this._possibleTypeMap;if(n||(this._possibleTypeMap=n=Object.create(null)),!n[e.name]){var r=this.getPossibleTypes(e);Array.isArray(r)||(0,c.default)(0,"Could not find possible implementing types for "+e.name+" in schema. Check that schema.types is defined and is an array of all possible types in the schema."),n[e.name]=r.reduce(function(e,t){return e[t.name]=!0,e},Object.create(null))}return Boolean(n[e.name][t.name])},e.prototype.getDirectives=function(){return this._directives},e.prototype.getDirective=function(e){return(0,u.default)(this.getDirectives(),function(t){return t.name===e})},e}();function d(e,t){if(!t)return e;if((0,i.isWrappingType)(t))return d(e,t.ofType);if(e[t.name])return e[t.name]!==t&&(0,c.default)(0,'Schema must contain unique named types but contains multiple types named "'+t.name+'".'),e;e[t.name]=t;var n=e;return(0,i.isUnionType)(t)&&(n=t.getTypes().reduce(d,n)),(0,i.isObjectType)(t)&&(n=t.getInterfaces().reduce(d,n)),((0,i.isObjectType)(t)||(0,i.isInterfaceType)(t))&&(0,f.default)(t.getFields()).forEach(function(e){if(e.args){var t=e.args.map(function(e){return e.type});n=t.reduce(d,n)}n=d(n,e.type)}),(0,i.isInputObjectType)(t)&&(0,f.default)(t.getFields()).forEach(function(e){n=d(n,e.type)}),n}function h(e,t){return(0,o.isDirective)(t)?t.args.reduce(function(e,t){return d(e,t.type)},e):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)throw new Error(t)}},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),i=n(179),o=n(180);t.Promise="undefined"!=typeof window&&window.Promise?window.Promise:"undefined"!=typeof e&&e.Promise?e.Promise:r.Promise,t.stopWords=["a","about","after","all","also","am","an","and","andor","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","had","has","have","he","her","here","him","himself","his","how","i","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","see","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your"],t._assign=function(e){return e?JSON.parse(JSON.stringify(e)):null},t.fastCHAIN=function(e,n){return new t.Promise(function(t,i){if(e&&e.length){var o=[],a=function(){o.length<e.length?n(e[o.length],o.length,function(e){o.push(e),r.setFast(a)}):t(o)};a()}else t([])})},t.fastRACE=function(e,n){return new t.Promise(function(t,r){if(e&&e.length){var i=!1,o=0,a=function(){o<e.length&&(n(e[o],o,function(e){i||(i=!0,t([e]))}),o++,a())};a()}else t([])})},t.fastALL=function(e,n){return t.Promise.all((e||[]).map(function(e,r){return new t.Promise(function(t,i){n(e,r,function(e){t(e)})})}))};var a="undefined"==typeof window?"":navigator.userAgent||"";t.isSafari=0!==a.length&&(/^((?!chrome|android).)*safari/i.test(a)||/iPad|iPhone|iPod/.test(a)&&!window.MSStream),t.isMSBrowser=0!==a.length&&(a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0),t.isAndroid=/Android/.test(a),t.random16Bits=function(){if("undefined"==typeof crypto)return Math.round(Math.random()*Math.pow(2,16));if(crypto.getRandomValues){var t=new Uint16Array(1);return crypto.getRandomValues(t),t[0]}return"undefined"!=typeof e&&e._crypto.randomBytes?e._crypto.randomBytes(2).reduce(function(e,t){return t*e}):Math.round(Math.random()*Math.pow(2,16))},t.tokenizer=function(e,n,r,a,u){var s=function(e){return!e||1===String(e).length||-1!==t.stopWords.indexOf(e)},c=(a||"").toLowerCase().replace(/(\d+)\/(\d+)|(?:\d+(?:,\d+)*|\d+)(?:\.\d+)?/gim,function(e,t,n){return t||n?(parseInt(t)/parseInt(n)).toFixed(u||4):parseFloat(e.replace(/\,/gim,"")).toFixed(u||4)}).replace(/\-|\_|\[|\]|\(|\)|\{|\}|\r?\n|\r|\t/gim," ").replace(/[^\w\s]|(\d\.)/gim,"$1").replace(/\s+/g," ").split(" ");switch(r[1]){case"english":return c.map(function(e,t){return{i:t,o:e,w:isNaN(e)?s(e)?"":i(o(e)):e}});case"english-stem":return c.map(function(e,t){return{i:t,o:e,w:isNaN(e)?s(e)?"":o(e):e}});case"english-meta":return c.map(function(e,t){return{i:t,o:e,w:isNaN(e)?s(e)?"":i(e):e}})}return c.map(function(e,t){return{o:e,w:e,i:t}})},t.timeid=function(e){for(var n=Math.round((new Date).getTime()/(e?1:1e3)).toString();n.length<(e?13:10);)n="0"+n;return n+"-"+(t.random16Bits()+t.random16Bits()).toString(16)},t.intersect=function(e,t){return!(!e||!t)&&!(!e.length||!t.length)&&(e||[]).filter(function(e){return-1!==(t||[]).indexOf(e)}).length>0},t.uuid=function(){var e,n,r="";return[r,r,r,r,r,r,r,r].reduce(function(i,o,a){for(e=t.random16Bits(),n=3===a?4:4===a?(e%16&3|8).toString(16):r,e=e.toString(16);e.length<4;)e="0"+e;return i+([2,3,4,5].indexOf(a)>-1?"-":r)+(n+e).slice(0,4)},r)};var u={int:function(e){return e},uuid:t.uuid,timeId:function(){return t.timeid()},timeIdms:function(){return t.timeid(!0)}};t.hash=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString(16)},t.generateID=function(e,t){return u[e]?u[e](t||1):""},t.cleanArgs=function(e,n){for(var r={},i=e.length;i--;){var o=e[i].split(":");r[o[0]]=o.length>1?t.cast(o[1],n[o[0]]||void 0):n[o[0]]||void 0}return r},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.cast=function(e,n){if("any"===e||"blob"===e)return n;var r=typeof n;if("undefined"===r||null===n)return n;var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},o=function(e,n){switch(e){case"safestr":return o("string",n).replace(/[&<>"'`=\/]/gim,function(e){return i[e]});case"int":return"number"!==r||n%1!=0?parseInt(n||0):n;case"number":case"float":return"number"!==r?parseFloat(n||0):n;case"any[]":case"array":return Array.isArray(n)?n:[];case"uuid":case"timeId":case"timeIdms":case"string":return"string"!==r?String(n):n;case"object":case"obj":case"map":return t.isObject(n)?n:{};case"boolean":case"bool":return!0===n}return n},a=o(String(e||"").toLowerCase(),n);if(-1!==e.indexOf("[]")){var u=e.slice(0,e.lastIndexOf("[]"));return(n||[]).map(function(e){return t.cast(u,e)})}return void 0!==a?["int","float","number"].indexOf(e)>-1&&isNaN(a)?0:a:void 0},t.binarySearch=function(e,n,r,i){var o=r||0,a=i||e.length;if(e[o]>n)return o;if(e[a]<n)return a+1;var u=Math.floor((o+a)/2);return n===e[u]?u:a-1===o?a:n>e[u]?t.binarySearch(e,n,u,a):n<e[u]?t.binarySearch(e,n,o,u):a},t.removeDuplicates=function(e){if(!e.length)return[];for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==e[n-1]&&t.push(e[n]);return t},t.deepFreeze=function(e){return Object.getOwnPropertyNames(e||{}).forEach(function(n){var r=e[n];"object"==typeof r&&null!==r&&(e[n]=t.deepFreeze(r))}),Object.freeze(e)},t.crowDistance=function(e,t,n,r,i){void 0===i&&(i=6371);var o=function(e){return e*(Math.PI/180)},a=o(n-e),u=o(r-t),s=Math.sin(a/2)*Math.sin(a/2)+Math.cos(o(e))*Math.cos(o(n))*Math.sin(u/2)*Math.sin(u/2);return i*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))};var s={};t.objQuery=function(e,t,n){var r=function(e,t,n){return e[t]&&n?r(e,t+1,n[e[t]]):n},i=e+(n?"1":"0");if(s[i])return r(s[i],0,t);var o=[];if(o=e.indexOf("[")>-1?[].concat.apply([],e.split(".").map(function(e){return e.match(/([^\[]+)|\[([^\]]+)\]\[/gim)||e})).map(function(e){return e.replace(/\[|\]/gim,"")}):e.split("."),n){var a=o.shift()+"."+o.shift();o.unshift(a)}return s[i]=o,r(s[i],0,t)}}).call(t,n(18))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:i})};var r=n(17),i={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return a(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=s("(",a(e.variableDefinitions,", "),")"),i=a(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?a([t,a([n,r]),i,o]," "):o},VariableDefinition:function(e){return e.variable+": "+e.type+s(" = ",e.defaultValue)},SelectionSet:function(e){return u(e.selections)},Field:function(e){var t=e.name,n=e.arguments,r=e.directives,i=e.selectionSet;return a([s("",e.alias,": ")+t+s("(",a(n,", "),")"),a(r," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+s(" ",a(e.directives," "))},InlineFragment:function(e){var t=e.directives,n=e.selectionSet;return a(["...",s("on ",e.typeCondition),a(t," "),n]," ")},FragmentDefinition:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return"fragment "+e.name+s("(",a(e.variableDefinitions,", "),")")+" on "+t+" "+s("",a(n," ")," ")+r},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){var n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?'"""\n'+(t?n:c(n))+'\n"""':'"""'+n.replace(/"$/,'"\n')+'"""'}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+a(e.values,", ")+"]"},ObjectValue:function(e){return"{"+a(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+s("(",a(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.operationTypes;return a(["schema",a(e.directives," "),u(t)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o(function(e){return a(["scalar",e.name,a(e.directives," ")]," ")}),ObjectTypeDefinition:o(function(e){var t=e.directives,n=e.fields;return a(["type",e.name,s("implements ",a(e.interfaces," & ")),a(t," "),u(n)]," ")}),FieldDefinition:o(function(e){var t=e.type,n=e.directives;return e.name+s("(",a(e.arguments,", "),")")+": "+t+s(" ",a(n," "))}),InputValueDefinition:o(function(e){var t=e.directives;return a([e.name+": "+e.type,s("= ",e.defaultValue),a(t," ")]," ")}),InterfaceTypeDefinition:o(function(e){var t=e.fields;return a(["interface",e.name,a(e.directives," "),u(t)]," ")}),UnionTypeDefinition:o(function(e){var t=e.types;return a(["union",e.name,a(e.directives," "),t&&0!==t.length?"= "+a(t," | "):""]," ")}),EnumTypeDefinition:o(function(e){var t=e.values;return a(["enum",e.name,a(e.directives," "),u(t)]," ")}),EnumValueDefinition:o(function(e){return a([e.name,a(e.directives," ")]," ")}),InputObjectTypeDefinition:o(function(e){var t=e.fields;return a(["input",e.name,a(e.directives," "),u(t)]," ")}),ScalarTypeExtension:function(e){return a(["extend scalar",e.name,a(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.directives,n=e.fields;return a(["extend type",e.name,s("implements ",a(e.interfaces," & ")),a(t," "),u(n)]," ")},InterfaceTypeExtension:function(e){var t=e.fields;return a(["extend interface",e.name,a(e.directives," "),u(t)]," ")},UnionTypeExtension:function(e){var t=e.types;return a(["extend union",e.name,a(e.directives," "),t&&0!==t.length?"= "+a(t," | "):""]," ")},EnumTypeExtension:function(e){var t=e.values;return a(["extend enum",e.name,a(e.directives," "),u(t)]," ")},InputObjectTypeExtension:function(e){var t=e.fields;return a(["extend input",e.name,a(e.directives," "),u(t)]," ")},DirectiveDefinition:o(function(e){var t=e.locations;return"directive @"+e.name+s("(",a(e.arguments,", "),")")+" on "+a(t," | ")})};function o(e){return function(t){return a([t.description,e(t)],"\n")}}function a(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function u(e){return e&&0!==e.length?"{\n"+c(a(e,"\n"))+"\n}":""}function s(e,t,n){return t?e+t+(n||""):""}function c(e){return e&&"  "+e.replace(/\n/g,"\n  ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e||e!=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifiedDirectives=t.GraphQLDeprecatedDirective=t.DEFAULT_DEPRECATION_REASON=t.GraphQLSkipDirective=t.GraphQLIncludeDirective=t.GraphQLDirective=void 0,t.isDirective=function(e){return(0,o.default)(e,c)},t.isSpecifiedDirective=function(e){return h.some(function(t){return t.name===e.name})};var r=n(1),i=n(13),o=s(n(39)),a=s(n(5)),u=n(20);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.GraphQLDirective=function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.name=t.name,this.description=t.description,this.locations=t.locations,this.astNode=t.astNode,t.name||(0,a.default)(0,"Directive must be named."),Array.isArray(t.locations)||(0,a.default)(0,"Must provide locations for directive.");var n=t.args;n?(Array.isArray(n)&&(0,a.default)(0,"@"+t.name+" args must be an object with argument names as keys."),this.args=Object.keys(n).map(function(e){var t=n[e];return{name:e,description:void 0===t.description?null:t.description,type:t.type,defaultValue:t.defaultValue,astNode:t.astNode}})):this.args=[]},f=t.GraphQLIncludeDirective=new c({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[u.DirectiveLocation.FIELD,u.DirectiveLocation.FRAGMENT_SPREAD,u.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:(0,r.GraphQLNonNull)(i.GraphQLBoolean),description:"Included when true."}}}),l=t.GraphQLSkipDirective=new c({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[u.DirectiveLocation.FIELD,u.DirectiveLocation.FRAGMENT_SPREAD,u.DirectiveLocation.INLINE_FRAGMENT],args:{if:{type:(0,r.GraphQLNonNull)(i.GraphQLBoolean),description:"Skipped when true."}}}),p=t.DEFAULT_DEPRECATION_REASON="No longer supported",d=t.GraphQLDeprecatedDirective=new c({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[u.DirectiveLocation.FIELD_DEFINITION,u.DirectiveLocation.ENUM_VALUE],args:{reason:{type:i.GraphQLString,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted in [Markdown](https://daringfireball.net/projects/markdown/).",defaultValue:p}}}),h=t.specifiedDirectives=[f,l,d]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.introspectionTypes=t.TypeNameMetaFieldDef=t.TypeMetaFieldDef=t.SchemaMetaFieldDef=t.__TypeKind=t.TypeKind=t.__EnumValue=t.__InputValue=t.__Field=t.__Type=t.__DirectiveLocation=t.__Directive=t.__Schema=void 0,t.isIntrospectionType=function(e){return(0,u.isNamedType)(e)&&(e.name===l.name||e.name===p.name||e.name===d.name||e.name===h.name||e.name===y.name||e.name===v.name||e.name===m.name||e.name===b.name)};var r=f(n(8)),i=f(n(14)),o=n(40),a=n(7),u=n(1),s=n(13),c=n(20);function f(e){return e&&e.__esModule?e:{default:e}}var l=t.__Schema=new u.GraphQLObjectType({name:"__Schema",isIntrospection:!0,description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(h))),resolve:function(e){return(0,i.default)(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:(0,u.GraphQLNonNull)(h),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:h,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:h,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(p))),resolve:function(e){return e.getDirectives()}}}}}),p=t.__Directive=new u.GraphQLObjectType({name:"__Directive",isIntrospection:!0,description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:(0,u.GraphQLNonNull)(s.GraphQLString)},description:{type:s.GraphQLString},locations:{type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(d)))},args:{type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(v))),resolve:function(e){return e.args||[]}},onOperation:{deprecationReason:"Use `locations`.",type:(0,u.GraphQLNonNull)(s.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(c.DirectiveLocation.QUERY)||-1!==e.locations.indexOf(c.DirectiveLocation.MUTATION)||-1!==e.locations.indexOf(c.DirectiveLocation.SUBSCRIPTION)}},onFragment:{deprecationReason:"Use `locations`.",type:(0,u.GraphQLNonNull)(s.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(c.DirectiveLocation.FRAGMENT_SPREAD)||-1!==e.locations.indexOf(c.DirectiveLocation.INLINE_FRAGMENT)||-1!==e.locations.indexOf(c.DirectiveLocation.FRAGMENT_DEFINITION)}},onField:{deprecationReason:"Use `locations`.",type:(0,u.GraphQLNonNull)(s.GraphQLBoolean),resolve:function(e){return-1!==e.locations.indexOf(c.DirectiveLocation.FIELD)}}}}}),d=t.__DirectiveLocation=new u.GraphQLEnumType({name:"__DirectiveLocation",isIntrospection:!0,description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:c.DirectiveLocation.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:c.DirectiveLocation.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:c.DirectiveLocation.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:c.DirectiveLocation.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:c.DirectiveLocation.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:c.DirectiveLocation.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:c.DirectiveLocation.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},SCHEMA:{value:c.DirectiveLocation.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:c.DirectiveLocation.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:c.DirectiveLocation.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:c.DirectiveLocation.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:c.DirectiveLocation.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:c.DirectiveLocation.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:c.DirectiveLocation.UNION,description:"Location adjacent to a union definition."},ENUM:{value:c.DirectiveLocation.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:c.DirectiveLocation.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:c.DirectiveLocation.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:c.DirectiveLocation.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),h=t.__Type=new u.GraphQLObjectType({name:"__Type",isIntrospection:!0,description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:(0,u.GraphQLNonNull)(b),resolve:function(e){if((0,u.isScalarType)(e))return _.SCALAR;if((0,u.isObjectType)(e))return _.OBJECT;if((0,u.isInterfaceType)(e))return _.INTERFACE;if((0,u.isUnionType)(e))return _.UNION;if((0,u.isEnumType)(e))return _.ENUM;if((0,u.isInputObjectType)(e))return _.INPUT_OBJECT;if((0,u.isListType)(e))return _.LIST;if((0,u.isNonNullType)(e))return _.NON_NULL;throw new Error("Unknown kind of type: "+e)}},name:{type:s.GraphQLString},description:{type:s.GraphQLString},fields:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(y)),args:{includeDeprecated:{type:s.GraphQLBoolean,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if((0,u.isObjectType)(e)||(0,u.isInterfaceType)(e)){var r=(0,i.default)(e.getFields());return n||(r=r.filter(function(e){return!e.deprecationReason})),r}return null}},interfaces:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(h)),resolve:function(e){if((0,u.isObjectType)(e))return e.getInterfaces()}},possibleTypes:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(h)),resolve:function(e,t,n,r){var i=r.schema;if((0,u.isAbstractType)(e))return i.getPossibleTypes(e)}},enumValues:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(m)),args:{includeDeprecated:{type:s.GraphQLBoolean,defaultValue:!1}},resolve:function(e,t){var n=t.includeDeprecated;if((0,u.isEnumType)(e)){var r=e.getValues();return n||(r=r.filter(function(e){return!e.deprecationReason})),r}}},inputFields:{type:(0,u.GraphQLList)((0,u.GraphQLNonNull)(v)),resolve:function(e){if((0,u.isInputObjectType)(e))return(0,i.default)(e.getFields())}},ofType:{type:h}}}}),y=t.__Field=new u.GraphQLObjectType({name:"__Field",isIntrospection:!0,description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:(0,u.GraphQLNonNull)(s.GraphQLString)},description:{type:s.GraphQLString},args:{type:(0,u.GraphQLNonNull)((0,u.GraphQLList)((0,u.GraphQLNonNull)(v))),resolve:function(e){return e.args||[]}},type:{type:(0,u.GraphQLNonNull)(h)},isDeprecated:{type:(0,u.GraphQLNonNull)(s.GraphQLBoolean)},deprecationReason:{type:s.GraphQLString}}}}),v=t.__InputValue=new u.GraphQLObjectType({name:"__InputValue",isIntrospection:!0,description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:(0,u.GraphQLNonNull)(s.GraphQLString)},description:{type:s.GraphQLString},type:{type:(0,u.GraphQLNonNull)(h)},defaultValue:{type:s.GraphQLString,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){return(0,r.default)(e.defaultValue)?null:(0,a.print)((0,o.astFromValue)(e.defaultValue,e.type))}}}}}),m=t.__EnumValue=new u.GraphQLObjectType({name:"__EnumValue",isIntrospection:!0,description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:(0,u.GraphQLNonNull)(s.GraphQLString)},description:{type:s.GraphQLString},isDeprecated:{type:(0,u.GraphQLNonNull)(s.GraphQLBoolean)},deprecationReason:{type:s.GraphQLString}}}}),_=t.TypeKind={SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"},b=t.__TypeKind=new u.GraphQLEnumType({name:"__TypeKind",isIntrospection:!0,description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:_.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:_.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:_.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:_.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:_.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:_.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:_.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:_.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}});t.SchemaMetaFieldDef={name:"__schema",type:(0,u.GraphQLNonNull)(l),description:"Access the current type schema of this server.",args:[],resolve:function(e,t,n,r){return r.schema}},t.TypeMetaFieldDef={name:"__type",type:h,description:"Request the type information of a single type.",args:[{name:"name",type:(0,u.GraphQLNonNull)(s.GraphQLString)}],resolve:function(e,t,n,r){return r.schema.getType(t.name)}},t.TypeNameMetaFieldDef={name:"__typename",type:(0,u.GraphQLNonNull)(s.GraphQLString),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,t,n,r){return r.parentType.name}},t.introspectionTypes=[l,p,d,h,y,v,m,b]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"$$iterator",function(){return o}),t.isIterable=a,t.isArrayLike=u,t.isCollection=function(e){return Object(e)===e&&(u(e)||a(e))},t.getIterator=s,t.getIteratorMethod=c,t.createIterator=f,t.forEach=function(e,t,n){if(null!=e){if("function"==typeof e.forEach)return e.forEach(t,n);var r=0,i=s(e);if(i){for(var o;!(o=i.next()).done;)if(t.call(n,o.value,r++,e),r>9999999)throw new TypeError("Near-infinite iteration.")}else if(u(e))for(;r<e.length;r++)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}},n.d(t,"$$asyncIterator",function(){return d}),t.isAsyncIterable=function(e){return!!y(e)},t.getAsyncIterator=h,t.getAsyncIteratorMethod=y,t.createAsyncIterator=v,t.forAwaitEach=function(e,t,n){var r=v(e);if(r){var i=0;return new Promise(function(o,a){!function u(){return r.next().then(function(r){return r.done?o():Promise.resolve(t.call(n,r.value,i++,e)).then(u).catch(a),null}).catch(a),null}()})}};var r="function"==typeof Symbol?Symbol:void 0,i=r&&r.iterator,o=i||"@@iterator";function a(e){return!!c(e)}function u(e){var t=null!=e&&e.length;return"number"==typeof t&&t>=0&&t%1==0}function s(e){var t=c(e);if(t)return t.call(e)}function c(e){if(null!=e){var t=i&&e[i]||e["@@iterator"];if("function"==typeof t)return t}}function f(e){if(null!=e){var t=s(e);if(t)return t;if(u(e))return new l(e)}}function l(e){this._o=e,this._i=0}l.prototype[o]=function(){return this},l.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}};var p=r&&r.asyncIterator,d=p||"@@asyncIterator";function h(e){var t=y(e);if(t)return t.call(e)}function y(e){if(null!=e){var t=p&&e[p]||e["@@asyncIterator"];if("function"==typeof t)return t}}function v(e){if(null!=e){var t=h(e);if(t)return t;var n=f(e);if(n)return new m(n)}}function m(e){this._i=e}m.prototype[d]=function(){return this},m.prototype.next=function(){var e=this._i.next();return Promise.resolve(e.value).then(function(t){return{value:t,done:e.done}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeFromAST=function e(t,n){var o=void 0;if(n.kind===r.Kind.LIST_TYPE)return(o=e(t,n.type))&&(0,i.GraphQLList)(o);if(n.kind===r.Kind.NON_NULL_TYPE)return(o=e(t,n.type))&&(0,i.GraphQLNonNull)(o);if(n.kind===r.Kind.NAMED_TYPE)return t.getType(n.name.value);throw new Error("Unexpected type kind: "+n.kind+".")};var r=n(2),i=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifiedScalarTypes=t.GraphQLID=t.GraphQLBoolean=t.GraphQLString=t.GraphQLFloat=t.GraphQLInt=void 0,t.isSpecifiedScalarType=function(e){return(0,r.isNamedType)(e)&&(e.name===p.name||e.name===s.name||e.name===f.name||e.name===d.name||e.name===h.name)};var r=n(1),i=n(2),o=2147483647,a=-2147483648;function u(e){if(""===e)throw new TypeError("Int cannot represent non 32-bit signed integer value: (empty string)");var t=Number(e);if(t!=t||t>o||t<a)throw new TypeError("Int cannot represent non 32-bit signed integer value: "+String(e));var n=Math.floor(t);if(n!==t)throw new TypeError("Int cannot represent non-integer value: "+String(e));return n}var s=t.GraphQLInt=new r.GraphQLScalarType({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1. ",serialize:u,parseValue:u,parseLiteral:function(e){if(e.kind===i.Kind.INT){var t=parseInt(e.value,10);if(t<=o&&t>=a)return t}}});function c(e){if(""===e)throw new TypeError("Float cannot represent non numeric value: (empty string)");var t=Number(e);if(t==t)return t;throw new TypeError("Float cannot represent non numeric value: "+String(e))}var f=t.GraphQLFloat=new r.GraphQLScalarType({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point). ",serialize:c,parseValue:c,parseLiteral:function(e){return e.kind===i.Kind.FLOAT||e.kind===i.Kind.INT?parseFloat(e.value):void 0}});function l(e){if(Array.isArray(e))throw new TypeError("String cannot represent an array value: ["+String(e)+"]");return String(e)}var p=t.GraphQLString=new r.GraphQLScalarType({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:l,parseValue:l,parseLiteral:function(e){return e.kind===i.Kind.STRING?e.value:void 0}}),d=t.GraphQLBoolean=new r.GraphQLScalarType({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:Boolean,parseValue:Boolean,parseLiteral:function(e){return e.kind===i.Kind.BOOLEAN?e.value:void 0}}),h=t.GraphQLID=new r.GraphQLScalarType({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:String,parseValue:String,parseLiteral:function(e){return e.kind===i.Kind.STRING||e.kind===i.Kind.INT?e.value:void 0}});t.specifiedScalarTypes=[p,s,f,d,h]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLError=o;var r=n(58),i=n(41);function o(e,t,n,r,a,u,s){var c=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,f=n;if(!f&&c){var l=c[0];f=l&&l.loc&&l.loc.source}var p=r;!p&&c&&(p=c.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),p&&0===p.length&&(p=void 0);var d=void 0;r&&n?d=r.map(function(e){return(0,i.getLocation)(n,e)}):c&&(d=c.reduce(function(e,t){return t.loc&&e.push((0,i.getLocation)(t.loc.source,t.loc.start)),e},[])),Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:d||void 0,enumerable:!0},path:{value:a||void 0,enumerable:!0},nodes:{value:c||void 0},source:{value:f||void 0},positions:{value:p||void 0},originalError:{value:u},extensions:{value:s||u&&u.extensions}}),u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}o.prototype=Object.create(Error.prototype,{constructor:{value:o},name:{value:"GraphQLError"},toString:{value:function(){return(0,r.printError)(this)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.reduce(function(e,n){return e[t(n)]=n,e},Object.create(null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,u=void 0,s=Array.isArray(e),c=[e],f=-1,l=[],p=void 0,d=void 0,h=void 0,y=[],v=[],m=e;do{var _=++f===c.length,b=_&&0!==l.length;if(_){if(d=0===v.length?void 0:y[y.length-1],p=h,h=v.pop(),b){if(s)p=p.slice();else{var g={};for(var T in p)p.hasOwnProperty(T)&&(g[T]=p[T]);p=g}for(var E=0,O=0;O<l.length;O++){var N=l[O][0],I=l[O][1];s&&(N-=E),s&&null===I?(p.splice(N,1),E++):p[N]=I}}f=u.index,c=u.keys,l=u.edits,s=u.inArray,u=u.prev}else{if(d=h?s?f:c[f]:void 0,null===(p=h?h[d]:m)||void 0===p)continue;h&&y.push(d)}var w=void 0;if(!Array.isArray(p)){if(!o(p))throw new Error("Invalid AST Node: "+JSON.stringify(p));var L=a(t,p.kind,_);if(L){if((w=L.call(t,p,d,h,y,v))===i)break;if(!1===w){if(!_){y.pop();continue}}else if(void 0!==w&&(l.push([d,w]),!_)){if(!o(w)){y.pop();continue}p=w}}}void 0===w&&b&&l.push([d,p]),_?y.pop():(u={inArray:s,index:f,keys:c,edits:l,prev:u},c=(s=Array.isArray(p))?p:n[p.kind]||[],f=-1,l=[],h&&v.push(h),h=p)}while(void 0!==u);return 0!==l.length&&(m=l[l.length-1][1]),m},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(!t[r]){var o=a(e[r],n.kind,!1);if(o){var u=o.apply(e[r],arguments);if(!1===u)t[r]=n;else if(u===i)t[r]=i;else if(void 0!==u)return u}}},leave:function(n){for(var r=0;r<e.length;r++)if(t[r])t[r]===n&&(t[r]=null);else{var o=a(e[r],n.kind,!0);if(o){var u=o.apply(e[r],arguments);if(u===i)t[r]=i;else if(void 0!==u&&!1!==u)return u}}}}},t.visitWithTypeInfo=function(e,t){return{enter:function(n){e.enter(n);var r=a(t,n.kind,!1);if(r){var i=r.apply(t,arguments);return void 0!==i&&(e.leave(n),o(i)&&e.enter(i)),i}},leave:function(n){var r=a(t,n.kind,!0),i=void 0;return r&&(i=r.apply(t,arguments)),e.leave(n),i}}},t.getVisitFn=a;var r=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"]},i=t.BREAK={};function o(e){return Boolean(e&&"string"==typeof e.kind)}function a(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=0,r={},i=Array.prototype.slice,o="undefined"!=typeof window&&window.setImmediate?window.setImmediate:!("undefined"==typeof e||!e.setImmediate)&&e.setImmediate,a="undefined"!=typeof window&&window.postMessage&&window.addEventListener,u="undefined"!=typeof window&&window.Promise?window.Promise:!("undefined"==typeof e||!e.Promise)&&e.Promise,s=function(e){return e[0].apply(null,i.call(e,1))};a&&window.addEventListener("message",function(e){var t,n=e.data;"string"==typeof n&&0===n.indexOf("setMsg")&&(t=r[n])&&(delete r[n],s(t))}),t.setFast=o?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(function(){s(e)})}:u?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u.resolve().then(function(){s(e)})}:a?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=n++,o="setMsg"+i;return r[o]=e,window.postMessage(o,"*"),i}:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];setTimeout(function(){s(e)},0)};var c=function(){},f=["R"],l=["F"],p=["P"];t.Promise=function(){function t(e){this._state=p,this._queue=[],this._outcome=void 0,e!==c&&m(this,e)}return t.doPolyFill=function(){"undefined"!=typeof e&&(e.Promise||(e.Promise=this)),"undefined"!=typeof window&&(window.Promise||(window.Promise=this))},t.prototype.catch=function(e){return this.then(function(){},e)},t.prototype.then=function(e,n){if("function"!=typeof e&&this._state===l||"function"!=typeof n&&this._state===f)return this;var r=new t(c);return this._state!==p?h(r,this._state===l?e:n,this._outcome):this._queue.push(new d(r,e,n)),r},t.resolve=function(e){return e instanceof this?e:y._resolve(new t(c),e)},t.reject=function(e){return y._reject(new t(c),e)},t.all=function(e){return new t(function(t,n){var r=[];if(e.length)for(var i=function(n,i,o){r.push(void 0!==o?o:i),r.length==e.length&&t(r)},o=function(t){e[t].then(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i(0,e,void 0)}).catch(function(e){i(0,void 0,e)})},a=0;a<e.length;a++)o(a);else t([])})},t.race=function(e){var n=e.length,r=!1,i=-1,o=new t(c);if(!1!==Array.isArray(e))return this.reject(new TypeError);if(!n)return this.resolve([]);for(;++i<n;)this.resolve(e[i]).then(function(e){r||(r=!0,y._resolve(o,e))},function(e){r||(r=!0,y._reject(o,e))});return o},t}();var d=function(){function e(e,t,n){this._promise=e,"function"==typeof t&&(this._onFulfilled=t,this._callFulfilled=this._otherCallFulfilled),"function"==typeof n&&(this._onRejected=n,this._callRejected=this._otherCallRejected)}return e.prototype._callFulfilled=function(e){y._resolve(this._promise,e)},e.prototype._otherCallFulfilled=function(e){h(this._promise,this._onFulfilled,e)},e.prototype._callRejected=function(e){y._reject(this._promise,e)},e.prototype._otherCallRejected=function(e){h(this._promise,this._onRejected,e)},e}();function h(e,n,r){t.setFast(function(){var t;try{t=n.apply(null,r)}catch(t){return y._reject(e,t)}return t===e?y._reject(e,new TypeError):y._resolve(e,t),null})}t._QueueItem=d;var y=function(){function e(){}return e._resolve=function(t,n){var r=_(v,n),i=r._value,o=-1,a=t._queue.length;if("error"===r._status)return e._reject(t,r._value);if(i)m(t,i);else for(t._state=l,t._outcome=n;++o<a;)t._queue[o]._callFulfilled(n);return t},e._reject=function(e,t){e._state=f,e._outcome=t;for(var n=-1,r=e._queue.length;++n<r;)e._queue[n]._callRejected(t);return e},e}();function v(e){var t=e&&e.then;return!e||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof t?null:function(){t.apply(e,arguments)}}function m(e,t){var n=!1;function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n||(n=!0,y._reject(e,t))}function i(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n||(n=!0,y._resolve(e,t))}var o=_(function(){t(i,r)});"error"===o._status&&r(o._value)}function _(e,t){var n={_status:null,_value:null};try{n._value=e(t),n._status="success"}catch(e){n._status="error",n._value=e}return n}}).call(t,n(18))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveLocation=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){var n="string"==typeof e?new r.Source(e):e;if(!(n instanceof r.Source))throw new TypeError("Must provide Source. Received: "+String(n));return function(e){var t=e.token;H(e,o.TokenKind.SOF);var n=[];do{n.push(c(e))}while(!W(e,o.TokenKind.EOF));return{kind:a.Kind.DOCUMENT,definitions:n,loc:B(e,t)}}((0,o.createLexer)(n,t||{}))},t.parseValue=function(e,t){var n="string"==typeof e?new r.Source(e):e,i=(0,o.createLexer)(n,t||{});H(i,o.TokenKind.SOF);var a=E(i,!1);return H(i,o.TokenKind.EOF),a},t.parseType=function(e,t){var n="string"==typeof e?new r.Source(e):e,i=(0,o.createLexer)(n,t||{});H(i,o.TokenKind.SOF);var a=k(i);return H(i,o.TokenKind.EOF),a},t.parseConstValue=N,t.parseTypeReference=k,t.parseNamedType=A;var r=n(60),i=n(0),o=n(42),a=n(2),u=n(20);function s(e){var t=H(e,o.TokenKind.NAME);return{kind:a.Kind.NAME,value:t.value,loc:B(e,t)}}function c(e){if(Y(e,o.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return f(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return j(e)}else{if(Y(e,o.TokenKind.BRACE_L))return f(e);if(D(e))return j(e)}throw $(e)}function f(e){if(Y(e,o.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return l(e);case"fragment":return function(e){var t=e.token;return z(e,"fragment"),e.options.experimentalFragmentVariables?{kind:a.Kind.FRAGMENT_DEFINITION,name:T(e),variableDefinitions:d(e),typeCondition:(z(e,"on"),A(e)),directives:L(e,!1),selectionSet:v(e),loc:B(e,t)}:{kind:a.Kind.FRAGMENT_DEFINITION,name:T(e),typeCondition:(z(e,"on"),A(e)),directives:L(e,!1),selectionSet:v(e),loc:B(e,t)}}(e)}else if(Y(e,o.TokenKind.BRACE_L))return l(e);throw $(e)}function l(e){var t=e.token;if(Y(e,o.TokenKind.BRACE_L))return{kind:a.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:v(e),loc:B(e,t)};var n=p(e),r=void 0;return Y(e,o.TokenKind.NAME)&&(r=s(e)),{kind:a.Kind.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:d(e),directives:L(e,!1),selectionSet:v(e),loc:B(e,t)}}function p(e){var t=H(e,o.TokenKind.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw $(e,t)}function d(e){return Y(e,o.TokenKind.PAREN_L)?X(e,o.TokenKind.PAREN_L,h,o.TokenKind.PAREN_R):[]}function h(e){var t=e.token;return{kind:a.Kind.VARIABLE_DEFINITION,variable:y(e),type:(H(e,o.TokenKind.COLON),k(e)),defaultValue:W(e,o.TokenKind.EQUALS)?E(e,!0):void 0,loc:B(e,t)}}function y(e){var t=e.token;return H(e,o.TokenKind.DOLLAR),{kind:a.Kind.VARIABLE,name:s(e),loc:B(e,t)}}function v(e){var t=e.token;return{kind:a.Kind.SELECTION_SET,selections:X(e,o.TokenKind.BRACE_L,m,o.TokenKind.BRACE_R),loc:B(e,t)}}function m(e){return Y(e,o.TokenKind.SPREAD)?function(e){var t=e.token;if(H(e,o.TokenKind.SPREAD),Y(e,o.TokenKind.NAME)&&"on"!==e.token.value)return{kind:a.Kind.FRAGMENT_SPREAD,name:T(e),directives:L(e,!1),loc:B(e,t)};var n=void 0;return"on"===e.token.value&&(e.advance(),n=A(e)),{kind:a.Kind.INLINE_FRAGMENT,typeCondition:n,directives:L(e,!1),selectionSet:v(e),loc:B(e,t)}}(e):function(e){var t=e.token,n=s(e),r=void 0,i=void 0;return W(e,o.TokenKind.COLON)?(r=n,i=s(e)):i=n,{kind:a.Kind.FIELD,alias:r,name:i,arguments:_(e,!1),directives:L(e,!1),selectionSet:Y(e,o.TokenKind.BRACE_L)?v(e):void 0,loc:B(e,t)}}(e)}function _(e,t){var n=t?g:b;return Y(e,o.TokenKind.PAREN_L)?X(e,o.TokenKind.PAREN_L,n,o.TokenKind.PAREN_R):[]}function b(e){var t=e.token;return{kind:a.Kind.ARGUMENT,name:s(e),value:(H(e,o.TokenKind.COLON),E(e,!1)),loc:B(e,t)}}function g(e){var t=e.token;return{kind:a.Kind.ARGUMENT,name:s(e),value:(H(e,o.TokenKind.COLON),N(e)),loc:B(e,t)}}function T(e){if("on"===e.token.value)throw $(e);return s(e)}function E(e,t){var n=e.token;switch(n.kind){case o.TokenKind.BRACKET_L:return function(e,t){var n=e.token;return{kind:a.Kind.LIST,values:function(e,t,n,r){H(e,o.TokenKind.BRACKET_L);for(var i=[];!W(e,r);)i.push(n(e));return i}(e,0,t?N:I,o.TokenKind.BRACKET_R),loc:B(e,n)}}(e,t);case o.TokenKind.BRACE_L:return function(e,t){var n=e.token;H(e,o.TokenKind.BRACE_L);for(var r=[];!W(e,o.TokenKind.BRACE_R);)r.push(w(e,t));return{kind:a.Kind.OBJECT,fields:r,loc:B(e,n)}}(e,t);case o.TokenKind.INT:return e.advance(),{kind:a.Kind.INT,value:n.value,loc:B(e,n)};case o.TokenKind.FLOAT:return e.advance(),{kind:a.Kind.FLOAT,value:n.value,loc:B(e,n)};case o.TokenKind.STRING:case o.TokenKind.BLOCK_STRING:return O(e);case o.TokenKind.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:a.Kind.BOOLEAN,value:"true"===n.value,loc:B(e,n)}):"null"===n.value?(e.advance(),{kind:a.Kind.NULL,loc:B(e,n)}):(e.advance(),{kind:a.Kind.ENUM,value:n.value,loc:B(e,n)});case o.TokenKind.DOLLAR:if(!t)return y(e)}throw $(e)}function O(e){var t=e.token;return e.advance(),{kind:a.Kind.STRING,value:t.value,block:t.kind===o.TokenKind.BLOCK_STRING,loc:B(e,t)}}function N(e){return E(e,!0)}function I(e){return E(e,!1)}function w(e,t){var n=e.token;return{kind:a.Kind.OBJECT_FIELD,name:s(e),value:(H(e,o.TokenKind.COLON),E(e,t)),loc:B(e,n)}}function L(e,t){for(var n=[];Y(e,o.TokenKind.AT);)n.push(S(e,t));return n}function S(e,t){var n=e.token;return H(e,o.TokenKind.AT),{kind:a.Kind.DIRECTIVE,name:s(e),arguments:_(e,t),loc:B(e,n)}}function k(e){var t=e.token,n=void 0;return W(e,o.TokenKind.BRACKET_L)?(n=k(e),H(e,o.TokenKind.BRACKET_R),n={kind:a.Kind.LIST_TYPE,type:n,loc:B(e,t)}):n=A(e),W(e,o.TokenKind.BANG)?{kind:a.Kind.NON_NULL_TYPE,type:n,loc:B(e,t)}:n}function A(e){var t=e.token;return{kind:a.Kind.NAMED_TYPE,name:s(e),loc:B(e,t)}}function j(e){var t=D(e)?e.lookahead():e.token;if(t.kind===o.TokenKind.NAME)switch(t.value){case"schema":return function(e){var t=e.token;z(e,"schema");var n=L(e,!0),r=X(e,o.TokenKind.BRACE_L,x,o.TokenKind.BRACE_R);return{kind:a.Kind.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:B(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=P(e);z(e,"scalar");var r=s(e),i=L(e,!0);return{kind:a.Kind.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i,loc:B(e,t)}}(e);case"type":return function(e){var t=e.token,n=P(e);z(e,"type");var r=s(e),i=R(e),o=L(e,!0),u=F(e);return{kind:a.Kind.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:u,loc:B(e,t)}}(e);case"interface":return function(e){var t=e.token,n=P(e);z(e,"interface");var r=s(e),i=L(e,!0),o=F(e);return{kind:a.Kind.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:B(e,t)}}(e);case"union":return function(e){var t=e.token,n=P(e);z(e,"union");var r=s(e),i=L(e,!0),o=G(e);return{kind:a.Kind.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o,loc:B(e,t)}}(e);case"enum":return function(e){var t=e.token,n=P(e);z(e,"enum");var r=s(e),i=L(e,!0),o=q(e);return{kind:a.Kind.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o,loc:B(e,t)}}(e);case"input":return function(e){var t=e.token,n=P(e);z(e,"input");var r=s(e),i=L(e,!0),o=K(e);return{kind:a.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o,loc:B(e,t)}}(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===o.TokenKind.NAME)switch(t.value){case"scalar":return function(e){var t=e.token;z(e,"extend"),z(e,"scalar");var n=s(e),r=L(e,!0);if(0===r.length)throw $(e);return{kind:a.Kind.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:B(e,t)}}(e);case"type":return function(e){var t=e.token;z(e,"extend"),z(e,"type");var n=s(e),r=R(e),i=L(e,!0),o=F(e);if(0===r.length&&0===i.length&&0===o.length)throw $(e);return{kind:a.Kind.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o,loc:B(e,t)}}(e);case"interface":return function(e){var t=e.token;z(e,"extend"),z(e,"interface");var n=s(e),r=L(e,!0),i=F(e);if(0===r.length&&0===i.length)throw $(e);return{kind:a.Kind.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:B(e,t)}}(e);case"union":return function(e){var t=e.token;z(e,"extend"),z(e,"union");var n=s(e),r=L(e,!0),i=G(e);if(0===r.length&&0===i.length)throw $(e);return{kind:a.Kind.UNION_TYPE_EXTENSION,name:n,directives:r,types:i,loc:B(e,t)}}(e);case"enum":return function(e){var t=e.token;z(e,"extend"),z(e,"enum");var n=s(e),r=L(e,!0),i=q(e);if(0===r.length&&0===i.length)throw $(e);return{kind:a.Kind.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i,loc:B(e,t)}}(e);case"input":return function(e){var t=e.token;z(e,"extend"),z(e,"input");var n=s(e),r=L(e,!0),i=K(e);if(0===r.length&&0===i.length)throw $(e);return{kind:a.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:B(e,t)}}(e)}throw $(e,t)}(e);case"directive":return function(e){var t=e.token,n=P(e);z(e,"directive"),H(e,o.TokenKind.AT);var r=s(e),i=C(e);z(e,"on");var u=function(e){W(e,o.TokenKind.PIPE);var t=[];do{t.push(U(e))}while(W(e,o.TokenKind.PIPE));return t}(e);return{kind:a.Kind.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,locations:u,loc:B(e,t)}}(e)}throw $(e,t)}function D(e){return Y(e,o.TokenKind.STRING)||Y(e,o.TokenKind.BLOCK_STRING)}function P(e){if(D(e))return O(e)}function x(e){var t=e.token,n=p(e);H(e,o.TokenKind.COLON);var r=A(e);return{kind:a.Kind.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:B(e,t)}}function R(e){var t=[];if("implements"===e.token.value){e.advance(),W(e,o.TokenKind.AMP);do{t.push(A(e))}while(W(e,o.TokenKind.AMP)||e.options.allowLegacySDLImplementsInterfaces&&Y(e,o.TokenKind.NAME))}return t}function F(e){return e.options.allowLegacySDLEmptyFields&&Y(e,o.TokenKind.BRACE_L)&&e.lookahead().kind===o.TokenKind.BRACE_R?(e.advance(),e.advance(),[]):Y(e,o.TokenKind.BRACE_L)?X(e,o.TokenKind.BRACE_L,M,o.TokenKind.BRACE_R):[]}function M(e){var t=e.token,n=P(e),r=s(e),i=C(e);H(e,o.TokenKind.COLON);var u=k(e),c=L(e,!0);return{kind:a.Kind.FIELD_DEFINITION,description:n,name:r,arguments:i,type:u,directives:c,loc:B(e,t)}}function C(e){return Y(e,o.TokenKind.PAREN_L)?X(e,o.TokenKind.PAREN_L,Q,o.TokenKind.PAREN_R):[]}function Q(e){var t=e.token,n=P(e),r=s(e);H(e,o.TokenKind.COLON);var i=k(e),u=void 0;W(e,o.TokenKind.EQUALS)&&(u=N(e));var c=L(e,!0);return{kind:a.Kind.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:u,directives:c,loc:B(e,t)}}function G(e){var t=[];if(W(e,o.TokenKind.EQUALS)){W(e,o.TokenKind.PIPE);do{t.push(A(e))}while(W(e,o.TokenKind.PIPE))}return t}function q(e){return Y(e,o.TokenKind.BRACE_L)?X(e,o.TokenKind.BRACE_L,V,o.TokenKind.BRACE_R):[]}function V(e){var t=e.token,n=P(e),r=s(e),i=L(e,!0);return{kind:a.Kind.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i,loc:B(e,t)}}function K(e){return Y(e,o.TokenKind.BRACE_L)?X(e,o.TokenKind.BRACE_L,Q,o.TokenKind.BRACE_R):[]}function U(e){var t=e.token,n=s(e);if(u.DirectiveLocation.hasOwnProperty(n.value))return n;throw $(e,t)}function B(e,t){if(!e.options.noLocation)return new J(t,e.lastToken,e.source)}function J(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function Y(e,t){return e.token.kind===t}function W(e,t){var n=e.token.kind===t;return n&&e.advance(),n}function H(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw(0,i.syntaxError)(e.source,n.start,"Expected "+t+", found "+(0,o.getTokenDesc)(n))}function z(e,t){var n=e.token;if(n.kind===o.TokenKind.NAME&&n.value===t)return e.advance(),n;throw(0,i.syntaxError)(e.source,n.start,'Expected "'+t+'", found '+(0,o.getTokenDesc)(n))}function $(e,t){var n=t||e.token;return(0,i.syntaxError)(e.source,n.start,"Unexpected "+(0,o.getTokenDesc)(n))}function X(e,t,n,r){H(e,t);for(var i=[n(e)];!W(e,r);)i.push(n(e));return i}J.prototype.toJSON=J.prototype.inspect=function(){return{start:this.start,end:this.end}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeInfo=void 0;var r,i=n(2),o=n(1),a=n(10),u=n(12),s=(r=n(21))&&r.__esModule?r:{default:r};function c(e,t,n){var r=n.name.value;return r===a.SchemaMetaFieldDef.name&&e.getQueryType()===t?a.SchemaMetaFieldDef:r===a.TypeMetaFieldDef.name&&e.getQueryType()===t?a.TypeMetaFieldDef:r===a.TypeNameMetaFieldDef.name&&(0,o.isCompositeType)(t)?a.TypeNameMetaFieldDef:(0,o.isObjectType)(t)||(0,o.isInterfaceType)(t)?t.getFields()[r]:void 0}t.TypeInfo=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._schema=t,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=n||c,r&&((0,o.isInputType)(r)&&this._inputTypeStack.push(r),(0,o.isCompositeType)(r)&&this._parentTypeStack.push(r),(0,o.isOutputType)(r)&&this._typeStack.push(r))}return e.prototype.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},e.prototype.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},e.prototype.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},e.prototype.getParentInputType=function(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]},e.prototype.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},e.prototype.getDirective=function(){return this._directive},e.prototype.getArgument=function(){return this._argument},e.prototype.getEnumValue=function(){return this._enumValue},e.prototype.enter=function(e){var t=this._schema;switch(e.kind){case i.Kind.SELECTION_SET:var n=(0,o.getNamedType)(this.getType());this._parentTypeStack.push((0,o.isCompositeType)(n)?n:void 0);break;case i.Kind.FIELD:var r=this.getParentType(),a=void 0,c=void 0;r&&(a=this._getFieldDef(t,r,e))&&(c=a.type),this._fieldDefStack.push(a),this._typeStack.push((0,o.isOutputType)(c)?c:void 0);break;case i.Kind.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case i.Kind.OPERATION_DEFINITION:var f=void 0;"query"===e.operation?f=t.getQueryType():"mutation"===e.operation?f=t.getMutationType():"subscription"===e.operation&&(f=t.getSubscriptionType()),this._typeStack.push((0,o.isObjectType)(f)?f:void 0);break;case i.Kind.INLINE_FRAGMENT:case i.Kind.FRAGMENT_DEFINITION:var l=e.typeCondition,p=l?(0,u.typeFromAST)(t,l):(0,o.getNamedType)(this.getType());this._typeStack.push((0,o.isOutputType)(p)?p:void 0);break;case i.Kind.VARIABLE_DEFINITION:var d=(0,u.typeFromAST)(t,e.type);this._inputTypeStack.push((0,o.isInputType)(d)?d:void 0);break;case i.Kind.ARGUMENT:var h=void 0,y=void 0,v=this.getDirective()||this.getFieldDef();v&&(h=(0,s.default)(v.args,function(t){return t.name===e.name.value}))&&(y=h.type),this._argument=h,this._inputTypeStack.push((0,o.isInputType)(y)?y:void 0);break;case i.Kind.LIST:var m=(0,o.getNullableType)(this.getInputType()),_=(0,o.isListType)(m)?m.ofType:m;this._inputTypeStack.push((0,o.isInputType)(_)?_:void 0);break;case i.Kind.OBJECT_FIELD:var b=(0,o.getNamedType)(this.getInputType()),g=void 0;if((0,o.isInputObjectType)(b)){var T=b.getFields()[e.name.value];T&&(g=T.type)}this._inputTypeStack.push((0,o.isInputType)(g)?g:void 0);break;case i.Kind.ENUM:var E=(0,o.getNamedType)(this.getInputType()),O=void 0;(0,o.isEnumType)(E)&&(O=E.getValue(e.value)),this._enumValue=O}},e.prototype.leave=function(e){switch(e.kind){case i.Kind.SELECTION_SET:this._parentTypeStack.pop();break;case i.Kind.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case i.Kind.DIRECTIVE:this._directive=null;break;case i.Kind.OPERATION_DEFINITION:case i.Kind.INLINE_FRAGMENT:case i.Kind.FRAGMENT_DEFINITION:this._typeStack.pop();break;case i.Kind.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case i.Kind.ARGUMENT:this._argument=null,this._inputTypeStack.pop();break;case i.Kind.LIST:case i.Kind.OBJECT_FIELD:this._inputTypeStack.pop();break;case i.Kind.ENUM:this._enumValue=null}},e}()},function(e,t,n){"use strict";function r(e,t){if(e===t)return 0;var n=void 0,r=void 0,i=[],o=e.toLowerCase(),a=t.toLowerCase(),u=o.length,s=a.length;if(o===a)return 1;for(n=0;n<=u;n++)i[n]=[n];for(r=1;r<=s;r++)i[0][r]=r;for(n=1;n<=u;n++)for(r=1;r<=s;r++){var c=o[n-1]===a[r-1]?0:1;i[n][r]=Math.min(i[n-1][r]+1,i[n][r-1]+1,i[n-1][r-1]+c),n>1&&r>1&&o[n-1]===a[r-2]&&o[n-2]===a[r-1]&&(i[n][r]=Math.min(i[n][r],i[n-2][r-2]+c))}return i[u][s]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=Object.create(null),i=t.length,o=e.length/2,a=0;a<i;a++){var u=r(e,t[a]);u<=Math.max(o,t[a].length/2,1)&&(n[t[a]]=u)}return Object.keys(n).sort(function(e,t){return n[e]-n[t]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchema=h,t.assertValidSchema=function(e){var t=h(e);if(0!==t.length)throw new Error(t.map(function(e){return e.message}).join("\n\n"))};var r=n(1),i=n(9),o=n(10),a=n(4),u=d(n(21)),s=d(n(5)),c=d(n(14)),f=n(15),l=n(59),p=n(28);function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if((0,a.isSchema)(e)||(0,s.default)(0,"Expected "+String(e)+" to be a GraphQL schema."),e.__validationErrors)return e.__validationErrors;var t=new y(e);!function(e){var t=e.schema,n=t.getQueryType();n?(0,r.isObjectType)(n)||e.reportError("Query root type must be Object type, it cannot be "+String(n)+".",v(t,n,"query")):e.reportError("Query root type must be provided.",t.astNode);var i=t.getMutationType();i&&!(0,r.isObjectType)(i)&&e.reportError("Mutation root type must be Object type if provided, it cannot be "+String(i)+".",v(t,i,"mutation"));var o=t.getSubscriptionType();o&&!(0,r.isObjectType)(o)&&e.reportError("Subscription root type must be Object type if provided, it cannot be "+String(o)+".",v(t,o,"subscription"))}(t),function(e){e.schema.getDirectives().forEach(function(t){if((0,i.isDirective)(t)){m(e,t);var n=Object.create(null);t.args.forEach(function(i){var o=i.name;m(e,i),n[o]?e.reportError("Argument @"+t.name+"("+o+":) can only be defined once.",L(t,o)):(n[o]=!0,(0,r.isInputType)(i.type)||e.reportError("The type of @"+t.name+"("+o+":) must be Input Type but got: "+String(i.type)+".",function(e,t){var n=L(e,t)[0];return n&&n.type}(t,o)))})}else e.reportError("Expected directive but got: "+String(t)+".",t&&t.astNode)})}(t),function(e){var t=e.schema.getTypeMap();(0,c.default)(t).forEach(function(t){(0,r.isNamedType)(t)?((0,o.isIntrospectionType)(t)||m(e,t),(0,r.isObjectType)(t)?(_(e,t),function(e,t){var n=Object.create(null);t.getInterfaces().forEach(function(i){(0,r.isInterfaceType)(i)?n[i.name]?e.reportError("Type "+t.name+" can only implement "+i.name+" once.",g(t,i)):(n[i.name]=!0,function(e,t,n){var i=t.getFields(),o=n.getFields();Object.keys(o).forEach(function(a){var s=i[a],c=o[a];s?((0,p.isTypeSubTypeOf)(e.schema,s.type,c.type)||e.reportError("Interface field "+n.name+"."+a+" expects type "+String(c.type)+" but "+t.name+"."+a+" is type "+String(s.type)+".",[O(n,a),O(t,a)]),c.args.forEach(function(r){var i=r.name,o=(0,u.default)(s.args,function(e){return e.name===i});o?(0,p.isEqualType)(r.type,o.type)||e.reportError("Interface field argument "+n.name+"."+a+"("+i+":) expects type "+String(r.type)+" but "+t.name+"."+a+"("+i+":) is type "+String(o.type)+".",[w(n,a,i),w(t,a,i)]):e.reportError("Interface field argument "+n.name+"."+a+"("+i+":) expected but "+t.name+"."+a+" does not provide it.",[N(n,a,i),T(t,a)])}),s.args.forEach(function(i){var o=i.name;!(0,u.default)(c.args,function(e){return e.name===o})&&(0,r.isNonNullType)(i.type)&&e.reportError("Object field argument "+t.name+"."+a+"("+o+":) is of required type "+String(i.type)+" but is not also provided by the Interface field "+n.name+"."+a+".",[w(t,a,o),T(n,a)])})):e.reportError("Interface field "+n.name+"."+a+" expected but "+t.name+" does not provide it.",[T(n,a),t.astNode])})}(e,t,i)):e.reportError("Type "+String(t)+" must only implement Interface types, it cannot implement "+String(i)+".",function(e,n){return g(t,n)[0]}(0,i))})}(e,t)):(0,r.isInterfaceType)(t)?_(e,t):(0,r.isUnionType)(t)?function(e,t){var n=t.getTypes();0===n.length&&e.reportError("Union type "+t.name+" must define one or more member types.",t.astNode);var i=Object.create(null);n.forEach(function(n){i[n.name]?e.reportError("Union type "+t.name+" can only include type "+n.name+" once.",S(t,n.name)):(i[n.name]=!0,(0,r.isObjectType)(n)||e.reportError("Union type "+t.name+" can only include Object types, it cannot include "+String(n)+".",S(t,String(n))))})}(e,t):(0,r.isEnumType)(t)?function(e,t){var n=t.getValues();0===n.length&&e.reportError("Enum type "+t.name+" must define one or more values.",t.astNode),n.forEach(function(n){var r=n.name,i=function(e,t){return e.astNode&&e.astNode.values&&e.astNode.values.filter(function(e){return e.name.value===t})}(t,r);i&&i.length>1&&e.reportError("Enum type "+t.name+" can include value "+r+" only once.",i),m(e,n),"true"!==r&&"false"!==r&&"null"!==r||e.reportError("Enum type "+t.name+" cannot include value: "+r+".",n.astNode)})}(e,t):(0,r.isInputObjectType)(t)&&function(e,t){var n=(0,c.default)(t.getFields());0===n.length&&e.reportError("Input Object type "+t.name+" must define one or more fields.",t.astNode),n.forEach(function(n){m(e,n),(0,r.isInputType)(n.type)||e.reportError("The type of "+t.name+"."+n.name+" must be Input Type but got: "+String(n.type)+".",n.astNode&&n.astNode.type)})}(e,t)):e.reportError("Expected GraphQL named type but got: "+String(t)+".",t&&t.astNode)})}(t);var n=t.getErrors();return e.__validationErrors=n,n}var y=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._errors=[],this.schema=t}return e.prototype.reportError=function(e,t){var n=(Array.isArray(t)?t:[t]).filter(Boolean);this.addError(new f.GraphQLError(e,n))},e.prototype.addError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e}();function v(e,t,n){var r=e.astNode,i=r&&r.operationTypes.find(function(e){return e.operation===n});return i?i.type:t&&t.astNode}function m(e,t){if(!e.schema.__allowedLegacyNames||-1===e.schema.__allowedLegacyNames.indexOf(t.name)){var n=(0,l.isValidNameError)(t.name,t.astNode||void 0);n&&e.addError(n)}}function _(e,t){var n=(0,c.default)(t.getFields());0===n.length&&e.reportError("Type "+t.name+" must define one or more fields.",b(t)),n.forEach(function(n){m(e,n);var i=E(t,n.name);if(i.length>1)e.reportError("Field "+t.name+"."+n.name+" can only be defined once.",i);else{(0,r.isOutputType)(n.type)||e.reportError("The type of "+t.name+"."+n.name+" must be Output Type but got: "+String(n.type)+".",O(t,n.name));var o=Object.create(null);n.args.forEach(function(i){var a=i.name;m(e,i),o[a]&&e.reportError("Field argument "+t.name+"."+n.name+"("+a+":) can only be defined once.",I(t,n.name,a)),o[a]=!0,(0,r.isInputType)(i.type)||e.reportError("The type of "+t.name+"."+n.name+"("+a+":) must be Input Type but got: "+String(i.type)+".",w(t,n.name,a))})}})}function b(e){return e.astNode?e.extensionASTNodes?[e.astNode].concat(e.extensionASTNodes):[e.astNode]:e.extensionASTNodes||[]}function g(e,t){for(var n=[],r=function(e){return e.astNode?e.extensionASTNodes?[e.astNode].concat(e.extensionASTNodes):[e.astNode]:e.extensionASTNodes||[]}(e),i=0;i<r.length;i++){var o=r[i];o&&o.interfaces&&o.interfaces.forEach(function(e){e.name.value===t.name&&n.push(e)})}return n}function T(e,t){return E(e,t)[0]}function E(e,t){for(var n=[],r=b(e),i=0;i<r.length;i++){var o=r[i];o&&o.fields&&o.fields.forEach(function(e){e.name.value===t&&n.push(e)})}return n}function O(e,t){var n=T(e,t);return n&&n.type}function N(e,t,n){return I(e,t,n)[0]}function I(e,t,n){var r=[],i=T(e,t);return i&&i.arguments&&i.arguments.forEach(function(e){e.name.value===n&&r.push(e)}),r}function w(e,t,n){var r=N(e,t,n);return r&&r.type}function L(e,t){var n=[],r=e.astNode;return r&&r.arguments&&r.arguments.forEach(function(e){e.name.value===t&&n.push(e)}),n}function S(e,t){return e.astNode&&e.astNode.types&&e.astNode.types.filter(function(e){return e.name.value===t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.reduce(function(e,r){return e[t(r)]=n(r),e},Object.create(null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null===e||void 0===e||e!=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEqualType=function e(t,n){return t===n||((0,r.isNonNullType)(t)&&(0,r.isNonNullType)(n)?e(t.ofType,n.ofType):!(!(0,r.isListType)(t)||!(0,r.isListType)(n))&&e(t.ofType,n.ofType))},t.isTypeSubTypeOf=function e(t,n,i){return n===i||((0,r.isNonNullType)(i)?!!(0,r.isNonNullType)(n)&&e(t,n.ofType,i.ofType):(0,r.isNonNullType)(n)?e(t,n.ofType,i):(0,r.isListType)(i)?!!(0,r.isListType)(n)&&e(t,n.ofType,i.ofType):!(0,r.isListType)(n)&&!!((0,r.isAbstractType)(i)&&(0,r.isObjectType)(n)&&t.isPossibleType(i,n)))},t.doTypesOverlap=function(e,t,n){return t===n||((0,r.isAbstractType)(t)?(0,r.isAbstractType)(n)?e.getPossibleTypes(t).some(function(t){return e.isPossibleType(n,t)}):e.isPossibleType(t,n):!!(0,r.isAbstractType)(n)&&e.isPossibleType(n,t))};var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFieldResolver=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.execute=function(e,t,n,r,i,o,a){return 1===arguments.length?T(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):T(e,t,n,r,i,o,a)},t.responsePathAsArray=E,t.addPath=O,t.assertValidExecutionArguments=N,t.buildExecutionContext=I,t.getOperationRootType=w,t.collectFields=S,t.buildResolveInfo=D,t.resolveFieldValueOrError=P,t.getFieldDef=K;var i=n(11),o=n(0),a=g(n(5)),u=g(n(8)),s=g(n(27)),c=g(n(90)),f=g(n(135)),l=g(n(136)),p=g(n(137)),d=n(12),h=n(2),y=n(30),v=n(1),m=(n(4),n(10)),_=n(9),b=n(25);function g(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r,i,o,a){N(e,t,i);var u=I(e,t,n,r,i,o,a);return Array.isArray(u)?{errors:u}:function e(t,n){return(0,c.default)(n)?n.then(function(n){return e(t,n)}):0===t.errors.length?{data:n}:{errors:t.errors,data:n}}(u,function(e,t,n){var r=w(e.schema,t),i=S(e,r,t.selectionSet,Object.create(null),Object.create(null));try{var o="mutation"===t.operation?function(e,t,n,r,i){return(0,p.default)(Object.keys(i),function(r,o){var a=i[o],u=O(void 0,o),s=j(e,t,n,a,u);return void 0===s?r:(0,c.default)(s)?s.then(function(e){return r[o]=e,r}):(r[o]=s,r)},Object.create(null))}(e,r,n,0,i):L(e,r,n,void 0,i);return(0,c.default)(o)?o.then(void 0,function(t){return e.errors.push(t),Promise.resolve(null)}):o}catch(t){return e.errors.push(t),null}}(u,u.operation,n))}function E(e){for(var t=[],n=e;n;)t.push(n.key),n=n.prev;return t.reverse()}function O(e,t){return{prev:e,key:t}}function N(e,t,n){t||(0,a.default)(0,"Must provide document"),(0,b.assertValidSchema)(e),n&&"object"!==("undefined"==typeof n?"undefined":r(n))&&(0,a.default)(0,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function I(e,t,n,r,i,u,s){for(var c=[],f=void 0,l=!1,p=Object.create(null),d=0;d<t.definitions.length;d++){var v=t.definitions[d];switch(v.kind){case h.Kind.OPERATION_DEFINITION:!u&&f?l=!0:(!u||v.name&&v.name.value===u)&&(f=v);break;case h.Kind.FRAGMENT_DEFINITION:p[v.name.value]=v}}f?l&&c.push(new o.GraphQLError("Must provide operation name if query contains multiple operations.")):c.push(new o.GraphQLError(u?'Unknown operation named "'+u+'".':"Must provide an operation."));var m=void 0;if(f){var _=(0,y.getVariableValues)(e,f.variableDefinitions||[],i||{});_.errors?c.push.apply(c,_.errors):m=_.coerced}return 0!==c.length?c:(f||(0,a.default)(0,"Has operation if no errors."),m||(0,a.default)(0,"Has variables if no errors."),{schema:e,fragments:p,rootValue:n,contextValue:r,operation:f,variableValues:m,fieldResolver:s||V,errors:c})}function w(e,t){switch(t.operation){case"query":var n=e.getQueryType();if(!n)throw new o.GraphQLError("Schema does not define the required query root type.",[t]);return n;case"mutation":var r=e.getMutationType();if(!r)throw new o.GraphQLError("Schema is not configured for mutations.",[t]);return r;case"subscription":var i=e.getSubscriptionType();if(!i)throw new o.GraphQLError("Schema is not configured for subscriptions.",[t]);return i;default:throw new o.GraphQLError("Can only execute queries, mutations and subscriptions.",[t])}}function L(e,t,n,r,i){var o=!1,a=Object.keys(i).reduce(function(a,u){var s=i[u],f=O(r,u),l=j(e,t,n,s,f);return void 0===l?a:(a[u]=l,!o&&(0,c.default)(l)&&(o=!0),a)},Object.create(null));return o?(0,l.default)(a):a}function S(e,t,n,r,i){for(var o=0;o<n.selections.length;o++){var a=n.selections[o];switch(a.kind){case h.Kind.FIELD:if(!k(e,a))continue;var u=(f=a).alias?f.alias.value:f.name.value;r[u]||(r[u]=[]),r[u].push(a);break;case h.Kind.INLINE_FRAGMENT:if(!k(e,a)||!A(e,a,t))continue;S(e,t,a.selectionSet,r,i);break;case h.Kind.FRAGMENT_SPREAD:var s=a.name.value;if(i[s]||!k(e,a))continue;i[s]=!0;var c=e.fragments[s];if(!c||!A(e,c,t))continue;S(e,t,c.selectionSet,r,i)}}var f;return r}function k(e,t){var n=(0,y.getDirectiveValues)(_.GraphQLSkipDirective,t,e.variableValues);if(n&&!0===n.if)return!1;var r=(0,y.getDirectiveValues)(_.GraphQLIncludeDirective,t,e.variableValues);return!r||!1!==r.if}function A(e,t,n){var r=t.typeCondition;if(!r)return!0;var i=(0,d.typeFromAST)(e.schema,r);return i===n||!!(0,v.isAbstractType)(i)&&e.schema.isPossibleType(i,n)}function j(e,t,n,r,i){var o=K(e.schema,t,r[0].name.value);if(o){var a=o.resolve||e.fieldResolver,u=D(e,o,r,t,i),s=P(e,o,r,a,n,u);return R(e,o.type,r,u,i,s)}}function D(e,t,n,r,i){return{fieldName:n[0].name.value,fieldNodes:n,returnType:t.type,parentType:r,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function P(e,t,n,r,i,o){try{var a=r(i,(0,y.getArgumentValues)(t,n[0],e.variableValues),e.contextValue,o);return(0,c.default)(a)?a.then(void 0,x):a}catch(e){return x(e)}}function x(e){return e instanceof Error?e:new Error(e||void 0)}function R(e,t,n,r,i,o){if((0,v.isNonNullType)(t))return F(e,t,n,r,i,o);try{var a=F(e,t,n,r,i,o);return(0,c.default)(a)?a.then(void 0,function(t){return e.errors.push(t),Promise.resolve(null)}):a}catch(t){return e.errors.push(t),null}}function F(e,t,n,f,l,p){try{var d=function e(t,n,o,f,l,p){if((0,c.default)(p))return p.then(function(r){return e(t,n,o,f,l,r)});if(p instanceof Error)throw p;if((0,v.isNonNullType)(n)){var d=e(t,n.ofType,o,f,l,p);if(null===d)throw new Error("Cannot return null for non-nullable field "+f.parentType.name+"."+f.fieldName+".");return d}if((0,s.default)(p))return null;if((0,v.isListType)(n))return function(e,t,n,r,o,u){(0,i.isCollection)(u)||(0,a.default)(0,"Expected Iterable, but did not find one for field "+r.parentType.name+"."+r.fieldName+".");var s=t.ofType,f=!1,l=[];return(0,i.forEach)(u,function(t,i){var a=O(o,i),u=R(e,s,n,r,a,t);!f&&(0,c.default)(u)&&(f=!0),l.push(u)}),f?Promise.all(l):l}(t,n,o,f,l,p);if((0,v.isLeafType)(n))return function(e,t){e.serialize||(0,a.default)(0,"Missing serialize method on type");var n=e.serialize(t);if((0,u.default)(n))throw new Error('Expected a value of type "'+String(e)+'" but received: '+String(t));return n}(n,p);if((0,v.isAbstractType)(n))return function(e,t,n,i,o,a){var u=t.resolveType?t.resolveType(a,e.contextValue,i):function(e,t,n,i){if(null!==e&&"object"===("undefined"==typeof e?"undefined":r(e))&&"string"==typeof e.__typename)return e.__typename;for(var o=n.schema.getPossibleTypes(i),a=[],u=0;u<o.length;u++){var s=o[u];if(s.isTypeOf){var f=s.isTypeOf(e,t,n);if((0,c.default)(f))a[u]=f;else if(f)return s}}return a.length?Promise.all(a).then(function(e){for(var t=0;t<e.length;t++)if(e[t])return o[t]}):void 0}(a,e.contextValue,i,t);return(0,c.default)(u)?u.then(function(r){return C(e,M(r,e,t,n,i,a),n,i,o,a)}):C(e,M(u,e,t,n,i,a),n,i,o,a)}(t,n,o,f,l,p);if((0,v.isObjectType)(n))return C(t,n,o,f,l,p);throw new Error('Cannot complete value of unexpected type "'+String(n)+'".')}(e,t,n,f,l,p);return(0,c.default)(d)?d.then(void 0,function(e){return Promise.reject((0,o.locatedError)(x(e),n,E(l)))}):d}catch(e){throw(0,o.locatedError)(x(e),n,E(l))}}function M(e,t,n,r,i,a){var u="string"==typeof e?t.schema.getType(e):e;if(!(0,v.isObjectType)(u))throw new o.GraphQLError("Abstract type "+n.name+" must resolve to an Object type at runtime for field "+i.parentType.name+"."+i.fieldName+' with value "'+String(a)+'", received "'+String(u)+'". Either the '+n.name+' type should provide a "resolveType" function or each possible types should provide an "isTypeOf" function.',r);if(!t.schema.isPossibleType(n,u))throw new o.GraphQLError('Runtime Object type "'+u.name+'" is not a possible type for "'+n.name+'".',r);return u}function C(e,t,n,r,i,o){if(t.isTypeOf){var a=t.isTypeOf(o,e.contextValue,r);if((0,c.default)(a))return a.then(function(r){if(!r)throw Q(t,o,n);return G(e,t,n,0,i,o)});if(!a)throw Q(t,o,n)}return G(e,t,n,0,i,o)}function Q(e,t,n){return new o.GraphQLError('Expected value of type "'+e.name+'" but got: '+String(t)+".",n)}function G(e,t,n,r,i,o){return L(e,t,o,i,q(e,t,n))}var q=(0,f.default)(function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=0;o<n.length;o++){var a=n[o].selectionSet;a&&(r=S(e,t,a,r,i))}return r}),V=t.defaultFieldResolver=function(e,t,n,i){if("object"===("undefined"==typeof e?"undefined":r(e))||"function"==typeof e){var o=e[i.fieldName];return"function"==typeof o?e[i.fieldName](t,n,i):o}};function K(e,t,n){return n===m.SchemaMetaFieldDef.name&&e.getQueryType()===t?m.SchemaMetaFieldDef:n===m.TypeMetaFieldDef.name&&e.getQueryType()===t?m.TypeMetaFieldDef:n===m.TypeNameMetaFieldDef.name?m.TypeNameMetaFieldDef:t.getFields()[n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVariableValues=function(e,t,n){for(var i=[],a={},f=0;f<t.length;f++){var d=t[f],h=d.variable.name.value,y=(0,s.typeFromAST)(e,d.type);if((0,p.isInputType)(y)){var v=n[h];if((0,o.default)(v))(0,p.isNonNullType)(y)?i.push(new r.GraphQLError('Variable "$'+h+'" of required type "'+String(y)+'" was not provided.',[d])):d.defaultValue&&(a[h]=(0,c.valueFromAST)(d.defaultValue,y));else{var m=(0,u.coerceValue)(v,y,d),_=m.errors;_?function(){var e='Variable "$'+h+'" got invalid value '+JSON.stringify(v)+"; ";_.forEach(function(t){t.message=e+t.message}),i.push.apply(i,_)}():a[h]=m.value}}else i.push(new r.GraphQLError('Variable "$'+h+'" expected value of type "'+(0,l.print)(d.type)+'" which cannot be used as an input type.',[d.type]))}return 0===i.length?{errors:void 0,coerced:a}:{errors:i,coerced:void 0}},t.getArgumentValues=h,t.getDirectiveValues=function(e,t,n){var r=t.directives&&(0,i.default)(t.directives,function(t){return t.name.value===e.name});if(r)return h(e,r,n)};var r=n(0),i=d(n(21)),o=d(n(8)),a=d(n(16)),u=n(47),s=n(12),c=n(31),f=n(2),l=n(7),p=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){var i={},u=e.args,s=t.arguments;if(!u||!s)return i;for(var d=(0,a.default)(s,function(e){return e.name.value}),h=0;h<u.length;h++){var y=u[h],v=y.name,m=y.type,_=d[v],b=y.defaultValue;if(_)if(_.value.kind===f.Kind.VARIABLE){var g=_.value.name.value;if(n&&Object.prototype.hasOwnProperty.call(n,g)&&!(0,o.default)(n[g]))i[v]=n[g];else if((0,o.default)(b)){if((0,p.isNonNullType)(m))throw new r.GraphQLError('Argument "'+v+'" of required type "'+String(m)+'" was provided the variable "$'+g+'" which was not provided a runtime value.',[_.value])}else i[v]=b}else{var T=_.value,E=(0,c.valueFromAST)(T,m,n);if((0,o.default)(E))throw new r.GraphQLError('Argument "'+v+'" has invalid value '+(0,l.print)(T)+".",[_.value]);i[v]=E}else if((0,o.default)(b)){if((0,p.isNonNullType)(m))throw new r.GraphQLError('Argument "'+v+'" of required type "'+String(m)+'" was not provided.',[t])}else i[v]=b}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueFromAST=function e(t,n,s){if(t){if((0,u.isNonNullType)(n)){if(t.kind===a.Kind.NULL)return;return e(t,n.ofType,s)}if(t.kind===a.Kind.NULL)return null;if(t.kind===a.Kind.VARIABLE){var f=t.name.value;if(!s||(0,i.default)(s[f]))return;return s[f]}if((0,u.isListType)(n)){var l=n.ofType;if(t.kind===a.Kind.LIST){for(var p=[],d=t.values,h=0;h<d.length;h++)if(c(d[h],s)){if((0,u.isNonNullType)(l))return;p.push(null)}else{var y=e(d[h],l,s);if((0,i.default)(y))return;p.push(y)}return p}var v=e(t,l,s);if((0,i.default)(v))return;return[v]}if((0,u.isInputObjectType)(n)){if(t.kind!==a.Kind.OBJECT)return;for(var m=Object.create(null),_=(0,r.default)(t.fields,function(e){return e.name.value}),b=(0,o.default)(n.getFields()),g=0;g<b.length;g++){var T=b[g],E=_[T.name];if(E&&!c(E.value,s)){var O=e(E.value,T.type,s);if((0,i.default)(O))return;m[T.name]=O}else if((0,i.default)(T.defaultValue)){if((0,u.isNonNullType)(T.type))return}else m[T.name]=T.defaultValue}return m}if((0,u.isEnumType)(n)){if(t.kind!==a.Kind.ENUM)return;var N=n.getValue(t.value);if(!N)return;return N.value}if((0,u.isScalarType)(n)){var I=void 0;try{I=n.parseLiteral(t,s)}catch(e){return}if((0,i.default)(I))return;return I}throw new Error("Unknown type: "+n+".")}};var r=s(n(16)),i=s(n(8)),o=s(n(14)),a=n(2),u=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return e.kind===a.Kind.VARIABLE&&(!t||(0,i.default)(t[e.name.value]))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),s=n(93),c=n(161),f=n(94),l=function(e){function t(t){var n=e.call(this,t)||this;return n.message=t,Error.captureStackTrace(n,n.constructor),n}return i(t,e),t}(Error);function p(e){return void 0!==e.kind}function d(e,t){void 0===t&&(t=[]);var n,r=[];return e.forEach(function(e){if(p(e)&&(e=u.print(e)),"function"==typeof e)-1===t.indexOf(e)&&(t.push(e),r=r.concat(d(e(),t)));else{if("string"!=typeof e)throw new l("typeDef array must contain only strings and functions, got "+typeof e);r.push(e.trim())}}),(n=r.map(function(e){return e.trim()}),n.reduce(function(e,t){return-1===e.indexOf(t)?e.concat([t]):e},[])).join("\n")}function h(e,t){var n,r=e;if(p(e))n=e;else if("string"!=typeof r){if(!Array.isArray(r))throw new l("typeDefs must be a string, array or schema AST, got "+typeof r);r=d(r)}"string"==typeof r&&(n=u.parse(r,t));var i={commentDescriptions:!0},o=u.buildASTSchema(n,i),a=m(n);return a.definitions.length>0&&(o=u.extendSchema(o,a,i)),o}t.SchemaError=l,t.makeExecutableSchema=function(e){var t=e.resolvers,n=void 0===t?{}:t,r=e.connectors,i=e.allowUndefinedInResolve,o=e.resolverValidationOptions,a=e.directiveResolvers,u=void 0===a?null:a,c=e.schemaDirectives,p=void 0===c?null:c,d=e.parseOptions,y=function(e,t,n,r,i,o){if("object"!=typeof i)throw new l("Expected `resolverValidationOptions` to be an object");if(!e)throw new l("Must provide typeDefs");if(!t)throw new l("Must provide resolvers");var a=Array.isArray(t)?t.filter(function(e){return"object"==typeof e}).reduce(f.default,{}):t,u=h(e,o);return T(u,a,i),O(u,i),r||L(u),n&&I(u,n),u}(e.typeDefs,n,e.logger,void 0===i||i,void 0===o?{}:o,void 0===d?{}:d);return"function"==typeof n.__schema&&g(y,n.__schema),r&&b(y,r),u&&S(y,u),p&&s.SchemaDirectiveVisitor.visitSchemaDirectives(y,p),y},t.concatenateTypeDefs=d,t.buildSchemaFromTypeDefinitions=h;var y="TypeExtensionDefinition",v="ObjectTypeExtension";function m(e){var t=e.definitions.filter(function(e){return e.kind===y||e.kind===v});return Object.assign({},e,{definitions:t})}function _(e,t){var n=e.getTypeMap();Object.keys(n).forEach(function(e){var r=n[e];if(!u.getNamedType(r).name.startsWith("__")&&r instanceof u.GraphQLObjectType){var i=r.getFields();Object.keys(i).forEach(function(n){t(i[n],e,n)})}})}t.extractExtensionDefinitions=m,t.forEachField=_;var b=c.deprecated({version:"0.7.0",url:"https://github.com/apollostack/graphql-tools/issues/140"},function(e,t){if(!(e&&e instanceof u.GraphQLSchema))throw new Error("schema must be an instance of GraphQLSchema. This error could be caused by installing more than one version of GraphQL-JS");if("object"!=typeof t)throw new Error("Expected connectors to be of type object, got "+typeof t);if(0===Object.keys(t).length)throw new Error("Expected connectors to not be an empty object");if(Array.isArray(t))throw new Error("Expected connectors to be of type object, got Array");if(e._apolloConnectorsAttached)throw new Error("Connectors already attached to context, cannot attach more than once");e._apolloConnectorsAttached=!0,g(e,function(e,n,r){if("object"!=typeof r)throw new Error("Cannot attach connector because context is not an object: "+typeof r);return"undefined"==typeof r.connectors&&(r.connectors={}),Object.keys(t).forEach(function(e){var n=t[e];if(!n.prototype)throw new Error("Connector must be a function or an class");r.connectors[e]=new n(r)}),e})});function g(e,t){[e.getQueryType(),e.getMutationType(),e.getSubscriptionType()].filter(function(e){return!!e}).forEach(function(n){var r=function(e){var t,n=Math.random();return function(r,i,o,a){return a.operation.__runAtMostOnce||(a.operation.__runAtMostOnce={}),a.operation.__runAtMostOnce[n]||(a.operation.__runAtMostOnce[n]=!0,t=e(r,i,o,a)),t}}(t),i=n.getFields();Object.keys(i).forEach(function(o){i[o].resolve=n===e.getSubscriptionType()?w(i[o].resolve,t):w(i[o].resolve,r)})})}function T(e,t,n){void 0===n&&(n={});var r=n.allowResolversNotInSchema,i=void 0!==r&&r;Object.keys(t).forEach(function(n){var r=e.getType(n);if(!r&&"__schema"!==n){if(i)return;throw new l('"'+n+'" defined in resolvers, but not in schema')}Object.keys(t[n]).forEach(function(e){if(e.startsWith("__"))r[e.substring(2)]=t[n][e];else if(r instanceof u.GraphQLScalarType)r[e]=t[n][e];else if(r instanceof u.GraphQLEnumType){if(!r.getValue(e))throw new l(n+"."+e+" was defined in resolvers, but enum is not in schema");r.getValue(e).value=t[n][e]}else{var o=function(e){return e instanceof u.GraphQLObjectType||e instanceof u.GraphQLInterfaceType?e.getFields():void 0}(r);if(!o){if(i)return;throw new l(n+" was defined in resolvers, but it's not an object")}if(!o[e]){if(i)return;throw new l(n+"."+e+" defined in resolvers, but not in schema")}var a=o[e],s=t[n][e];if("function"==typeof s)E(a,{resolve:s});else{if("object"!=typeof s)throw new l("Resolver "+n+"."+e+" must be object or function");E(a,s)}}})})}function E(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}function O(e,t){void 0===t&&(t={});var n=t.requireResolversForArgs,r=void 0!==n&&n,i=t.requireResolversForNonScalar,o=void 0!==i&&i,a=t.requireResolversForAllFields,s=void 0!==a&&a;if(s&&(r||o))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");_(e,function(e,t,n){s&&N(e,t,n),r&&e.args.length>0&&N(e,t,n),!o||u.getNamedType(e.type)instanceof u.GraphQLScalarType||N(e,t,n)})}function N(e,t,n){if(e.resolve){if("function"!=typeof e.resolve)throw new l('Resolver "'+t+"."+n+'" must be a function')}else console.warn('Resolve function missing for "'+t+"."+n+'". To disable this warning check https://github.com/apollostack/graphql-tools/issues/131')}function I(e,t){if(!t)throw new Error("Must provide a logger");if("function"!=typeof t.log)throw new Error("Logger.log must be a function");_(e,function(e,n,r){e.resolve=function(e,t,n){"undefined"==typeof e&&(e=u.defaultFieldResolver);var r=function(e){var r=new Error;r.stack=e.stack,n&&(r.originalMessage=e.message,r.message="Error in resolver "+n+"\n"+e.message),t.log(r)};return function(t,n,i,o){try{var a=e(t,n,i,o);return a&&"function"==typeof a.then&&"function"==typeof a.catch&&a.catch(function(e){var t=e instanceof Error?e:new Error(e);return r(t),e}),a}catch(e){throw r(e),e}}}(e.resolve,t,n+"."+r)})}function w(e,t){return function(n,r,i,o){return Promise.resolve(t(n,r,i,o)).then(function(t){return e?e(t,r,i,o):u.defaultFieldResolver(t,r,i,o)})}}function L(e){_(e,function(e,t,n){var r,i;e.resolve=(i=t+"."+n,"undefined"==typeof(r=e.resolve)&&(r=u.defaultFieldResolver),function(e,t,n,o){var a=r(e,t,n,o);if("undefined"==typeof a)throw new Error('Resolve function for "'+i+'" returned undefined');return a})})}function S(e,t){if("object"!=typeof t)throw new Error("Expected directiveResolvers to be of type object, got "+typeof t);if(Array.isArray(t))throw new Error("Expected directiveResolvers to be of type object, got Array");var n=Object.create(null);Object.keys(t).forEach(function(e){n[e]=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),r.prototype.visitFieldDefinition=function(n){var r=this,i=t[e],s=n.resolve||u.defaultFieldResolver,c=this.args;n.resolve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(function(){return o(r,void 0,void 0,function(){return a(this,function(t){return[2,s.apply(n,e)]})})},e[0],c,e[2],e[3])}},r}(s.SchemaDirectiveVisitor)}),s.SchemaDirectiveVisitor.visitSchemaDirectives(e,n)}t.attachConnectorsToContext=b,t.addSchemaLevelResolveFunction=g,t.addResolveFunctionsToSchema=T,t.assertResolveFunctionsPresent=O,t.addErrorLoggingToSchema=I,t.chainResolvers=function(e){return function(t,n,r,i){return e.reduce(function(e,t){return t?t(e,n,r,i):u.defaultFieldResolver(e,n,r,i)},t)}},t.addCatchUndefinedToSchema=L,t.attachDirectiveResolvers=S},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(178),a=n(181),u=n(182),s=n(6),c=n(183),f=n(192),l=n(101),p=1.54,d=["_util"],h=function(){function e(){this.version=p,this._onConnectedCallBacks=[];var e=this;e.isConnected=!1,e._actions={},e._views={},e.dataModels={},e._events=["*","change","delete","upsert","drop","select","error"],e._hasEvents={},e.tableNames=[],e.plugins=[],e.hasPK={},e.skipPurge={},e.toRowFns={},e.tablePKs={},e.toColFns={},e.toColRules={},e.rowFilters={},e._randoms=[],e._randomPtr=0,e.hasAnyEvents=!1;for(var t=0;t<200;t++)e._randoms.push(s.random16Bits().toString(16));e._callbacks={},e._callbacks["*"]=new u.ReallySmallEvents,e.iB=new c.NanoSQLDefaultBackend;var n={models:{},actions:{},views:{},config:{},parent:this};e.iB.willConnect&&e.iB.willConnect(n,function(){e.iB.didConnect&&e.iB.didConnect(n,function(){})})}return e.prototype.rowFilter=function(e){return this.rowFilters[this.sTable]=e,this},e.prototype.toColumn=function(e){return this.toColFns[this.sTable]||(this.toColFns[this.sTable]={}),this.toColFns[this.sTable]=e,this},e.prototype.toRow=function(e){return this.toRowFns[this.sTable]||(this.toRowFns[this.sTable]={}),this.toRowFns[this.sTable]=e,this},e.prototype.fastRand=function(){return this._randomPtr++,this._randomPtr>=this._randoms.length&&(this._randomPtr=0),this._randoms[this._randomPtr]},e.prototype.table=function(e){return e&&(this.sTable=e),this},e.prototype.connect=function(){var e=this,t=this;return new s.Promise(function(n,r){var i={models:t.dataModels,actions:t._actions,views:t._views,config:t._config,parent:e};i.models[d[0]]=[{key:"key",type:"string",props:["pk","ai"]},{key:"value",type:"any"}],t._config&&t._config.history&&e.use(new f._NanoSQLHistoryPlugin(t._config.historyMode)),t._config&&!1===t._config.mode||e.use(new c.NanoSQLDefaultBackend),s.fastCHAIN(t.plugins,function(e,t,n){e.willConnect?e.willConnect(i,function(e){i=e,n()}):n()}).then(function(){t.dataModels=i.models,t._actions=i.actions,t._views=i.views,t._config=i.config,Object.keys(t.dataModels).forEach(function(e){var n=!1;t.dataModels[e]=t.dataModels[e].filter(function(e){return"*"!==e.key||"*"!==e.type||(n=!0,!1)}),t.skipPurge[e]=n}),t.plugins.forEach(function(e){e.didExec&&(t.pluginHasDidExec=!0)}),t.tableNames=Object.keys(t.dataModels);var e=function(){s.fastALL(t.plugins,function(e,t,n){e.didConnect?e.didConnect(i,function(){n()}):n()}).then(function(){t.isConnected=!0,t._onConnectedCallBacks.length&&t._onConnectedCallBacks.forEach(function(e){return e()}),n(t.tableNames)})},r=function(n){t.query("upsert",{key:"version",value:t.version}).manualExec({table:"_util"}).then(function(){n?t.extend("rebuild_idx").then(function(){e()}):e()})};t.query("select").where(["key","=","version"]).manualExec({table:"_util"}).then(function(t){t.length?t[0].value<=1.21?r(!0):t[0].value<p?r(!1):e():r(!0)})})})},e.prototype.getActions=function(e){return this._actions[e].map(function(e){return{name:e.name,args:e.args}})},e.prototype.getViews=function(e){return this._views[e].map(function(e){return{name:e.name,args:e.args}})},e.prototype.getConfig=function(){return this._config},e.prototype.avFilter=function(e){return this._AVMod=e,this},e.prototype.use=function(e){return this.plugins.push(e),this},e.prototype.on=function(e,t){var n=this,r=n.sTable,i=n._events.length,o=e.split(" ");if(Array.isArray(r))return this;for(n._callbacks[r]||(n._callbacks[r]=new u.ReallySmallEvents),i=o.length;i--;)-1!==n._events.indexOf(o[i])&&n._callbacks[r].on(o[i],t);return n._refreshEventChecker()},e.prototype.off=function(e,t){var n=this,r=e.split(" "),i=r.length,o=n.sTable;if(Array.isArray(o))return this;for(;i--;)-1!==n._events.indexOf(r[i])&&n._callbacks[o].off(r[i],t);return n._refreshEventChecker()},e.prototype._refreshEventChecker=function(){var e=this;return this._hasEvents={},Object.keys(this._callbacks).concat(["*"]).forEach(function(t){e._hasEvents[t]=e._events.reduce(function(n,r){return n+(e._callbacks[t]&&e._callbacks[t].eventListeners[r]?e._callbacks[t].eventListeners[r].length:0)},0)>0}),this.hasAnyEvents=!1,Object.keys(this._hasEvents).forEach(function(t){e.hasAnyEvents=e.hasAnyEvents||e._hasEvents[t]}),this},e.prototype.model=function(e,t,n){var r=this,i=this,o=i.sTable;if(Array.isArray(o))return this;i._callbacks[o]||(i._callbacks[o]=new u.ReallySmallEvents);var a=!1;if(!n){if(-1!==["string","safestr","timeId","timeIdms","uuid","int","float","number","array","map","bool","blob","any"].indexOf(o.replace(/\W/gim,""))||0===o.indexOf("_")||null!==o.match(/[\(\)\]\[\.]/g))throw Error("Invalid Table Name! https://docs.nanosql.io/setup/data-models");(e||[]).forEach(function(e){if(null!==e.key.match(/[\(\)\]\[\.]/g)||0===e.key.indexOf("_"))throw Error("Invalid Data Model! https://docs.nanosql.io/setup/data-models")})}return i.toColRules[o]={},(e||[]).forEach(function(e){e.props&&e.props.forEach(function(t){if(-1!==t.indexOf("from=>")&&-1!==t.indexOf("(")){var n=t.replace("from=>","").split("(").shift(),r=t.replace("from=>","").split("(").pop().replace(")","").split(",").map(function(e){return e.trim()});i.toColRules[o][e.key]=[n].concat(r)}0===t.indexOf("toColumn.")&&(n=t.replace(/toColumn\.(.*)\(.*\)/gim,"$1"),r=t.replace(/toColumn\..*\((.*)\)/gim,"$1").split(",").map(function(e){return e.trim()}),i.toColRules[o][e.key]=[n].concat(r))}),e.props&&s.intersect(["pk","pk()"],e.props)&&(r.tablePKs[o]=e.key,a=!0)}),this.hasPK[o]=a,a||(this.tablePKs[o]="_id_",e.unshift({key:"_id_",type:"uuid",props:["pk"]})),i.dataModels[o]=e,i._views[o]=[],i._actions[o]=[],i},e.prototype.views=function(e){return Array.isArray(this.sTable)?this:(this._views[this.sTable]=e,this)},e.prototype.getView=function(e,t){return void 0===t&&(t={}),Array.isArray(this.sTable)?new s.Promise(function(e,t){return t()}):this._doAV("View",this._views[this.sTable],e,t)},e.prototype.actions=function(e){return Array.isArray(this.sTable)?this:(this._actions[this.sTable]=e,this)},e.prototype.doAction=function(e,t){return Array.isArray(this.sTable)?new s.Promise(function(e,t){return t()}):this._doAV("Action",this._actions[this.sTable],e,t)},e.prototype.queryFilter=function(e){return this.queryMod=e,this},e.prototype._doAV=function(e,t,n,r){var i=this,o=this,a=t.reduce(function(e,t){return t.name===n?t:e},null);return a?(o._activeAV=n,o._AVMod?new s.Promise(function(t,n){o._AVMod(i.sTable,e,o._activeAV||"",r,function(e){a.call(a.args?s.cleanArgs(a.args,e):{},o).then(t).catch(n)},function(e){n(e)})}):a.call(a.args?s.cleanArgs(a.args,r):{},o)):new s.Promise(function(e,t){return t("Action/View Not Found!")})},e.prototype.query=function(e,t){var n=this._activeAV;return this._activeAV=void 0,new o._NanoSQLQuery(this,this.sTable,e,t,n)},e.prototype.onConnected=function(e){this.isConnected?e():this._onConnectedCallBacks.push(e)},e.prototype.triggerEvent=function(e){var t=this;if(t._hasEvents["*"]||t._hasEvents[e.table]){if("*"===e.table)return this;i.setFast(function(){e.types.forEach(function(n){t._callbacks["*"].trigger(n,e,t),t._callbacks["*"].trigger("*",e,t),e.table&&t._callbacks[e.table]&&t._callbacks[e.table].trigger(n,e,t)})})}return t},e.prototype.default=function(e){var t={},n=this;return Array.isArray(n.sTable)?{}:(n.dataModels[n.sTable].forEach(function(n){t[n.key]=e&&e[n.key]?e[n.key]:n.default,void 0===t[n.key]&&(t[n.key]=s.cast(n.type,null))}),t)},e.prototype.rawDump=function(e){var t=this;return new s.Promise(function(n,i){var o={};s.fastCHAIN(t.plugins,function(t,n,i){t.dumpTables?t.dumpTables(e).then(function(e){o=r({},o,e),i(o)}):i()}).then(function(){n(o)})})},e.prototype.rawImport=function(e,t){var n=this;return new s.Promise(function(r,i){s.fastCHAIN(n.plugins,function(n,r,i){n.importTables?n.importTables(e,t||function(e){}).then(i):i()}).then(function(){r()})})},e.prototype.disconnect=function(){return s.fastCHAIN(this.plugins,function(e,t,n){e.willDisconnect?e.willDisconnect(n):n()})},e.prototype.doTransaction=function(e){var t=this,n=this,i=[],o=s.random16Bits().toString(16);return new s.Promise(function(u,c){n.plugins.length?s.fastCHAIN(n.plugins,function(e,t,n){e.transactionBegin?e.transactionBegin(o,n):n()}).then(function(){Array.isArray(n.sTable)||e(function(e){var t=e||n.sTable;return{query:function(e,n){return new a._NanoSQLTransactionQuery(e,n,t,i,o)}}},function(){var e=[];s.fastCHAIN(i,function(t,i,a){e.push(t.table),n.query(t.action,t.actionArgs).manualExec(r({},t,{table:t.table,transaction:!0,queryID:o})).then(a)}).then(function(r){s.fastCHAIN(t.plugins,function(e,t,n){e.transactionEnd?e.transactionEnd(o,n):n()}).then(function(){e.filter(function(e,t,n){return n.indexOf(e)===t}).forEach(function(e){0!==e.indexOf("_")&&n.triggerEvent({query:i[0],table:e,time:(new Date).getTime(),result:r,types:["transaction"],actionOrView:"",notes:[],transactionID:o,affectedRowPKS:[],affectedRows:[]})}),u(r)})})})}):c("nSQL: Nothing to do, no plugins!")})},e.prototype.config=function(e){return this._config=e,this},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;return new s.Promise(function(t,r){if(n.plugins.length){var i=e,o=[];s.fastCHAIN(n.plugins,function(e,t,n){e.extend?e.extend(function(e,t){i=e,o=t,n()},i,o):n()}).then(function(){t(o)})}else r("No plugins!")})},e.prototype.loadJS=function(e,t,n,r){var i=this;return n?this.doTransaction(function(n,r){t.forEach(function(t){n(e).query("upsert",t).exec()}),r()}):new s.Promise(function(n,o){s.fastCHAIN(t,function(n,o,a){r&&r(Math.round((o+1)/t.length*1e4)/100),i.query("upsert",n).manualExec({table:e}).then(a)}).then(function(e){n(e.map(function(e){return e.shift()}))})})},e.prototype.loadCSV=function(e,t,n,r,i){var o=this,a=[],u=t.split(/\r?\n|\r|\t/gm).map(function(e,t){if(0!==t){var n={},i=e.match(/(,)|(["|\[|\{].*?["|\]|\}]|[^",\s]+)(?=\s*,|\s*$)/g)||[],o=!1;","===i[0]&&i.unshift("");for(var u=function(){var e=!1;if(i.forEach(function(t,n){e||","===t&&("undefined"!=typeof i[n+1]&&","!==i[n+1]||(e=!0,i.splice(n+1,0,"")))}),e)return"break";o=!0};!o&&"break"!==u(););i=i.filter(function(e,t){return t%2==0});for(var s=a.length;s--;)i[s]&&(1===i[s].indexOf("{")||1===i[s].indexOf("[")?i[s]=JSON.parse(i[s].slice(1,i[s].length-1).replace(/'/gm,'"')):0===i[s].indexOf('"')&&(i[s]=i[s].slice(1,i[s].length-1).replace(/\"\"/gim,'"')),n[a[s]]=i[s]);return r?r(n):n}a=e.split(",")}).filter(function(e){return e});return n?this.doTransaction(function(t,n){u.forEach(function(n){t(e).query("upsert",n).exec()}),n()}):new s.Promise(function(t,n){s.fastCHAIN(u,function(t,n,r){i&&i(Math.round((n+1)/u.length*1e4)/100),o.query("upsert",t).manualExec({table:e}).then(r)}).then(function(e){t(e.map(function(e){return e.shift()}))})})},e.earthRadius=6371,e}();t.NanoSQLInstance=h;var y={};h.whereFunctions={levenshtein:function(e,t,n,r){var i=s.objQuery(r,e,t)||"",o=i+"::"+n;return y[o]||(y[o]=l(i,n)),y[o]},crow:function(e,t,n,r,i,o){var a=o||"lon",u=s.objQuery(i||"lat",e,t),c=s.objQuery(a,e,t);return s.crowDistance(u,c,n,r,h.earthRadius)},sum:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return n.reduce(function(n,r){var i=s.objQuery(r,e,t)||0;return Array.isArray(i)?n+i.reduce(function(e,t){return e+parseFloat(t||0)},0):n+parseFloat(i)},0)},avg:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=0;return n.reduce(function(n,r){var o=s.objQuery(r,e,t)||0;return Array.isArray(o)?(i+=o.length,n+o.reduce(function(e,t){return e+parseFloat(t||0)},0)):(i++,n+parseFloat(o))},0)/i}},h.functions={COUNT:{type:"A",call:function(e,t,n,r){t(r&&"*"!==r?e.filter(function(e){return s.objQuery(r,e,n)}).length:e.length)}},MAX:{type:"A",call:function(e,t,n,r){if(e.length){var i=s.objQuery(r,e[0])||0;e.forEach(function(e){s.objQuery(r,e,n),s.objQuery(r,e)>i&&(i=s.objQuery(r,e,n))}),t(i)}else t(0)}},MIN:{type:"A",call:function(e,t,n,r){if(e.length){var i=s.objQuery(r,e[0],n)||0;e.forEach(function(e){var t=s.objQuery(r,e,n);t<i&&(i=t)}),t(i)}else t(0)}},AVG:{type:"A",call:function(e,t,n,r){t(e.reduce(function(e,t){return e+(s.objQuery(r,t,n)||0)},0)/e.length)}},SUM:{type:"A",call:function(e,t,n,r){t(e.reduce(function(e,t){return e+(s.objQuery(r,t,n)||0)},0))}},LOWER:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return String(s.objQuery(r,e,n)).toLowerCase()}))}},UPPER:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return String(s.objQuery(r,e,n)).toUpperCase()}))}},CAST:{type:"S",call:function(e,t,n,r,i){t(e.map(function(e){return s.cast(i,s.objQuery(r,e,n))}))}},ABS:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return Math.abs(s.objQuery(r,e,n))}))}},CEIL:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return Math.ceil(s.objQuery(r,e,n))}))}},POW:{type:"S",call:function(e,t,n,r,i){t(e.map(function(e){return Math.pow(s.objQuery(r,e,n),parseInt(i))}))}},ROUND:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return Math.round(s.objQuery(r,e,n))}))}},SQRT:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return Math.sqrt(s.objQuery(r,e,n))}))}}};var v=new h;t.nSQL=function(e){return v.table(e)},"undefined"!=typeof window&&(window["nano-sql"]={nSQL:t.nSQL,NanoSQLInstance:h})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.DatabaseIndex=function(){function e(){this._sorted=[],this._exists={},this.ai=1,this.sortIndex=!0,this.doAI=!1}return e.prototype.set=function(e){var t=this;this._sorted=e||[],this._exists={},this._sorted.forEach(function(e,n){t._exists[String(e)]=!0}),this.doAI&&this._sorted.length&&(this.ai=this._sorted[this._sorted.length-1]+1)},e.prototype.getLocation=function(e,t){var n=this.indexOf(e);return-1!==n?n:r.binarySearch(this.sortIndex?this._sorted:this._sorted.sort(function(e,t){return e>t?1:-1}),e,t)},e.prototype.add=function(e){if(!this._exists[String(e)])if(this._exists[String(e)]=!0,this.doAI)parseInt(e)>=this.ai&&this.ai++,this._sorted.push(e);else if(this.sortIndex){var t=r.binarySearch(this._sorted,e);this._sorted.splice(t,0,e)}else this._sorted.push(e)},e.prototype.keys=function(){return this._sorted},e.prototype.indexOf=function(e){return this._exists[String(e)]?this.sortIndex?r.binarySearch(this._sorted,e):this._sorted.indexOf(e):-1},e.prototype.remove=function(e){if(this._exists[String(e)]){var t=this.indexOf(e);this._exists[String(e)]=!1,this._sorted.splice(t,1)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(105);n.d(t,"empty",function(){return r.c}),n.d(t,"from",function(){return r.e}),n.d(t,"split",function(){return r.f}),n.d(t,"concat",function(){return r.b}),n.d(t,"ApolloLink",function(){return r.a}),n.d(t,"execute",function(){return r.d});var i=n(51);n.d(t,"createOperation",function(){return i.b}),n.d(t,"makePromise",function(){return i.f}),n.d(t,"toPromise",function(){return i.g}),n.d(t,"fromPromise",function(){return i.d}),n.d(t,"fromError",function(){return i.c});var o=n(36);n.d(t,"Observable",function(){return o.a})},function(e,t,n){"use strict";var r=n(50);t.a=r.a},function(e,t,n){"use strict";function r(e,t,n,i){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map(function(e){return r(o,e.name,e.value,i)}),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n))e[t.value]=(i||{})[n.name.value];else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map(function(e){var n={};return r(n,t,e,i),n[t.value]});else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new Error('The inline argument "'+t.value+'" of kind "'+n.kind+'" is not supported.\n                    Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}t.b=r,t.a=function(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){return r(n,e.name,e.value,t)}),n}return null},this&&this.__assign||Object},function(e,t,n){"use strict";(function(e){function n(t){return("undefined"!=typeof e&&e.env.NODE_ENV?e.env.NODE_ENV:"development")===t}t.b=function(){return!0===n("production")},t.a=function(){return!0===n("development")},t.c=function(){return!0===n("test")}}).call(t,n(55))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e&&"production"!==e.env.NODE_ENV?function(e,t){if(e instanceof t)return!0;if(e){var n=e.constructor,r=t.name;if(n&&n.name===r)throw new Error("Cannot use "+r+' "'+e+'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.')}return!1}:function(e,t){return e instanceof t}}).call(t,n(55))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.astFromValue=function e(t,n){if((0,c.isNonNullType)(n)){var l=e(t,n.ofType);return l&&l.kind===s.Kind.NULL?null:l}if(null===t)return{kind:s.Kind.NULL};if((0,a.default)(t))return null;if((0,c.isListType)(n)){var d=n.ofType;if((0,i.isCollection)(t)){var h=[];return(0,i.forEach)(t,function(t){var n=e(t,d);n&&h.push(n)}),{kind:s.Kind.LIST,values:h}}return e(t,d)}if((0,c.isInputObjectType)(n)){if(null===t||"object"!==("undefined"==typeof t?"undefined":r(t)))return null;var y=[];return(0,u.default)(n.getFields()).forEach(function(n){var r=e(t[n.name],n.type);r&&y.push({kind:s.Kind.OBJECT_FIELD,name:{kind:s.Kind.NAME,value:n.name},value:r})}),{kind:s.Kind.OBJECT,fields:y}}if((0,c.isScalarType)(n)||(0,c.isEnumType)(n)){var v=n.serialize(t);if((0,o.default)(v))return null;if("boolean"==typeof v)return{kind:s.Kind.BOOLEAN,value:v};if("number"==typeof v){var m=String(v);return p.test(m)?{kind:s.Kind.INT,value:m}:{kind:s.Kind.FLOAT,value:m}}if("string"==typeof v)return(0,c.isEnumType)(n)?{kind:s.Kind.ENUM,value:v}:n===f.GraphQLID&&p.test(v)?{kind:s.Kind.INT,value:v}:{kind:s.Kind.STRING,value:v};throw new TypeError("Cannot convert value to AST: "+String(v))}throw new Error("Unknown type: "+n+".")};var i=n(11),o=l(n(27)),a=l(n(8)),u=l(n(14)),s=n(2),c=n(1),f=n(13);function l(e){return e&&e.__esModule?e:{default:e}}var p=/^-?(0|[1-9][0-9]*)$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=function(e,t){for(var n=/\r\n|[\n\r]/g,r=1,i=t+1,o=void 0;(o=n.exec(e.body))&&o.index<t;)r+=1,i=t+1-(o.index+o[0].length);return{line:r,column:i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0,t.createLexer=function(e,t){var n=new l(s.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:a,lookahead:u}},t.getTokenDesc=function(e){var t=e.value;return t?e.kind+' "'+t+'"':e.kind};var r,i=n(0),o=(r=n(62))&&r.__esModule?r:{default:r};function a(){return this.lastToken=this.token,this.token=this.lookahead()}function u(){var e=this.token;if(e.kind!==s.EOF)do{e=e.next||(e.next=d(this,e))}while(e.kind===s.COMMENT);return e}var s=t.TokenKind=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),c=String.prototype.charCodeAt,f=String.prototype.slice;function l(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}function p(e){return isNaN(e)?s.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function d(e,t){var n=e.source,r=n.body,a=r.length,u=function(e,n,r){for(var i=e.length,o=t.end;o<i;){var a=c.call(e,o);if(9===a||32===a||44===a||65279===a)++o;else if(10===a)++o,++r.line,r.lineStart=o;else{if(13!==a)break;10===c.call(e,o+1)?o+=2:++o,++r.line,r.lineStart=o}}return o}(r,0,e),d=e.line,v=1+u-e.lineStart;if(u>=a)return new l(s.EOF,a,a,d,v,t);var m=c.call(r,u);if(m<32&&9!==m&&10!==m&&13!==m)throw(0,i.syntaxError)(n,u,"Cannot contain the invalid character "+p(m)+".");switch(m){case 33:return new l(s.BANG,u,u+1,d,v,t);case 35:return function(e,t,n,r,i){var o=e.body,a=void 0,u=t;do{a=c.call(o,++u)}while(null!==a&&(a>31||9===a));return new l(s.COMMENT,t,u,n,r,i,f.call(o,t+1,u))}(n,u,d,v,t);case 36:return new l(s.DOLLAR,u,u+1,d,v,t);case 38:return new l(s.AMP,u,u+1,d,v,t);case 40:return new l(s.PAREN_L,u,u+1,d,v,t);case 41:return new l(s.PAREN_R,u,u+1,d,v,t);case 46:if(46===c.call(r,u+1)&&46===c.call(r,u+2))return new l(s.SPREAD,u,u+3,d,v,t);break;case 58:return new l(s.COLON,u,u+1,d,v,t);case 61:return new l(s.EQUALS,u,u+1,d,v,t);case 64:return new l(s.AT,u,u+1,d,v,t);case 91:return new l(s.BRACKET_L,u,u+1,d,v,t);case 93:return new l(s.BRACKET_R,u,u+1,d,v,t);case 123:return new l(s.BRACE_L,u,u+1,d,v,t);case 124:return new l(s.PIPE,u,u+1,d,v,t);case 125:return new l(s.BRACE_R,u,u+1,d,v,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){for(var o=e.body,a=o.length,u=t+1,p=0;u!==a&&null!==(p=c.call(o,u))&&(95===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122);)++u;return new l(s.NAME,t,u,n,r,i,f.call(o,t,u))}(n,u,d,v,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,o,a){var u=e.body,d=n,y=t,v=!1;if(45===d&&(d=c.call(u,++y)),48===d){if((d=c.call(u,++y))>=48&&d<=57)throw(0,i.syntaxError)(e,y,"Invalid number, unexpected digit after 0: "+p(d)+".")}else y=h(e,y,d),d=c.call(u,y);return 46===d&&(v=!0,d=c.call(u,++y),y=h(e,y,d),d=c.call(u,y)),69!==d&&101!==d||(v=!0,43!==(d=c.call(u,++y))&&45!==d||(d=c.call(u,++y)),y=h(e,y,d)),new l(v?s.FLOAT:s.INT,t,y,r,o,a,f.call(u,t,y))}(n,u,m,d,v,t);case 34:return 34===c.call(r,u+1)&&34===c.call(r,u+2)?function(e,t,n,r,a){for(var u=e.body,d=t+3,h=d,y=0,v="";d<u.length&&null!==(y=c.call(u,d));){if(34===y&&34===c.call(u,d+1)&&34===c.call(u,d+2))return v+=f.call(u,h,d),new l(s.BLOCK_STRING,t,d+3,n,r,a,(0,o.default)(v));if(y<32&&9!==y&&10!==y&&13!==y)throw(0,i.syntaxError)(e,d,"Invalid character within String: "+p(y)+".");92===y&&34===c.call(u,d+1)&&34===c.call(u,d+2)&&34===c.call(u,d+3)?(v+=f.call(u,h,d)+'"""',h=d+=4):++d}throw(0,i.syntaxError)(e,d,"Unterminated string.")}(n,u,d,v,t):function(e,t,n,r,o){for(var a,u,d,h,v=e.body,m=t+1,_=m,b=0,g="";m<v.length&&null!==(b=c.call(v,m))&&10!==b&&13!==b;){if(34===b)return g+=f.call(v,_,m),new l(s.STRING,t,m+1,n,r,o,g);if(b<32&&9!==b)throw(0,i.syntaxError)(e,m,"Invalid character within String: "+p(b)+".");if(++m,92===b){switch(g+=f.call(v,_,m-1),b=c.call(v,m)){case 34:g+='"';break;case 47:g+="/";break;case 92:g+="\\";break;case 98:g+="\b";break;case 102:g+="\f";break;case 110:g+="\n";break;case 114:g+="\r";break;case 116:g+="\t";break;case 117:var T=(a=c.call(v,m+1),u=c.call(v,m+2),d=c.call(v,m+3),h=c.call(v,m+4),y(a)<<12|y(u)<<8|y(d)<<4|y(h));if(T<0)throw(0,i.syntaxError)(e,m,"Invalid character escape sequence: \\u"+v.slice(m+1,m+5)+".");g+=String.fromCharCode(T),m+=4;break;default:throw(0,i.syntaxError)(e,m,"Invalid character escape sequence: \\"+String.fromCharCode(b)+".")}_=++m}}throw(0,i.syntaxError)(e,m,"Unterminated string.")}(n,u,d,v,t)}throw(0,i.syntaxError)(n,u,function(e){return 39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character "+p(e)+"."}(m))}function h(e,t,n){var r=e.body,o=t,a=n;if(a>=48&&a<=57){do{a=c.call(r,++o)}while(a>=48&&a<=57);return o}throw(0,i.syntaxError)(e,o,"Invalid number, expected digit but got: "+p(a)+".")}function y(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}l.prototype.toJSON=l.prototype.inspect=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e.map(function(e){return'"'+e+'"'}))};var r,i=(r=n(44))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.slice(0,r);return t.reduce(function(e,n,r){return e+(t.length>2?", ":" ")+(r===t.length-1?"or ":"")+n})};var r=5},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.badValueMessage=l,t.requiredFieldMessage=p,t.unknownFieldMessage=d,t.ValuesOfCorrectType=function(e){return{NullValue:function(t){var n=e.getInputType();(0,o.isNonNullType)(n)&&e.reportError(new r.GraphQLError(l(String(n),(0,i.print)(t)),t))},ListValue:function(t){var n=(0,o.getNullableType)(e.getParentInputType());if(!(0,o.isListType)(n))return h(e,t),!1},ObjectValue:function(t){var n=(0,o.getNamedType)(e.getInputType());if(!(0,o.isInputObjectType)(n))return h(e,t),!1;var i=n.getFields(),a=(0,u.default)(t.fields,function(e){return e.name.value});Object.keys(i).forEach(function(u){var s=i[u].type;!a[u]&&(0,o.isNonNullType)(s)&&e.reportError(new r.GraphQLError(p(n.name,u,String(s)),t))})},ObjectField:function(t){var n=(0,o.getNamedType)(e.getParentInputType());if(!e.getInputType()&&(0,o.isInputObjectType)(n)){var i=(0,c.default)(t.name.value,Object.keys(n.getFields())),a=0!==i.length?"Did you mean "+(0,s.default)(i)+"?":void 0;e.reportError(new r.GraphQLError(d(n.name,t.name.value,a),t))}},EnumValue:function(t){var n=(0,o.getNamedType)(e.getInputType());(0,o.isEnumType)(n)?n.getValue(t.value)||e.reportError(new r.GraphQLError(l(n.name,(0,i.print)(t),y(n,t)),t)):h(e,t)},IntValue:function(t){return h(e,t)},FloatValue:function(t){return h(e,t)},StringValue:function(t){return h(e,t)},BooleanValue:function(t){return h(e,t)}}};var r=n(0),i=n(7),o=n(1),a=f(n(8)),u=f(n(16)),s=f(n(44)),c=f(n(24));function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return"Expected type "+e+", found "+t+(n?"; "+n:".")}function p(e,t,n){return"Field "+e+"."+t+" of required type "+n+" was not provided."}function d(e,t,n){return'Field "'+t+'" is not defined by type '+e+(n?"; "+n:".")}function h(e,t){var n=e.getInputType();if(n){var u=(0,o.getNamedType)(n);if((0,o.isScalarType)(u))try{var s=u.parseLiteral(t,void 0);(0,a.default)(s)&&e.reportError(new r.GraphQLError(l(String(n),(0,i.print)(t)),t))}catch(o){e.reportError(new r.GraphQLError(l(String(n),(0,i.print)(t),o.message),t,void 0,void 0,void 0,o))}else e.reportError(new r.GraphQLError(l(String(n),(0,i.print)(t),y(u,t)),t))}}function y(e,t){if((0,o.isEnumType)(e)){var n=(0,c.default)((0,i.print)(t),e.getValues().map(function(e){return e.name}));if(0!==n.length)return"Did you mean the enum value "+(0,s.default)(n)+"?"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0);var r=n(17),i=n(2),o=(n(4),n(23));t.default=function(){function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._schema=t,this._ast=n,this._typeInfo=r,this._errors=[],this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}return e.prototype.reportError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e.prototype.getSchema=function(){return this._schema},e.prototype.getDocument=function(){return this._ast},e.prototype.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce(function(e,t){return t.kind===i.Kind.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e},Object.create(null))),t[e]},e.prototype.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var n=[e];0!==n.length;)for(var r=n.pop(),o=0;o<r.selections.length;o++){var a=r.selections[o];a.kind===i.Kind.FRAGMENT_SPREAD?t.push(a):a.selectionSet&&n.push(a.selectionSet)}this._fragmentSpreads.set(e,t)}return t},e.prototype.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var n=Object.create(null),r=[e.selectionSet];0!==r.length;)for(var i=r.pop(),o=this.getFragmentSpreads(i),a=0;a<o.length;a++){var u=o[a].name.value;if(!0!==n[u]){n[u]=!0;var s=this.getFragment(u);s&&(t.push(s),r.push(s.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e.prototype.getVariableUsages=function(e){var t=this._variableUsages.get(e);if(!t){var n=[],i=new o.TypeInfo(this._schema);(0,r.visit)(e,(0,r.visitWithTypeInfo)(i,{VariableDefinition:function(){return!1},Variable:function(e){n.push({node:e,type:i.getInputType()})}})),this._variableUsages.set(e,t=n)}return t},e.prototype.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var n=this.getRecursivelyReferencedFragments(e),r=0;r<n.length;r++)Array.prototype.push.apply(t,this.getVariableUsages(n[r]));this._recursiveVariableUsages.set(e,t)}return t},e.prototype.getType=function(){return this._typeInfo.getType()},e.prototype.getParentType=function(){return this._typeInfo.getParentType()},e.prototype.getInputType=function(){return this._typeInfo.getInputType()},e.prototype.getParentInputType=function(){return this._typeInfo.getParentInputType()},e.prototype.getFieldDef=function(){return this._typeInfo.getFieldDef()},e.prototype.getDirective=function(){return this._typeInfo.getDirective()},e.prototype.getArgument=function(){return this._typeInfo.getArgument()},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.coerceValue=function e(t,n,c,l){if((0,f.isNonNullType)(n))return(0,a.default)(t)?d([v("Expected non-nullable type "+String(n)+" not to be null",c,l)]):e(t,n.ofType,c,l);if((0,a.default)(t))return p(null);if((0,f.isScalarType)(n))try{var b=n.parseValue(t);return(0,o.default)(b)?d([v("Expected type "+n.name,c,l)]):p(b)}catch(e){return d([v("Expected type "+n.name,c,l,e.message,e)])}if((0,f.isEnumType)(n)){if("string"==typeof t){var g=n.getValue(t);if(g)return p(g.value)}var T=(0,s.default)(String(t),n.getValues().map(function(e){return e.name})),E=0!==T.length?"did you mean "+(0,u.default)(T)+"?":void 0;return d([v("Expected type "+n.name,c,l,E)])}if((0,f.isListType)(n)){var O=n.ofType;if((0,i.isCollection)(t)){var N=void 0,I=[];return(0,i.forEach)(t,function(t,n){var r=e(t,O,c,y(l,n));r.errors?N=h(N,r.errors):N||I.push(r.value)}),N?d(N):p(I)}var w=e(t,O,c);return w.errors?w:p([w.value])}if((0,f.isInputObjectType)(n)){if("object"!==("undefined"==typeof t?"undefined":r(t)))return d([v("Expected type "+n.name+" to be an object",c,l)]);var L=void 0,S={},k=n.getFields();for(var A in k)if(_.call(k,A)){var j=k[A],D=t[A];if((0,o.default)(D))(0,o.default)(j.defaultValue)?(0,f.isNonNullType)(j.type)&&(L=h(L,v("Field "+m(y(l,A))+" of required type "+String(j.type)+" was not provided",c))):S[A]=j.defaultValue;else{var P=e(D,j.type,c,y(l,A));P.errors?L=h(L,P.errors):L||(S[A]=P.value)}}for(var x in t)if(_.call(t,x)&&!k[x]){var R=(0,s.default)(x,Object.keys(k)),F=0!==R.length?"did you mean "+(0,u.default)(R)+"?":void 0;L=h(L,v('Field "'+x+'" is not defined by type '+n.name,c,l,F))}return L?d(L):p(S)}throw new Error("Unexpected type: "+n+".")};var i=n(11),o=l(n(8)),a=l(n(27)),u=l(n(44)),s=l(n(24)),c=n(0),f=n(1);function l(e){return e&&e.__esModule?e:{default:e}}function p(e){return{errors:void 0,value:e}}function d(e){return{errors:e,value:void 0}}function h(e,t){return(e||[]).concat(t)}function y(e,t){return{prev:e,key:t}}function v(e,t,n,r,i){var o=m(n);return new c.GraphQLError(e+(o?" at "+o:"")+(r?"; "+r:"."),t,void 0,void 0,void 0,i)}function m(e){for(var t="",n=e;n;)t=("string"==typeof n.key?"."+n.key:"["+String(n.key)+"]")+t,n=n.prev;return t?"value"+t:""}var _=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default=function(e,t){var n=e.__typename;if(!n)throw new Error("Did not fetch typename for object, unable to resolve interface.");var i=t.getType(n);if(!(i instanceof r.GraphQLObjectType))throw new Error("__typename did not match an object type: "+n);return i}},function(e,t,n){"use strict";(function(e){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a,u=n(3),s=n(0);function c(e,t){if(t&&t.length>0){if(Array.isArray(e)){var n={};return t.forEach(function(e){if(e.path){var t=e.path[1],r=n[t]||[];r.push(o({},e,{path:e.path.slice(1)})),n[t]=r}}),e.map(function(e,t){return c(e,n[t])})}return o({},e,((r={})[a]=t.map(function(e){return o({},e,e.path?{path:e.path.slice(1)}:{})}),r))}return e;var r}a="undefined"!=typeof e&&"Symbol"in e||"undefined"!=typeof window&&"Symbol"in window?Symbol("subSchemaErrors"):"@@__subSchemaErrors",t.ErrorSymbol=a,t.annotateWithChildrenErrors=c,t.getErrorsFromParent=function(e,t){for(var n=[],r=0,i=e&&e[a]||[];r<i.length;r++){var o=i[r];if(!o.path||1===o.path.length&&o.path[0]===t)return{kind:"OWN",error:o};o.path[0]===t&&n.push(o)}return{kind:"CHILDREN",errors:n}};var f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errors=n,r}return i(t,e),t}(Error);t.checkResultAndHandleErrors=function(e,t,n){if(n||(n=t.fieldNodes[0].alias?t.fieldNodes[0].alias.value:t.fieldName),!e.errors||e.data&&null!=e.data[n]){var r=e.data[n];return e.errors&&(r=c(r,e.errors)),r}var i,o=1===e.errors.length&&((i=e.errors[0]).result||i.originalError&&i.originalError.result)?e.errors[0]:new f(e.errors.map(function(e){return e.message}).join("\n"),e.errors);throw s.locatedError(o,t.fieldNodes,u.responsePathAsArray(t.path))}}).call(t,n(18))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=n(106)},function(e,t,n){"use strict";t.i=function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw new Error("illegal argument: "+i)}return e},n.d(t,"a",function(){return c}),t.e=function(e){return e.request.length<=1},t.g=f,n.d(t,"f",function(){return l}),t.d=function(e){return new o.a(function(t){e.then(function(e){t.next(e),t.complete()}).catch(t.error.bind(t))})},t.c=function(e){return new o.a(function(t){t.error(e)})},t.h=function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Object(i.a)(t.query):""),t},t.b=function(e,t){var n=s({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=s({},n,"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return s({},n)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){return Object(a.print)(e.query)+"|"+JSON.stringify(e.variables)+"|"+e.operationName}(t)}}),t};var r,i=n(109),o=n(36),a=n(7),u=(n.n(a),this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return u(t,e),t}(Error);function f(e){var t=!1;return new Promise(function(n,r){e.subscribe({next:function(e){t?console.warn("Promise Wrapper does not support multiple results from Observable"):(t=!0,n(e))},error:r})})}var l=f},function(e,t,n){"use strict";function r(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new Error('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e});if(t.length>1)throw new Error("Ambiguous GraphQL document: contains "+t.length+" operations")}t.a=r,t.d=function(e){var t,n=(r(t=e),t.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]);if(!n)throw new Error("GraphQL document is missing an operation");return n},t.e=function(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null},t.c=function(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})},t.b=function(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t},n(53),n(37)},function(e,t,n){"use strict";t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){"undefined"!=typeof t&&null!==t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}},function(e,t,n){"use strict";t.a=function e(t){if(Array.isArray(t))return t.map(function(t){return e(t)});if(null!==t&&"object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}return t}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],f=!1,l=-1;function p(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperationAST=function(e,t){for(var n=null,i=0;i<e.definitions.length;i++){var o=e.definitions[i];if(o.kind===r.Kind.OPERATION_DEFINITION)if(t){if(o.name&&o.name.value===t)return o}else{if(n)return null;n=o}}return n};var r=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueFromASTUntyped=function e(t,n){switch(t.kind){case o.Kind.NULL:return null;case o.Kind.INT:return parseInt(t.value,10);case o.Kind.FLOAT:return parseFloat(t.value);case o.Kind.STRING:case o.Kind.ENUM:case o.Kind.BOOLEAN:return t.value;case o.Kind.LIST:return t.values.map(function(t){return e(t,n)});case o.Kind.OBJECT:return(0,r.default)(t.fields,function(e){return e.name.value},function(t){return e(t.value,n)});case o.Kind.VARIABLE:var a=t.name.value;return n&&!(0,i.default)(n[a])?n[a]:void 0}throw new Error("Unexpected value kind: "+t.kind)};var r=a(n(26)),i=a(n(8)),o=n(2);function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printError=function(e){var t=[];if(e.nodes)e.nodes.forEach(function(e){e.loc&&t.push(i(e.loc.source,(0,r.getLocation)(e.loc.source,e.loc.start)))});else if(e.source&&e.locations){var n=e.source;e.locations.forEach(function(e){t.push(i(n,e))})}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"};var r=n(41);function i(e,t){var n=t.line,r=e.locationOffset.line-1,i=function(e,t){return 1===t.line?e.locationOffset.column-1:0}(e,t),u=n+r,s=t.column+i,c=(u-1).toString(),f=u.toString(),l=(u+1).toString(),p=l.length,d=e.body.split(/\r\n|[\n\r]/g);return d[0]=o(e.locationOffset.column-1)+d[0],[e.name+" ("+u+":"+s+")",n>=2&&a(p,c)+": "+d[n-2],a(p,f)+": "+d[n-1],o(2+p+s-1)+"^",n<d.length&&a(p,l)+": "+d[n]].filter(Boolean).join("\n")}function o(e){return Array(e+1).join(" ")}function a(e,t){return o(e-t.length)+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidName=function(e){var t=u(e);if(t)throw t;return e},t.isValidNameError=u;var r,i=n(15),o=(r=n(5))&&r.__esModule?r:{default:r},a=/^[_a-zA-Z][_a-zA-Z0-9]*$/;function u(e,t){return"string"!=typeof e&&(0,o.default)(0,"Expected string"),e.length>1&&"_"===e[0]&&"_"===e[1]?new i.GraphQLError('Name "'+e+'" must not begin with "__", which is reserved by GraphQL introspection.',t):a.test(e)?void 0:new i.GraphQLError('Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'+e+'" does not.',t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Source=void 0;var r,i=(r=n(5))&&r.__esModule?r:{default:r};t.Source=function e(t,n,r){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.body=t,this.name=n||"GraphQL request",this.locationOffset=r||{line:1,column:1},this.locationOffset.line>0||(0,i.default)(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||(0,i.default)(0,"column in locationOffset is 1-indexed and must be positive")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locatedError=function(e,t,n){return e&&Array.isArray(e.path)?e:new r.GraphQLError(e&&e.message,e&&e.nodes||t,e&&e.source,e&&e.positions,n,e)};var r=n(15)},function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function i(e){return r(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,o=1;o<t.length;o++){var a=t[o],u=r(a);if(u<a.length&&(null===n||u<n)&&0===(n=u))break}if(n)for(var s=1;s<t.length;s++)t[s]=t[s].slice(n);for(;t.length>0&&i(t[0]);)t.shift();for(;t.length>0&&i(t[t.length-1]);)t.pop();return t.join("\n")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=function(e,t,n,c){return t||(0,r.default)(0,"Must provide document"),(0,o.assertValidSchema)(e),function(e,t,n,r){var o=new s.default(e,n,t),a=r.map(function(e){return e(o)});return(0,i.visit)(n,(0,i.visitWithTypeInfo)(t,(0,i.visitInParallel)(a))),o.getErrors()}(e,c||new a.TypeInfo(e),t,n||u.specifiedRules)};var r=c(n(5)),i=(n(0),n(17)),o=(n(4),n(25)),a=n(23),u=n(64),s=c(n(46));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.specifiedRules=void 0;var r=n(134),i=n(65),o=n(66),a=n(67),u=n(68),s=n(69),c=n(70),f=n(71),l=n(72),p=n(73),d=n(74),h=n(75),y=n(76),v=n(77),m=n(78),_=n(79),b=n(80),g=n(81),T=n(82),E=n(83),O=n(84),N=n(45),I=n(85),w=n(86),L=n(87),S=n(88),k=n(89);t.specifiedRules=[r.ExecutableDefinitions,i.UniqueOperationNames,o.LoneAnonymousOperation,a.SingleFieldSubscriptions,u.KnownTypeNames,s.FragmentsOnCompositeTypes,c.VariablesAreInputTypes,f.ScalarLeafs,l.FieldsOnCorrectType,p.UniqueFragmentNames,d.KnownFragmentNames,h.NoUnusedFragments,y.PossibleFragmentSpreads,v.NoFragmentCycles,m.UniqueVariableNames,_.NoUndefinedVariables,b.NoUnusedVariables,g.KnownDirectives,T.UniqueDirectivesPerLocation,E.KnownArgumentNames,O.UniqueArgumentNames,N.ValuesOfCorrectType,I.ProvidedNonNullArguments,w.VariablesDefaultValueAllowed,L.VariablesInAllowedPosition,S.OverlappingFieldsCanBeMerged,k.UniqueInputFieldNames]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateOperationNameMessage=i,t.UniqueOperationNames=function(e){var t=Object.create(null);return{OperationDefinition:function(n){var o=n.name;return o&&(t[o.value]?e.reportError(new r.GraphQLError(i(o.value),[t[o.value],o])):t[o.value]=o),!1},FragmentDefinition:function(){return!1}}};var r=n(0);function i(e){return'There can be only one operation named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anonOperationNotAloneMessage=function(){return"This anonymous operation must be the only defined operation."},t.LoneAnonymousOperation=function(e){var t=0;return{Document:function(e){t=e.definitions.filter(function(e){return e.kind===i.Kind.OPERATION_DEFINITION}).length},OperationDefinition:function(n){!n.name&&t>1&&e.reportError(new r.GraphQLError("This anonymous operation must be the only defined operation.",[n]))}}};var r=n(0),i=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.singleFieldOnlyMessage=i,t.SingleFieldSubscriptions=function(e){return{OperationDefinition:function(t){"subscription"===t.operation&&1!==t.selectionSet.selections.length&&e.reportError(new r.GraphQLError(i(t.name&&t.name.value),t.selectionSet.selections.slice(1)))}}};var r=n(0);function i(e){return(e?'Subscription "'+e+'" ':"Anonymous Subscription ")+"must select only one top level field."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownTypeMessage=u,t.KnownTypeNames=function(e){return{ObjectTypeDefinition:function(){return!1},InterfaceTypeDefinition:function(){return!1},UnionTypeDefinition:function(){return!1},InputObjectTypeDefinition:function(){return!1},NamedType:function(t){var n=e.getSchema(),o=t.name.value;n.getType(o)||e.reportError(new r.GraphQLError(u(o,(0,i.default)(o,Object.keys(n.getTypeMap()))),[t]))}}};var r=n(0),i=a(n(24)),o=a(n(43));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n='Unknown type "'+e+'".';return t.length&&(n+=" Did you mean "+(0,o.default)(t)+"?"),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inlineFragmentOnNonCompositeErrorMessage=u,t.fragmentOnNonCompositeErrorMessage=s,t.FragmentsOnCompositeTypes=function(e){return{InlineFragment:function(t){var n=t.typeCondition;if(n){var s=(0,a.typeFromAST)(e.getSchema(),n);s&&!(0,o.isCompositeType)(s)&&e.reportError(new r.GraphQLError(u((0,i.print)(n)),[n]))}},FragmentDefinition:function(t){var n=(0,a.typeFromAST)(e.getSchema(),t.typeCondition);n&&!(0,o.isCompositeType)(n)&&e.reportError(new r.GraphQLError(s(t.name.value,(0,i.print)(t.typeCondition)),[t.typeCondition]))}}};var r=n(0),i=n(7),o=n(1),a=n(12);function u(e){return'Fragment cannot condition on non composite type "'+String(e)+'".'}function s(e,t){return'Fragment "'+e+'" cannot condition on non composite type "'+String(t)+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonInputTypeOnVarMessage=u,t.VariablesAreInputTypes=function(e){return{VariableDefinition:function(t){var n=(0,a.typeFromAST)(e.getSchema(),t.type);n&&!(0,o.isInputType)(n)&&e.reportError(new r.GraphQLError(u(t.variable.name.value,(0,i.print)(t.type)),[t.type]))}}};var r=n(0),i=n(7),o=n(1),a=n(12);function u(e,t){return'Variable "$'+e+'" cannot be non-input type "'+t+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noSubselectionAllowedMessage=o,t.requiredSubselectionMessage=a,t.ScalarLeafs=function(e){return{Field:function(t){var n=e.getType(),u=t.selectionSet;n&&((0,i.isLeafType)((0,i.getNamedType)(n))?u&&e.reportError(new r.GraphQLError(o(t.name.value,n),[u])):u||e.reportError(new r.GraphQLError(a(t.name.value,n),[t])))}}};var r=n(0),i=n(1);function o(e,t){return'Field "'+e+'" must not have a selection since type "'+String(t)+'" has no subfields.'}function a(e,t){return'Field "'+e+'" of type "'+String(t)+'" must have a selection of subfields. Did you mean "'+e+' { ... }"?'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undefinedFieldMessage=s,t.FieldsOnCorrectType=function(e){return{Field:function(t){var n=e.getParentType();if(n&&!e.getFieldDef()){var o=e.getSchema(),u=t.name.value,c=function(e,t,n){if((0,a.isAbstractType)(t)){var r=[],i=Object.create(null);return e.getPossibleTypes(t).forEach(function(e){e.getFields()[n]&&(r.push(e.name),e.getInterfaces().forEach(function(e){e.getFields()[n]&&(i[e.name]=(i[e.name]||0)+1)}))}),Object.keys(i).sort(function(e,t){return i[t]-i[e]}).concat(r)}return[]}(o,n,u),f=0!==c.length?[]:function(e,t,n){if((0,a.isObjectType)(t)||(0,a.isInterfaceType)(t)){var r=Object.keys(t.getFields());return(0,i.default)(n,r)}return[]}(0,n,u);e.reportError(new r.GraphQLError(s(u,n.name,c,f),[t]))}}}};var r=n(0),i=u(n(24)),o=u(n(43)),a=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){var i='Cannot query field "'+e+'" on type "'+t+'".';return 0!==n.length?i+=" Did you mean to use an inline fragment on "+(0,o.default)(n)+"?":0!==r.length&&(i+=" Did you mean "+(0,o.default)(r)+"?"),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateFragmentNameMessage=i,t.UniqueFragmentNames=function(e){var t=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(n){var o=n.name.value;return t[o]?e.reportError(new r.GraphQLError(i(o),[t[o],n.name])):t[o]=n.name,!1}}};var r=n(0);function i(e){return'There can be only one fragment named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownFragmentMessage=i,t.KnownFragmentNames=function(e){return{FragmentSpread:function(t){var n=t.name.value;e.getFragment(n)||e.reportError(new r.GraphQLError(i(n),[t.name]))}}};var r=n(0);function i(e){return'Unknown fragment "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unusedFragMessage=i,t.NoUnusedFragments=function(e){var t=[],n=[];return{OperationDefinition:function(e){return t.push(e),!1},FragmentDefinition:function(e){return n.push(e),!1},Document:{leave:function(){var o=Object.create(null);t.forEach(function(t){e.getRecursivelyReferencedFragments(t).forEach(function(e){o[e.name.value]=!0})}),n.forEach(function(t){var n=t.name.value;!0!==o[n]&&e.reportError(new r.GraphQLError(i(n),[t]))})}}}};var r=n(0);function i(e){return'Fragment "'+e+'" is never used.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeIncompatibleSpreadMessage=u,t.typeIncompatibleAnonSpreadMessage=s,t.PossibleFragmentSpreads=function(e){return{InlineFragment:function(t){var n=e.getType(),o=e.getParentType();(0,a.isCompositeType)(n)&&(0,a.isCompositeType)(o)&&!(0,i.doTypesOverlap)(e.getSchema(),n,o)&&e.reportError(new r.GraphQLError(s(o,n),[t]))},FragmentSpread:function(t){var n=t.name.value,s=function(e,t){var r=e.getFragment(n);if(r){var i=(0,o.typeFromAST)(e.getSchema(),r.typeCondition);if((0,a.isCompositeType)(i))return i}}(e),c=e.getParentType();s&&c&&!(0,i.doTypesOverlap)(e.getSchema(),s,c)&&e.reportError(new r.GraphQLError(u(n,c,s),[t]))}}};var r=n(0),i=n(28),o=n(12),a=n(1);function u(e,t,n){return'Fragment "'+e+'" cannot be spread here as objects of type "'+String(t)+'" can never be of type "'+String(n)+'".'}function s(e,t){return'Fragment cannot be spread here as objects of type "'+String(e)+'" can never be of type "'+String(t)+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cycleErrorMessage=i,t.NoFragmentCycles=function(e){var t=Object.create(null),n=[],o=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(a){return t[a.name.value]||function a(u){var s=u.name.value;t[s]=!0;var c=e.getFragmentSpreads(u.selectionSet);if(0!==c.length){o[s]=n.length;for(var f=0;f<c.length;f++){var l=c[f],p=l.name.value,d=o[p];if(void 0===d){if(n.push(l),!t[p]){var h=e.getFragment(p);h&&a(h)}n.pop()}else{var y=n.slice(d);e.reportError(new r.GraphQLError(i(p,y.map(function(e){return e.name.value})),y.concat(l)))}}o[s]=void 0}}(a),!1}}};var r=n(0);function i(e,t){return'Cannot spread fragment "'+e+'" within itself'+(t.length?" via "+t.join(", "):"")+"."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateVariableMessage=i,t.UniqueVariableNames=function(e){var t=Object.create(null);return{OperationDefinition:function(){t=Object.create(null)},VariableDefinition:function(n){var o=n.variable.name.value;t[o]?e.reportError(new r.GraphQLError(i(o),[t[o],n.variable.name])):t[o]=n.variable.name}}};var r=n(0);function i(e){return'There can be only one variable named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undefinedVarMessage=i,t.NoUndefinedVariables=function(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){e.getRecursiveVariableUsages(n).forEach(function(o){var a=o.node,u=a.name.value;!0!==t[u]&&e.reportError(new r.GraphQLError(i(u,n.name&&n.name.value),[a,n]))})}},VariableDefinition:function(e){t[e.variable.name.value]=!0}}};var r=n(0);function i(e,t){return t?'Variable "$'+e+'" is not defined by operation "'+t+'".':'Variable "$'+e+'" is not defined.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unusedVariableMessage=i,t.NoUnusedVariables=function(e){var t=[];return{OperationDefinition:{enter:function(){t=[]},leave:function(n){var o=Object.create(null),a=e.getRecursiveVariableUsages(n),u=n.name?n.name.value:null;a.forEach(function(e){o[e.node.name.value]=!0}),t.forEach(function(t){var n=t.variable.name.value;!0!==o[n]&&e.reportError(new r.GraphQLError(i(n,u),[t]))})}},VariableDefinition:function(e){t.push(e)}}};var r=n(0);function i(e,t){return t?'Variable "$'+e+'" is never used in operation "'+t+'".':'Variable "$'+e+'" is never used.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownDirectiveMessage=s,t.misplacedDirectiveMessage=c,t.KnownDirectives=function(e){return{Directive:function(t,n,r,f,l){var p=(0,o.default)(e.getSchema().getDirectives(),function(e){return e.name===t.name.value});if(p){var d=function(e){var t=e[e.length-1];if(!Array.isArray(t))switch(t.kind){case a.Kind.OPERATION_DEFINITION:switch(t.operation){case"query":return u.DirectiveLocation.QUERY;case"mutation":return u.DirectiveLocation.MUTATION;case"subscription":return u.DirectiveLocation.SUBSCRIPTION}break;case a.Kind.FIELD:return u.DirectiveLocation.FIELD;case a.Kind.FRAGMENT_SPREAD:return u.DirectiveLocation.FRAGMENT_SPREAD;case a.Kind.INLINE_FRAGMENT:return u.DirectiveLocation.INLINE_FRAGMENT;case a.Kind.FRAGMENT_DEFINITION:return u.DirectiveLocation.FRAGMENT_DEFINITION;case a.Kind.SCHEMA_DEFINITION:return u.DirectiveLocation.SCHEMA;case a.Kind.SCALAR_TYPE_DEFINITION:case a.Kind.SCALAR_TYPE_EXTENSION:return u.DirectiveLocation.SCALAR;case a.Kind.OBJECT_TYPE_DEFINITION:case a.Kind.OBJECT_TYPE_EXTENSION:return u.DirectiveLocation.OBJECT;case a.Kind.FIELD_DEFINITION:return u.DirectiveLocation.FIELD_DEFINITION;case a.Kind.INTERFACE_TYPE_DEFINITION:case a.Kind.INTERFACE_TYPE_EXTENSION:return u.DirectiveLocation.INTERFACE;case a.Kind.UNION_TYPE_DEFINITION:case a.Kind.UNION_TYPE_EXTENSION:return u.DirectiveLocation.UNION;case a.Kind.ENUM_TYPE_DEFINITION:case a.Kind.ENUM_TYPE_EXTENSION:return u.DirectiveLocation.ENUM;case a.Kind.ENUM_VALUE_DEFINITION:return u.DirectiveLocation.ENUM_VALUE;case a.Kind.INPUT_OBJECT_TYPE_DEFINITION:case a.Kind.INPUT_OBJECT_TYPE_EXTENSION:return u.DirectiveLocation.INPUT_OBJECT;case a.Kind.INPUT_VALUE_DEFINITION:return e[e.length-3].kind===a.Kind.INPUT_OBJECT_TYPE_DEFINITION?u.DirectiveLocation.INPUT_FIELD_DEFINITION:u.DirectiveLocation.ARGUMENT_DEFINITION}}(l);d&&-1===p.locations.indexOf(d)&&e.reportError(new i.GraphQLError(c(t.name.value,d),[t]))}else e.reportError(new i.GraphQLError(s(t.name.value),[t]))}}};var r,i=n(0),o=(r=n(21))&&r.__esModule?r:{default:r},a=n(2),u=n(20);function s(e){return'Unknown directive "'+e+'".'}function c(e,t){return'Directive "'+e+'" may not be used on '+t+"."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateDirectiveMessage=i,t.UniqueDirectivesPerLocation=function(e){return{enter:function(t){var n=t.directives;if(n){var o=Object.create(null);n.forEach(function(t){var n=t.name.value;o[n]?e.reportError(new r.GraphQLError(i(n),[o[n],t])):o[n]=t})}}}};var r=n(0);function i(e){return'The directive "'+e+'" can only be used once at this location.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownArgMessage=s,t.unknownDirectiveArgMessage=c,t.KnownArgumentNames=function(e){return{Argument:function(t,n,o,u,f){if(!e.getArgument()){var l=f[f.length-1];if(l.kind===a.Kind.FIELD){var p=e.getFieldDef(),d=e.getParentType();p&&d&&e.reportError(new r.GraphQLError(s(t.name.value,p.name,d.name,(0,i.default)(t.name.value,p.args.map(function(e){return e.name}))),[t]))}else if(l.kind===a.Kind.DIRECTIVE){var h=e.getDirective();h&&e.reportError(new r.GraphQLError(c(t.name.value,h.name,(0,i.default)(t.name.value,h.args.map(function(e){return e.name}))),[t]))}}}}};var r=n(0),i=u(n(24)),o=u(n(43)),a=n(2);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){var i='Unknown argument "'+e+'" on field "'+t+'" of type "'+n+'".';return r.length&&(i+=" Did you mean "+(0,o.default)(r)+"?"),i}function c(e,t,n){var r='Unknown argument "'+e+'" on directive "@'+t+'".';return n.length&&(r+=" Did you mean "+(0,o.default)(n)+"?"),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateArgMessage=i,t.UniqueArgumentNames=function(e){var t=Object.create(null);return{Field:function(){t=Object.create(null)},Directive:function(){t=Object.create(null)},Argument:function(n){var o=n.name.value;return t[o]?e.reportError(new r.GraphQLError(i(o),[t[o],n.name])):t[o]=n.name,!1}}};var r=n(0);function i(e){return'There can be only one argument named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.missingFieldArgMessage=u,t.missingDirectiveArgMessage=s,t.ProvidedNonNullArguments=function(e){return{Field:{leave:function(t){var n=e.getFieldDef();if(!n)return!1;var r=(0,o.default)(t.arguments||[],function(e){return e.name.value});n.args.forEach(function(n){!r[n.name]&&(0,a.isNonNullType)(n.type)&&e.reportError(new i.GraphQLError(u(t.name.value,n.name,n.type),[t]))})}},Directive:{leave:function(t){var n=e.getDirective();if(!n)return!1;var r=(0,o.default)(t.arguments||[],function(e){return e.name.value});n.args.forEach(function(n){!r[n.name]&&(0,a.isNonNullType)(n.type)&&e.reportError(new i.GraphQLError(s(t.name.value,n.name,n.type),[t]))})}}}};var r,i=n(0),o=(r=n(16))&&r.__esModule?r:{default:r},a=n(1);function u(e,t,n){return'Field "'+e+'" argument "'+t+'" of type "'+String(n)+'" is required but not provided.'}function s(e,t,n){return'Directive "@'+e+'" argument "'+t+'" of type "'+String(n)+'" is required but not provided.'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultForRequiredVarMessage=o,t.VariablesDefaultValueAllowed=function(e){return{VariableDefinition:function(t){var n=t.variable.name.value,a=t.defaultValue,u=e.getInputType();return(0,i.isNonNullType)(u)&&a&&e.reportError(new r.GraphQLError(o(n,u,u.ofType),[a])),!1},SelectionSet:function(){return!1},FragmentDefinition:function(){return!1}}};var r=n(0),i=n(1);function o(e,t,n){return'Variable "$'+e+'" of type "'+String(t)+'" is required and will not use the default value. Perhaps you meant to use type "'+String(n)+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.badVarPosMessage=u,t.VariablesInAllowedPosition=function(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(n){e.getRecursiveVariableUsages(n).forEach(function(n){var s=n.node,c=n.type,f=s.name.value,l=t[f];if(l&&c){var p=e.getSchema(),d=(0,a.typeFromAST)(p,l.type);d&&!(0,o.isTypeSubTypeOf)(p,function(e,t){return!t.defaultValue||(0,i.isNonNullType)(e)?e:(0,i.GraphQLNonNull)(e)}(d,l),c)&&e.reportError(new r.GraphQLError(u(f,d,c),[l,s]))}})}},VariableDefinition:function(e){t[e.variable.name.value]=e}}};var r=n(0),i=n(1),o=n(28),a=n(12);function u(e,t,n){return'Variable "$'+e+'" of type "'+String(t)+'" used in position expecting type "'+String(n)+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fieldsConflictMessage=f,t.OverlappingFieldsCanBeMerged=function(e){var t=new m,n=new Map;return{SelectionSet:function(r){(function(e,t,n,r,i){var o=[],a=y(e,t,r,i),u=a[0],s=a[1];if(function(e,t,n,r,i){Object.keys(i).forEach(function(o){var a=i[o];if(a.length>1)for(var u=0;u<a.length;u++)for(var s=u+1;s<a.length;s++){var c=h(e,n,r,!1,o,a[u],a[s]);c&&t.push(c)}})}(e,o,t,n,u),0!==s.length)for(var c=Object.create(null),f=0;f<s.length;f++){l(e,o,t,c,n,!1,u,s[f]);for(var d=f+1;d<s.length;d++)p(e,o,t,n,!1,s[f],s[d])}return o})(e,n,t,e.getParentType(),r).forEach(function(t){var n=t[0],r=t[1],o=t[2];return e.reportError(new i.GraphQLError(f(n[0],n[1]),r.concat(o)))})}}};var r,i=n(0),o=(r=n(21))&&r.__esModule?r:{default:r},a=n(2),u=n(7),s=n(1),c=n(12);function f(e,t){return'Fields "'+e+'" conflict because '+function e(t){return Array.isArray(t)?t.map(function(t){return'subfields "'+t[0]+'" conflict because '+e(t[1])}).join(" and "):t}(t)+". Use different aliases on the fields to fetch both if this was intentional."}function l(e,t,n,r,i,o,a,u){if(!r[u]){r[u]=!0;var s=e.getFragment(u);if(s){var c=v(e,n,s),f=c[0],p=c[1];if(a!==f){d(e,t,n,i,o,a,f);for(var h=0;h<p.length;h++)l(e,t,n,r,i,o,a,p[h])}}}}function p(e,t,n,r,i,o,a){if(o!==a&&!r.has(o,a,i)){r.add(o,a,i);var u=e.getFragment(o),s=e.getFragment(a);if(u&&s){var c=v(e,n,u),f=c[0],l=c[1],h=v(e,n,s),y=h[1];d(e,t,n,r,i,f,h[0]);for(var m=0;m<y.length;m++)p(e,t,n,r,i,o,y[m]);for(var _=0;_<l.length;_++)p(e,t,n,r,i,l[_],a)}}}function d(e,t,n,r,i,o,a){Object.keys(o).forEach(function(u){var s=a[u];if(s)for(var c=o[u],f=0;f<c.length;f++)for(var l=0;l<s.length;l++){var p=h(e,n,r,i,u,c[f],s[l]);p&&t.push(p)}})}function h(e,t,n,r,i,a,c){var f,h,v=a[0],m=a[1],_=a[2],b=c[0],g=c[1],T=c[2],E=r||v!==b&&(0,s.isObjectType)(v)&&(0,s.isObjectType)(b),O=_&&_.type,N=T&&T.type;if(!E){var I=m.name.value,w=g.name.value;if(I!==w)return[[i,I+" and "+w+" are different fields"],[m],[g]];if((f=m.arguments||[]).length!==(h=g.arguments||[]).length||!f.every(function(e){var t,n,r=(0,o.default)(h,function(t){return t.name.value===e.name.value});return!!r&&(n=r.value,!(t=e.value)&&!n||(0,u.print)(t)===(0,u.print)(n))}))return[[i,"they have differing arguments"],[m],[g]]}if(O&&N&&function e(t,n){return(0,s.isListType)(t)?!(0,s.isListType)(n)||e(t.ofType,n.ofType):!!(0,s.isListType)(n)||((0,s.isNonNullType)(t)?!(0,s.isNonNullType)(n)||e(t.ofType,n.ofType):!!(0,s.isNonNullType)(n)||!(!(0,s.isLeafType)(t)&&!(0,s.isLeafType)(n))&&t!==n)}(O,N))return[[i,"they return conflicting types "+String(O)+" and "+String(N)],[m],[g]];var L=m.selectionSet,S=g.selectionSet;return L&&S?function(e,t,n,r){if(e.length>0)return[[t,e.map(function(e){return e[0]})],e.reduce(function(e,t){return e.concat(t[1])},[n]),e.reduce(function(e,t){return e.concat(t[2])},[r])]}(function(e,t,n,r,i,o,a,u){var s=[],c=y(e,t,i,o),f=c[0],h=c[1],v=y(e,t,a,u),m=v[0],_=v[1];if(d(e,s,t,n,r,f,m),0!==_.length)for(var b=Object.create(null),g=0;g<_.length;g++)l(e,s,t,b,n,r,f,_[g]);if(0!==h.length)for(var T=Object.create(null),E=0;E<h.length;E++)l(e,s,t,T,n,r,m,h[E]);for(var O=0;O<h.length;O++)for(var N=0;N<_.length;N++)p(e,s,t,n,r,h[O],_[N]);return s}(e,t,n,E,(0,s.getNamedType)(O),L,(0,s.getNamedType)(N),S),i,m,g):void 0}function y(e,t,n,r){var i=t.get(r);if(!i){var o=Object.create(null),u=Object.create(null);!function e(t,n,r,i,o){for(var u=0;u<r.selections.length;u++){var f=r.selections[u];switch(f.kind){case a.Kind.FIELD:var l=f.name.value,p=void 0;((0,s.isObjectType)(n)||(0,s.isInterfaceType)(n))&&(p=n.getFields()[l]);var d=f.alias?f.alias.value:l;i[d]||(i[d]=[]),i[d].push([n,f,p]);break;case a.Kind.FRAGMENT_SPREAD:o[f.name.value]=!0;break;case a.Kind.INLINE_FRAGMENT:var h=f.typeCondition;e(t,h?(0,c.typeFromAST)(t.getSchema(),h):n,f.selectionSet,i,o)}}}(e,n,r,o,u),i=[o,Object.keys(u)],t.set(r,i)}return i}function v(e,t,n){return t.get(n.selectionSet)||y(e,t,(0,c.typeFromAST)(e.getSchema(),n.typeCondition),n.selectionSet)}var m=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._data=Object.create(null)}return e.prototype.has=function(e,t,n){var r=this._data[e],i=r&&r[t];return void 0!==i&&(!1!==n||!1===i)},e.prototype.add=function(e,t,n){_(this._data,e,t,n),_(this._data,t,e,n)},e}();function _(e,t,n,r){var i=e[t];i||(i=Object.create(null),e[t]=i),i[n]=r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateInputFieldMessage=i,t.UniqueInputFieldNames=function(e){var t=[],n=Object.create(null);return{ObjectValue:{enter:function(){t.push(n),n=Object.create(null)},leave:function(){n=t.pop()}},ObjectField:function(t){var o=t.name.value;return n[o]?e.reportError(new r.GraphQLError(i(o),[n[o],t.name])):n[o]=t.name,!1}}};var r=n(0);function i(e){return'There can be only one input field named "'+e+'".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Boolean(e&&"function"==typeof e.then)}},function(e,t,n){"use strict";function r(e){var t=!(e&&!1===e.descriptions);return"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          "+(t?"description":"")+"\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      "+(t?"description":"")+"\n      fields(includeDeprecated: true) {\n        name\n        "+(t?"description":"")+"\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        "+(t?"description":"")+"\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      "+(t?"description":"")+"\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "}Object.defineProperty(t,"__esModule",{value:!0}),t.getIntrospectionQuery=r,t.introspectionQuery=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASTDefinitionBuilder=void 0,t.buildASTSchema=m,t.getDescription=g,t.buildSchema=function(e,t){return m((0,s.parse)(e,t),t)};var r=v(n(16)),i=v(n(26)),o=n(31),a=v(n(62)),u=n(42),s=n(22),c=n(30),f=n(2),l=n(1),p=n(9),d=n(10),h=n(13),y=n(4);function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e||e.kind!==f.Kind.DOCUMENT)throw new Error("Must provide a document ast.");for(var n=void 0,r=[],i=Object.create(null),o=[],a=0;a<e.definitions.length;a++){var u=e.definitions[a];switch(u.kind){case f.Kind.SCHEMA_DEFINITION:if(n)throw new Error("Must provide only one schema definition.");n=u;break;case f.Kind.SCALAR_TYPE_DEFINITION:case f.Kind.OBJECT_TYPE_DEFINITION:case f.Kind.INTERFACE_TYPE_DEFINITION:case f.Kind.ENUM_TYPE_DEFINITION:case f.Kind.UNION_TYPE_DEFINITION:case f.Kind.INPUT_OBJECT_TYPE_DEFINITION:var s=u.name.value;if(i[s])throw new Error('Type "'+s+'" was defined more than once.');r.push(u),i[s]=u;break;case f.Kind.DIRECTIVE_DEFINITION:o.push(u)}}var c,l=n?(c={},n.operationTypes.forEach(function(e){var t=e.type.name.value,n=e.operation;if(c[n])throw new Error("Must provide only one "+n+" type in schema.");if(!i[t])throw new Error("Specified "+n+' type "'+t+'" not found in document.');c[n]=e.type}),c):{query:i.Query,mutation:i.Mutation,subscription:i.Subscription},d=new _(i,t,function(e){throw new Error('Type "'+e.name.value+'" not found in document.')}),h=d.buildTypes(r),v=o.map(function(e){return d.buildDirective(e)});return v.some(function(e){return"skip"===e.name})||v.push(p.GraphQLSkipDirective),v.some(function(e){return"include"===e.name})||v.push(p.GraphQLIncludeDirective),v.some(function(e){return"deprecated"===e.name})||v.push(p.GraphQLDeprecatedDirective),new y.GraphQLSchema({query:l.query?d.buildType(l.query):null,mutation:l.mutation?d.buildType(l.mutation):null,subscription:l.subscription?d.buildType(l.subscription):null,types:h,directives:v,astNode:n,assumeValid:t&&t.assumeValid,allowedLegacyNames:t&&t.allowedLegacyNames})}var _=t.ASTDefinitionBuilder=function(){function e(t,n,i){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._typeDefinitionsMap=t,this._options=n,this._resolveType=i,this._cache=(0,r.default)(h.specifiedScalarTypes.concat(d.introspectionTypes),function(e){return e.name})}return e.prototype.buildTypes=function(e){var t=this;return e.map(function(e){return t.buildType(e)})},e.prototype.buildType=function(e){var t=e.name.value;if(!this._cache[t])if(e.kind===f.Kind.NAMED_TYPE){var n=this._typeDefinitionsMap[t];this._cache[t]=n?this._makeSchemaDef(n):this._resolveType(e)}else this._cache[t]=this._makeSchemaDef(e);return this._cache[t]},e.prototype._buildWrappedType=function(e){return function e(t,n){if(n.kind===f.Kind.LIST_TYPE)return(0,l.GraphQLList)(e(t,n.type));if(n.kind===f.Kind.NON_NULL_TYPE){var r=e(t,n.type);return(0,l.GraphQLNonNull)((0,l.assertNullableType)(r))}return t}(this.buildType(function(e){for(var t=e;t.kind===f.Kind.LIST_TYPE||t.kind===f.Kind.NON_NULL_TYPE;)t=t.type;return t}(e)),e)},e.prototype.buildDirective=function(e){return new p.GraphQLDirective({name:e.name.value,description:g(e,this._options),locations:e.locations.map(function(e){return e.value}),args:e.arguments&&this._makeInputValues(e.arguments),astNode:e})},e.prototype.buildField=function(e){return{type:this._buildWrappedType(e.type),description:g(e,this._options),args:e.arguments&&this._makeInputValues(e.arguments),deprecationReason:b(e),astNode:e}},e.prototype._makeSchemaDef=function(e){switch(e.kind){case f.Kind.OBJECT_TYPE_DEFINITION:return this._makeTypeDef(e);case f.Kind.INTERFACE_TYPE_DEFINITION:return this._makeInterfaceDef(e);case f.Kind.ENUM_TYPE_DEFINITION:return this._makeEnumDef(e);case f.Kind.UNION_TYPE_DEFINITION:return this._makeUnionDef(e);case f.Kind.SCALAR_TYPE_DEFINITION:return this._makeScalarDef(e);case f.Kind.INPUT_OBJECT_TYPE_DEFINITION:return this._makeInputObjectDef(e);default:throw new Error('Type kind "'+e.kind+'" not supported.')}},e.prototype._makeTypeDef=function(e){var t=this,n=e.interfaces;return new l.GraphQLObjectType({name:e.name.value,description:g(e,this._options),fields:function(){return t._makeFieldDefMap(e)},interfaces:n?function(){return t.buildTypes(n)}:[],astNode:e})},e.prototype._makeFieldDefMap=function(e){var t=this;return e.fields?(0,i.default)(e.fields,function(e){return e.name.value},function(e){return t.buildField(e)}):{}},e.prototype._makeInputValues=function(e){var t=this;return(0,i.default)(e,function(e){return e.name.value},function(e){var n=t._buildWrappedType(e.type);return{type:n,description:g(e,t._options),defaultValue:(0,o.valueFromAST)(e.defaultValue,n),astNode:e}})},e.prototype._makeInterfaceDef=function(e){var t=this;return new l.GraphQLInterfaceType({name:e.name.value,description:g(e,this._options),fields:function(){return t._makeFieldDefMap(e)},astNode:e})},e.prototype._makeEnumDef=function(e){var t=this;return new l.GraphQLEnumType({name:e.name.value,description:g(e,this._options),values:e.values?(0,i.default)(e.values,function(e){return e.name.value},function(e){return{description:g(e,t._options),deprecationReason:b(e),astNode:e}}):{},astNode:e})},e.prototype._makeUnionDef=function(e){return new l.GraphQLUnionType({name:e.name.value,description:g(e,this._options),types:e.types?this.buildTypes(e.types):[],astNode:e})},e.prototype._makeScalarDef=function(e){return new l.GraphQLScalarType({name:e.name.value,description:g(e,this._options),astNode:e,serialize:function(e){return e}})},e.prototype._makeInputObjectDef=function(e){var t=this;return new l.GraphQLInputObjectType({name:e.name.value,description:g(e,this._options),fields:function(){return e.fields?t._makeInputValues(e.fields):{}},astNode:e})},e}();function b(e){var t=(0,c.getDirectiveValues)(p.GraphQLDeprecatedDirective,e);return t&&t.reason}function g(e,t){if(e.description)return e.description.value;if(t&&t.commentDescriptions){var n=function(e){var t=e.loc;if(t){for(var n=[],r=t.startToken.prev;r&&r.kind===u.TokenKind.COMMENT&&r.next&&r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){var i=String(r.value);n.push(i),r=r.prev}return n.reverse().join("\n")}}(e);if(void 0!==n)return(0,a.default)("\n"+n)}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(30),u=Object.prototype.hasOwnProperty,s=function(){function e(){}return e.implementsVisitorMethod=function(t){if(!t.startsWith("visit"))return!1;var n=this.prototype[t];return"function"==typeof n&&(this===e||n!==e.prototype[t])},e.prototype.visitSchema=function(e){},e.prototype.visitScalar=function(e){},e.prototype.visitObject=function(e){},e.prototype.visitFieldDefinition=function(e,t){},e.prototype.visitArgumentDefinition=function(e,t){},e.prototype.visitInterface=function(e){},e.prototype.visitUnion=function(e){},e.prototype.visitEnum=function(e){},e.prototype.visitEnumValue=function(e,t){},e.prototype.visitInputObject=function(e){},e.prototype.visitInputFieldDefinition=function(e,t){},e}();function c(e,t){function n(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t(n,e).every(function(t){var i=t[e].apply(t,[n].concat(r));if("undefined"==typeof i)return!0;if("visitSchema"===e||n instanceof o.GraphQLSchema)throw new Error("Method "+e+" cannot replace schema with "+i);if(null===i)return n=null,!1;n=i}),n}function r(e){p(e.getFields(),function(t){var r=n("visitFieldDefinition",t,{objectType:e});return r&&r.args&&p(r.args,function(t){return n("visitArgumentDefinition",t,{field:r,objectType:e})}),r})}return function e(t){if(t instanceof o.GraphQLSchema)return n("visitSchema",t),p(t.getTypeMap(),function(t,n){if(!n.startsWith("__"))return e(t)}),t;if(t instanceof o.GraphQLObjectType){var i=n("visitObject",t);return i&&r(i),i}if(t instanceof o.GraphQLInterfaceType){var a=n("visitInterface",t);return a&&r(a),a}if(t instanceof o.GraphQLInputObjectType){var u=n("visitInputObject",t);return u&&p(u.getFields(),function(e){return n("visitInputFieldDefinition",e,{objectType:u})}),u}if(t instanceof o.GraphQLScalarType)return n("visitScalar",t);if(t instanceof o.GraphQLUnionType)return n("visitUnion",t);if(t instanceof o.GraphQLEnumType){var s=n("visitEnum",t);return s&&p(s.getValues(),function(e){return n("visitEnumValue",e,{enumType:s})}),s}throw new Error("Unexpected schema type: "+t)}(e),e}function f(e){return function e(r){if(r instanceof o.GraphQLSchema){var i=r.getTypeMap(),a=Object.create(null);l(i,function(e,t){if(!t.startsWith("__")){var n=e.name;if(!n.startsWith("__")){if(u.call(a,n))throw new Error("Duplicate schema type name "+n);a[n]=e}}}),l(a,function(e,t){i[t]=e}),l(r.getDirectives(),function(e){e.args&&l(e.args,function(e){e.type=n(e.type)})}),l(i,function(t,n){n.startsWith("__")||e(t)}),p(i,function(e,t){if(!t.startsWith("__")&&!u.call(a,t))return null})}else if(r instanceof o.GraphQLObjectType)t(r),l(r.getInterfaces(),function(t){return e(t)});else if(r instanceof o.GraphQLInterfaceType)t(r);else if(r instanceof o.GraphQLInputObjectType)l(r.getFields(),function(e){e.type=n(e.type)});else if(r instanceof o.GraphQLScalarType);else if(r instanceof o.GraphQLUnionType)p(r.getTypes(),function(e){return n(e)});else if(!(r instanceof o.GraphQLEnumType))throw new Error("Unexpected schema type: "+r)}(e),e;function t(e){l(e.getFields(),function(e){e.type=n(e.type),e.args&&l(e.args,function(e){e.type=n(e.type)})})}function n(t){if(t instanceof o.GraphQLList||t instanceof o.GraphQLNonNull)t.ofType=n(t.ofType);else if(o.isNamedType(t)){var r=t,i=e.getType(r.name);if(i&&r!==i)return i}return t}}function l(e,t){Object.keys(e).forEach(function(n){t(e[n],n)})}function p(e,t){var n=0;Object.keys(e).forEach(function(r){var i=t(e[r],r);if("undefined"!=typeof i)return null===i?(delete e[r],void n++):void(e[r]=i)}),n>0&&Array.isArray(e)&&e.splice(0).forEach(function(t){e.push(t)})}function d(e){switch(e.kind){case o.Kind.NULL:return null;case o.Kind.INT:return parseInt(e.value,10);case o.Kind.FLOAT:return parseFloat(e.value);case o.Kind.STRING:case o.Kind.ENUM:case o.Kind.BOOLEAN:return e.value;case o.Kind.LIST:return e.values.map(d);case o.Kind.OBJECT:var t=Object.create(null);return e.fields.forEach(function(e){t[e.name.value]=d(e.value)}),t;default:throw new Error("Unexpected value kind: "+e.kind)}}t.SchemaVisitor=s,t.visitSchema=c,t.healSchema=f,t.SchemaDirectiveVisitor=function(e){function t(t){var n=e.call(this)||this;return n.name=t.name,n.args=t.args,n.visitedType=t.visitedType,n.schema=t.schema,n.context=t.context,n}return i(t,e),t.getDirectiveDeclaration=function(e,t){return t.getDirective(e)},t.visitSchemaDirectives=function(e,t,n){void 0===n&&(n=Object.create(null));var r=this.getDeclaredDirectives(e,t),i=Object.create(null);return Object.keys(t).forEach(function(e){i[e]=[]}),c(e,function(o,s){var c=[],f=o.astNode&&o.astNode.directives;return f?(f.forEach(function(i){var f=i.name.value;if(u.call(t,f)){var l=t[f];if(l.implementsVisitorMethod(s)){var p,h=r[f];h?p=a.getArgumentValues(h,i):(p=Object.create(null),i.arguments.forEach(function(e){p[e.name.value]=d(e.value)})),c.push(new l({name:f,args:p,visitedType:o,schema:e,context:n}))}}}),c.length>0&&c.forEach(function(e){i[e.name].push(e)}),c):c}),f(e),i},t.getDeclaredDirectives=function(e,t){var n=Object.create(null);return l(e.getDirectives(),function(e){n[e.name]=e}),l(t,function(t,r){var i=t.getDirectiveDeclaration(r,e);i&&(n[r]=i)}),l(n,function(e,n){if(u.call(t,n)){var r=t[n];l(e.locations,function(e){var t=function(e){return"visit"+e.replace(/([^_]*)_?/g,function(e,t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})}(e);if(s.implementsVisitorMethod(t)&&!r.implementsVisitorMethod(t))throw new Error("SchemaDirectiveVisitor for @"+n+" must implement "+t+" method")})}}),n},t}(s)},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){var i=Object.assign({},t);return r(t)&&r(n)&&Object.keys(n).forEach(function(o){var a,u;r(n[o])?o in t?i[o]=e(t[o],n[o]):Object.assign(i,((a={})[o]=n[o],a)):Object.assign(i,((u={})[o]=n[o],u))}),i}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35),i=n(35);t.execute=i.execute,t.default=function(e){return function(t){return r.makePromise(r.execute(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!0;for(var t in e)if(Object.hasOwnProperty.call(e,t))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=n(49);t.default=function(e,t,n,a){var u=a.fieldNodes[0].alias?a.fieldNodes[0].alias.value:a.fieldName,s=o.getErrorsFromParent(e,u);if("OWN"===s.kind)throw i.locatedError(new Error(s.error.message),a.fieldNodes,r.responsePathAsArray(a.path));if(e){var c=e[u];return!c&&e.data&&e.data[u]&&(c=e.data[u]),s.errors&&(c=o.annotateWithChildrenErrors(c,s.errors)),c}return null}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),u=n(49);function s(e,t,n,r,i,o,u,s){var f=n.getFields()[r],l=[],h={kind:a.Kind.SELECTION_SET,selections:o.map(function(e){if(e.kind===a.Kind.FIELD){var t=function(e,t,n){var r=e.arguments||[],i=r.map(function(e){return e.name.value}),o=n.args.map(function(e){return e.name}),u=d(o,i),s=d(i,o),c=r.filter(function(e){return-1===s.indexOf(e.name.value)}),f=[],l=u.map(function(e){var t="_"+e;return f.push({arg:e,variable:t}),{kind:a.Kind.ARGUMENT,name:{kind:a.Kind.NAME,value:e},value:{kind:a.Kind.VARIABLE,name:{kind:a.Kind.NAME,value:t}}}});return{selection:{kind:a.Kind.FIELD,alias:null,arguments:c.concat(l),selectionSet:e.selectionSet,name:{kind:a.Kind.NAME,value:t}},variables:f}}(e,r,f),n=t.selection;return l.push.apply(l,t.variables),n}return e})},y=[];l.forEach(function(e){var t=e.arg,n=e.variable;if(!y.find(function(e){return e.variable.name.value===n})){var r=f.args.find(function(e){return e.name===t});if(!r)throw new Error("Unexpected missing arg");var i=function e(t){if(t instanceof a.GraphQLNonNull){var n=e(t.ofType);if(n.kind===a.Kind.LIST_TYPE||n.kind===a.Kind.NAMED_TYPE)return{kind:a.Kind.NON_NULL_TYPE,type:n};throw new Error("Incorrent inner non-null type")}return t instanceof a.GraphQLList?{kind:a.Kind.LIST_TYPE,type:e(t.ofType)}:{kind:a.Kind.NAMED_TYPE,name:{kind:a.Kind.NAME,value:t.toString()}}}(r.type);y.push({kind:a.Kind.VARIABLE_DEFINITION,variable:{kind:a.Kind.VARIABLE,name:{kind:a.Kind.NAME,value:n}},type:i})}});var v=function(e,t,n,r,i){var o=[];Object.keys(i).forEach(function(t){var n=i[t];e.getType(n.typeCondition.name.value)&&o.push(n)});for(var u=c(e,t,n,r,o),s=u.selectionSet,f=u.usedFragments,l=u.usedVariables,d={};f.length>0;){var h=f.pop();if(!d[h]){var y=i[h];if(!h)throw new Error("Could not find fragment "+h);var v=e.getType(y.typeCondition.name.value);if(v){var m=c(e,t,v,y.selectionSet,o),_=m.selectionSet,b=m.usedVariables;f=p(f,m.usedFragments),l=p(l,b),d[h]={kind:a.Kind.FRAGMENT_DEFINITION,name:{kind:a.Kind.NAME,value:h},typeCondition:y.typeCondition,selectionSet:_}}}}return{selectionSet:s,fragments:Object.keys(d).map(function(e){return d[e]}),usedVariables:l}}(e,t,n,h,u),m=v.selectionSet,_=v.fragments,b=v.usedVariables,g={kind:a.Kind.OPERATION_DEFINITION,operation:i,variableDefinitions:(s||[]).filter(function(e){return-1!==b.indexOf(e.variable.name.value)}).concat(y),selectionSet:m};return{kind:a.Kind.DOCUMENT,definitions:[g].concat(_)}}function c(e,t,n,i,o){var u,s=[],c=[],p=[n];return{selectionSet:a.visit(i,((u={})[a.Kind.FIELD]={enter:function(e){var t=f(p[p.length-1]);if(t instanceof a.GraphQLObjectType||t instanceof a.GraphQLInterfaceType){var n=t.getFields(),r="__typename"===e.name.value?a.TypeNameMetaFieldDef:n[e.name.value];if(!r)return null;p.push(r.type)}else t instanceof a.GraphQLUnionType&&"__typename"===e.name.value&&p.push(a.TypeNameMetaFieldDef.type)},leave:function(){p.pop()}},u[a.Kind.SELECTION_SET]=function(e){var n=f(p[p.length-1]),i=n.name,o=e.selections;if((n instanceof a.GraphQLInterfaceType||n instanceof a.GraphQLUnionType)&&!o.find(function(e){return e.kind===a.Kind.FIELD&&"__typename"===e.name.value})&&(o=o.concat({kind:a.Kind.FIELD,name:{kind:a.Kind.NAME,value:"__typename"}})),t[i]&&o.forEach(function(e){if(e.kind===a.Kind.FIELD){var n=t[i][e.name.value];n&&(o=o.concat(n))}}),o!==e.selections)return r({},e,{selections:o})},u[a.Kind.FRAGMENT_SPREAD]=function(t){var n=o.filter(function(e){return e.name.value===t.name.value})[0];if(!n)return null;if(n.typeCondition){var r=e.getType(n.typeCondition.name.value);if(!l(f(p[p.length-1]),r))return null}s.push(t.name.value)},u[a.Kind.INLINE_FRAGMENT]={enter:function(t){if(t.typeCondition){var n=e.getType(t.typeCondition.name.value);if(!l(f(p[p.length-1]),n))return null;p.push(n)}},leave:function(t){if(t.typeCondition){if(!e.getType(t.typeCondition.name.value))return null;p.pop()}}},u[a.Kind.VARIABLE]=function(e){c.push(e.name.value)},u)),usedFragments:s,usedVariables:c}}function f(e){for(var t=e;t instanceof a.GraphQLNonNull||t instanceof a.GraphQLList;)t=t.ofType;return t}function l(e,t,n){return void 0===n&&(n=!1),e===t||(e instanceof a.GraphQLInterfaceType&&t instanceof a.GraphQLObjectType?-1!==t.getInterfaces().indexOf(e):e instanceof a.GraphQLInterfaceType&&t instanceof a.GraphQLInterfaceType||(e instanceof a.GraphQLUnionType&&t instanceof a.GraphQLObjectType?-1!==e.getTypes().indexOf(t):e instanceof a.GraphQLObjectType&&!n&&l(t,e,!0)))}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={},r=[];return e.forEach(function(e){e.forEach(function(e){n[e]||(n[e]=!0,r.push(e))})}),r}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};return t.forEach(function(e){e.forEach(function(e){r[e]=!0})}),e.filter(function(e){return!r[e]})}t.default=function(e,t,n,r,c,f,l){return i(this,void 0,void 0,function(){var i,p,d,h,y,v,m,_,b,g;return o(this,function(o){switch(o.label){case 0:if(!(i="mutation"===n?e.getMutationType():"subscription"===n?e.getSubscriptionType():e.getQueryType()))return[3,3];if(p=s(e,t,i,r,n,l.fieldNodes,l.fragments,l.operation.variableDefinitions),(d=a.validate(e,p)).length>0)throw d;if(h=p.definitions.find(function(e){return e.kind===a.Kind.OPERATION_DEFINITION}),y={},h&&h.kind===a.Kind.OPERATION_DEFINITION&&h.variableDefinitions&&Array.isArray(h.variableDefinitions))for(v=0,m=h.variableDefinitions;v<m.length;v++)b=(_=m[v].variable.name.value).startsWith("_")?_.slice(1):_,y[_]=null!=c[b]?c[b]:l.variableValues[_];return"query"!==n&&"mutation"!==n?[3,2]:[4,a.execute(e,p,l.rootValue,f,y)];case 1:return g=o.sent(),[2,u.checkResultAndHandleErrors(g,l,r)];case 2:if("subscription"===n)return[2,a.subscribe(e,p,l.rootValue,f,y)];o.label=3;case 3:throw new Error("Could not forward to merged schema")}})})},t.createDocument=s},function(e,t,n){"use strict";e.exports=function(e,t,n){var o,a,u,s,c,f,l,p;if(e===t)return 0;if(a=t.length,0===(o=e.length))return a;if(0===a)return o;for(n&&(e=e.toLowerCase(),t=t.toLowerCase()),l=0;l<o;)i[l]=e.charCodeAt(l),r[l]=++l;for(p=0;p<a;)for(u=t.charCodeAt(p),s=c=p++,l=-1;++l<o;)f=u===i[l]?c:c+1,r[l]=s=(c=r[l])>s?f>s?s+1:f:f>c?c+1:f;return s};var r=[],i=[]},function(e,t,n){e.exports=n(103)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=(n.n(r),n(159)),o=n(193),a=n(199);Object(r.createWorker)({schema:i.a,context:a.a}),self.onmessage=function(e){return Object(r.handleSubscriptions)({self:self,message:e,schema:i.a,context:a.a,pubsub:o.a})}},function(e,t,n){!function(e,t,r,i,o,a){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;var u=Object.freeze({GQL_START:"start",GQL_DATA:"data",GQL_ERROR:"error",GQL_COMPLETE:"complete"}),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},p=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},h=function(e){function n(e){var t=e.worker;c(this,n);var r=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r.promiseWorker=null,r.promiseWorker=new i(t),r}return p(n,t.ApolloLink),f(n,[{key:"request",value:function(e){var n=this;return new t.Observable(function(t){n.promiseWorker.postMessage(e).then(function(e){t.next(e),t.complete()}).catch(t.error.bind(t))})}}]),n}(),y=function(e){var t=e.worker,n=function(){function e(t,n){c(this,e),this.url=t,this.protocol=n,this.readyState=e.OPEN}return f(e,[{key:"close",value:function(){console.log("closing noop")}},{key:"send",value:function(e){t.postMessage(e)}},{key:"onerror",set:function(e){t.onerror=e}},{key:"onmessage",set:function(e){t.onmessage=function(t){var n=t.data,r=JSON.parse(n);-1!==Object.keys(u).map(function(e){return u[e]}).indexOf(r.type)&&e({data:n})}}}]),e}();return n.CLOSED="CLOSED",n.OPEN="OPEN",n.CONNECTING="CONNECTING",n},v=function(e){function n(e){var t=e.worker;c(this,n);var i=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.worker=null,i.subscriptionClient=null,i.worker=t,i.subscriptionClient=new r.SubscriptionClient(null,{},y({worker:t})),i}return p(n,t.ApolloLink),f(n,[{key:"request",value:function(e){return this.subscriptionClient.request(e)}}]),n}(),m=function(e){return"subscription"===e.query.definitions[0].operation},_=n(157),b=void 0;e.PromiseWorkerLink=h,e.createWorkerInterface=y,e.SubscriptionWorkerLink=v,e.isSubscription=m,e.createWebWorkerLink=function(e){var n=e.worker;return t.ApolloLink.split(m,new v({worker:n}),new h({worker:n}))},e.createWorker=function(e){var t=e.schema,n=e.context,r=e.beforeRequest,i=void 0===r?function(){return Promise.resolve()}:r;return _(function(e){return e?i(e).then(function(){return o.execute(t,e.query,{},Object.assign({},e.context||{},n),e.variables,e.operationName)}):Promise.resolve()})},e.handleSubscriptions=function(e){var t=e.message;return function(e){var t=e.schema,n=e.context;if(b)return b;var r=function(e,t,n){self.postMessage(JSON.stringify({type:t,id:e,payload:n}))},i=function(e,t,n){r(e,"error",t)},u={isLegacy:!1,operations:{}},c=function(e){u.operations&&u.operations[e]&&(u.operations[e].return&&u.operations[e].return(),delete u.operations[e])};return b=function(e){var f=JSON.parse(e.data),p=f.id;if("undefined"!=typeof p)switch(f.type){case"start":u.operations&&u.operations[p]&&c(p);var d={query:f.payload.query,variables:f.payload.variables,operationName:f.payload.operationName,context:n,formatResponse:void 0,formatError:void 0,callback:void 0},h=Promise.resolve(d);u.operations[p]=l({next:function(){return Promise.resolve({value:void 0,done:!0})},return:function(){return Promise.resolve({value:void 0,done:!0})},throw:function(e){return Promise.reject(e)}},a.$$asyncIterator,function(){}),h.then(function(e){if("object"!==("undefined"==typeof e?"undefined":s(e)))throw new Error("Invalid params returned from onOperation! return values must be an object!");var n,r,i="string"!=typeof d.query?d.query:o.parse(d.query),u=void 0,c=o.validate(t,i,o.specifiedRules);if(c.length>0)u=Promise.resolve((n=Promise.resolve({errors:c}),r=!1,n.then(function(e){return a.isAsyncIterable(e)?e:l({next:function(){return r?Promise.resolve({value:void 0,done:!0}):(r=!0,Promise.resolve({value:e,done:!1}))},return:function(){return r=!0,Promise.resolve({value:void 0,done:!0})},throw:function(e){return r=!0,Promise.reject(e)}},a.$$asyncIterator,function(){})})));else{var f=(0,o.subscribe)(t,i,{},e.context,e.variables,e.operationName);if(!a.isAsyncIterable(f)&&f instanceof Promise)u=f;else{if(!a.isAsyncIterable(f))throw new Error("Invalid `execute` return type! Only Promise or AsyncIterable are valid values!");u=Promise.resolve(f)}}return u.then(function(t){return{executionIterable:a.isAsyncIterable(t)?t:a.createAsyncIterator([t]),params:e}})}).then(function(e){var t=e.executionIterable,n=e.params;return a.forAwaitEach(a.createAsyncIterator(t),function(e){var t=e;if(n.formatResponse)try{t=n.formatResponse(e,n)}catch(e){console.error("Error in formatError function:",e)}r(p,"data",t)}).then(function(){r(p,"complete",null)}).catch(function(e){var t=e;if(n.formatError)try{t=n.formatError(e,n)}catch(e){console.error("Error in formatError function: ",e)}0===Object.keys(e).length&&(t={name:e.name,message:e.message}),i(p,t)}),t}).then(function(e){u.operations[p]=e}).catch(function(e){e.errors?r(p,"data",{errors:e.errors}):i(p,{message:e.message}),c(p)});break;default:i(p,{message:"Invalid message type!"})}}}({schema:e.schema,context:e.context})(t)},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(35),n(117),n(128),n(3),n(11))},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return l}),t.d=p;var r=n(36),i=n(51),o=function(e,t){return t?t(e):r.a.of()},a=function(e){return"function"==typeof e?new l(e):e},u=function(){return new l(function(e,t){return r.a.of()})},s=function(e){return 0===e.length?u():e.map(a).reduce(function(e,t){return e.concat(t)})},c=function(e,t,n){void 0===n&&(n=new l(o));var u=a(t),s=a(n);return Object(i.e)(u)&&Object(i.e)(s)?new l(function(t){return e(t)?u.request(t)||r.a.of():s.request(t)||r.a.of()}):new l(function(t,n){return e(t)?u.request(t,n)||r.a.of():s.request(t,n)||r.a.of()})},f=function(e,t){var n=a(e);if(Object(i.e)(n))return console.warn(new i.a("You are calling concat on a terminating link, which will have no effect",n)),n;var o=a(t);return Object(i.e)(o)?new l(function(e){return n.request(e,function(e){return o.request(e)||r.a.of()})||r.a.of()}):new l(function(e,t){return n.request(e,function(e){return o.request(e,t)||r.a.of()})||r.a.of()})},l=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,n,r){return void 0===r&&(r=new e(o)),this.concat(c(t,n,r))},e.prototype.concat=function(e){return f(this,e)},e.prototype.request=function(e,t){throw new Error("request is not implemented")},e.empty=u,e.from=s,e.split=c,e.execute=p,e}();function p(e,t){return e.request(Object(i.b)(t.context,Object(i.h)(Object(i.i)(t))))||r.a.of()}},function(e,t,n){e.exports=n(107).Observable},function(e,t,n){"use strict";(function(e){!function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function i(e){setTimeout(function(){throw e})}function o(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:p}function u(e,t){Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)})}function s(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){i(e)}}}function c(e){return void 0===e._observer}function f(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=o(e,"start");n&&n.call(e,this)}catch(e){i(e)}if(!c(this)){e=new l(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)a=r,r=function(){a.unsubscribe()};else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}var a;c(this)&&s(this)}}function l(e){this._subscription=e}function p(e){if(!(this instanceof p))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),u(f.prototype={},{get closed(){return c(this)},unsubscribe:function(){c(this)||(this._observer=void 0,s(this))}}),u(l.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=o(n,"next");r&&r.call(n,e)}catch(e){i(e)}}},error:function(e){var t=this._subscription;if(c(t))i(e);else{var n=t._observer;t._observer=void 0;try{var r=o(n,"error");if(!r)throw e;r.call(n,e)}catch(e){i(e)}s(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=o(t,"complete");n&&n.call(t)}catch(e){i(e)}s(e)}}}),u(p.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new f(e,this._subscriber)},forEach:function(e){var t=this;return new Promise(function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})})},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))(function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})})},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))(function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})})},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,i=!1,o=arguments[1];return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t}},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})})}}),Object.defineProperty(p.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),u(p,{from:function(e){var t="function"==typeof this?this:p;if(null==e)throw new TypeError(e+" is not an object");var i=o(e,r("observable"));if(i){var a=i.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return a.constructor===t?a:new t(function(e){return a.subscribe(e)})}if(n("iterator")&&(i=o(e,r("iterator"))))return new t(function(t){for(var n,r=i.call(e)[Symbol.iterator]();!(n=r.next()).done;)if(t.next(n.value),t.closed)return;t.complete()});if(Array.isArray(e))return new t(function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()});throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:p)(function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()})}}),Object.defineProperty(p,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(p,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){i=e}}}),e.Observable=p}(t)}).call(t,n(108)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n(110),n(111);var r=n(52);n.d(t,"a",function(){return r.e}),n(112),n(37),n(53),n(54),n(38),n(113),n(114),n(115),n(116)},function(e,t,n){"use strict";n(37),new Map},function(e,t,n){"use strict";this&&this.__assign||Object},function(e,t,n){"use strict";n(54),n(52),new Map,new Map},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(38)},function(e,t,n){"use strict";n(38),Object.create({})},function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof e?e:"undefined"!=typeof window?window:{},o=i.WebSocket||i.MozWebSocket,a=n(118),u=n(119),s=n(120),c=n(121),f=n(7),l=n(56),p=n(122),d=n(125),h=n(126),y=n(127);t.SubscriptionClient=function(){function e(e,t,n){var r=t||{},i=r.connectionCallback,s=void 0===i?void 0:i,c=r.connectionParams,f=void 0===c?{}:c,l=r.timeout,p=void 0===l?h.WS_TIMEOUT:l,d=r.reconnect,y=void 0!==d&&d,v=r.reconnectionAttempts,m=void 0===v?1/0:v,_=r.lazy,b=void 0!==_&&_;if(this.wsImpl=n||o,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.connectionParams=f,this.connectionCallback=s,this.url=e,this.operations={},this.nextOperationId=0,this.wsTimeout=p,this.unsentMessagesQueue=[],this.reconnect=y,this.reconnecting=!1,this.reconnectionAttempts=m,this.lazy=!!b,this.closedByUser=!1,this.backoff=new a({jitter:.5}),this.eventEmitter=new u.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,y.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,n,r=this.getObserver.bind(this),i=this.executeOperation.bind(this),o=this.unsubscribe.bind(this);return(n={})[p.default]=function(){return this},n.subscribe=function(n,a,u){var s=r(n,a,u);return t=i(e,function(e,t){null===e&&null===t?s.complete&&s.complete():e?s.error&&s.error(e[0]):s.next&&s.next(t)}),{unsubscribe:function(){t&&(o(t),t=null)}}},n},e.prototype.on=function(e,t,n){var r=this.eventEmitter.on(e,t,n);return function(){r.off(e,t,n)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach(function(t){e.unsubscribe(t)})},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise(function(n,r){var i,o,a;i=t.middlewares.slice(),o=t,(a=function(t){if(t)r(t);else if(i.length>0){var u=i.shift();u&&u.applyMiddleware.apply(o,[e,a])}else n(e)})()})},e.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)}),this},e.prototype.executeOperation=function(e,t){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:e,handler:t},this.applyMiddlewares(e).then(function(e){n.checkOperationOptions(e,t),n.operations[r]&&(n.operations[r]={options:e,handler:t},n.sendMessage(r,y.default.GQL_START,e))}).catch(function(e){n.unsubscribe(r),t(n.formatErrors(e))}),r},e.prototype.getObserver=function(e,t,n){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return n&&n()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){return new a({min:1e3,max:this.wsTimeout,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.checkOperationOptions=function(e,t){var n=e.query,r=e.variables,i=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!s(n)&&!l.getOperationAST(n,i)||i&&!s(i)||r&&!c(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,n){return{id:e,type:t,payload:n&&n.query?r({},n,{query:"string"==typeof n.query?n.query:f.print(n.query)}):n}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){throw new Error("Message must be JSON-serializable. Got: "+e)}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:if(!this.reconnecting)throw new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(t){e.unsentMessagesQueue.push(e.buildMessage(t,y.default.GQL_START,e.operations[t].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){e.connect()},t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach(function(t){e.sendMessageRaw(t)}),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&e.close(!1,!0)},this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e=this;this.client=new this.wsImpl(this.url,d.GRAPHQL_WS),this.checkMaxConnectTimeout(),this.client.onopen=function(){e.clearMaxConnectTimeout(),e.closedByUser=!1,e.eventEmitter.emit(e.reconnecting?"reconnecting":"connecting");var t="function"==typeof e.connectionParams?e.connectionParams():e.connectionParams;e.sendMessage(void 0,y.default.GQL_CONNECTION_INIT,t),e.flushUnsentMessagesQueue()},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(){},this.client.onmessage=function(t){e.processReceivedData(t.data)}},e.prototype.processReceivedData=function(e){var t,n;try{n=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[y.default.GQL_DATA,y.default.GQL_COMPLETE,y.default.GQL_ERROR].indexOf(t.type)||this.operations[n])switch(t.type){case y.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case y.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case y.default.GQL_COMPLETE:this.operations[n].handler(null,null),delete this.operations[n];break;case y.default.GQL_ERROR:this.operations[n].handler(this.formatErrors(t.payload),null),delete this.operations[n];break;case y.default.GQL_DATA:var i=t.payload.errors?r({},t.payload,{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[n].handler(null,i);break;case y.default.GQL_CONNECTION_KEEP_ALIVE:var o="undefined"==typeof this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,o&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(n)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.sendMessage(e,y.default.GQL_STOP,void 0))},e}()}).call(t,n(18))},function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="function"!=typeof Object.create&&"~";function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){}a.prototype._events=void 0,a.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(e,t){var n=this._events&&this._events[i?i+e:e];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},a.prototype.emit=function(e,t,n,r,o,a){var u=i?i+e:e;if(!this._events||!this._events[u])return!1;var s,c,f=this._events[u],l=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,o),!0;case 6:return f.fn.call(f.context,t,n,r,o,a),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];f.fn.apply(f.context,s)}else{var p,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;default:if(!s)for(p=1,s=new Array(l-1);p<l;p++)s[p-1]=arguments[p];f[c].fn.apply(f[c].context,s)}}return!0},a.prototype.on=function(e,t,n){var r=new o(t,n||this),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},a.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),a=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},a.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events||!this._events[o])return this;var a=this._events[o],u=[];if(t)if(a.fn)(a.fn!==t||r&&!a.once||n&&a.context!==n)&&u.push(a);else for(var s=0,c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);return u.length?this._events[o]=1===u.length?u[0]:u:delete this._events[o],this},a.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[i?i+e:e]:this._events=i?{}:Object.create(null),this):this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,e.exports=a},function(e,t){var n=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==n.call(e)}},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e,r){var i,o=n(124);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var a=Object(o.a)(i);t.default=a}).call(t,n(18),n(123)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.a=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GRAPHQL_WS="graphql-ws",t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WS_TIMEOUT=3e4},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}()},function(e,t,n){"use strict";var r="undefined"!=typeof Promise?Promise:n(129),i=0;function o(e,t){var n=function(e){try{return JSON.parse(e)}catch(e){return!1}}(t.data);if(n){var r=n[0],i=n[1],o=n[2],a=e._callbacks[r];a&&(delete e._callbacks[r],a(i,o))}}function a(e){var t=this;t._worker=e,t._callbacks={},e.addEventListener("message",function(e){o(t,e)})}a.prototype.postMessage=function(e){var t=this,n=i++,a=[n,e];return new r(function(e,r){t._callbacks[n]=function(t,n){if(t)return r(new Error(t.message));e(n)};var i=JSON.stringify(a);if("undefined"!=typeof t._worker.controller){var u=new MessageChannel;u.port1.onmessage=function(e){o(t,e)},t._worker.controller.postMessage(i,[u.port2])}else t._worker.postMessage(i)})},e.exports=a},function(e,t,n){"use strict";var r=n(130);function i(){}var o={},a=["REJECTED"],u=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function f(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=h(function(){t(i,r)});"error"===a.status&&r(a.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===u||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==s?l(n,this.state===u?e:t,this.outcome):this.queue.push(new f(n,e,t)),n},f.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},f.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},f.prototype.callRejected=function(e){o.reject(this.promise,e)},f.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=h(p,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=u,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),u=0,s=-1,c=new this(i);++s<n;)f(e[s],s);return c;function f(e,i){t.resolve(e).then(function(e){a[i]=e,++u!==n||r||(r=!0,o.resolve(c,a))},function(e){r||(r=!0,o.reject(c,e))})}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r=-1,a=new this(i);++r<t;)this.resolve(e[r]).then(function(e){n||(n=!0,o.resolve(a,e))},function(e){n||(n=!0,o.reject(a,e))});return a}},function(e,t,n){"use strict";(function(t){var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(f),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),n=function(){u.data=o=++o%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var s=new t.MessageChannel;s.port1.onmessage=f,n=function(){s.port2.postMessage(0)}}var c=[];function f(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}e.exports=function(e){1!==c.push(e)||r||n()}}).call(t,n(18))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphql=function(e,t,n,r,i,o,a){var s=arguments;return new Promise(function(c){return c(1===s.length?u(e.schema,e.source,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):u(e,t,n,r,i,o,a))})},t.graphqlSync=function(e,t,n,r,i,o,a){var s=1===arguments.length?u(e.schema,e.source,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):u(e,t,n,r,i,o,a);if(s.then)throw new Error("GraphQL execution failed to complete synchronously.");return s};var r=n(25),i=n(22),o=n(63),a=n(29);function u(e,t,n,u,s,c,f){var l=(0,r.validateSchema)(e);if(l.length>0)return{errors:l};var p=void 0;try{p=(0,i.parse)(t)}catch(e){return{errors:[e]}}var d=(0,o.validate)(e,p);return d.length>0?{errors:d}:(0,a.execute)(e,p,n,u,s,c,f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=function(e,t,n){return new r.GraphQLError("Syntax Error: "+n,void 0,e,[t])};var r=n(15)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.formatError=function(e){return e||(0,o.default)(0,"Received null or undefined error."),r({},e.extensions,{message:e.message||"An unknown error occurred.",locations:e.locations,path:e.path})};var i,o=(i=n(5))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonExecutableDefinitionMessage=o,t.ExecutableDefinitions=function(e){return{Document:function(t){return t.definitions.forEach(function(t){t.kind!==i.Kind.OPERATION_DEFINITION&&t.kind!==i.Kind.FRAGMENT_DEFINITION&&e.reportError(new r.GraphQLError(o(t.kind===i.Kind.SCHEMA_DEFINITION?"schema":t.name.value),[t]))}),!1}}};var r=n(0),i=n(2);function o(e){return"The "+e+" definition is not executable."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0;return function(n,r,i){t||(t=new WeakMap);var o=t.get(n),a=void 0;if(o){if(a=o.get(r)){var u=a.get(i);if(void 0!==u)return u}}else o=new WeakMap,t.set(n,o);a||(a=new WeakMap,o.set(r,a));var s=e.apply(this,arguments);return a.set(i,s),s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.keys(e),n=t.map(function(t){return e[t]});return Promise.all(n).then(function(e){return e.reduce(function(e,n,r){return e[t[r]]=n,e},Object.create(null))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.reduce(function(e,n){return(0,i.default)(e)?e.then(function(e){return t(e,n)}):t(e,n)},n)};var r,i=(r=n(90))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);Object.defineProperty(t,"isSchema",{enumerable:!0,get:function(){return r.isSchema}}),Object.defineProperty(t,"GraphQLSchema",{enumerable:!0,get:function(){return r.GraphQLSchema}});var i=n(1);Object.defineProperty(t,"isType",{enumerable:!0,get:function(){return i.isType}}),Object.defineProperty(t,"isScalarType",{enumerable:!0,get:function(){return i.isScalarType}}),Object.defineProperty(t,"isObjectType",{enumerable:!0,get:function(){return i.isObjectType}}),Object.defineProperty(t,"isInterfaceType",{enumerable:!0,get:function(){return i.isInterfaceType}}),Object.defineProperty(t,"isUnionType",{enumerable:!0,get:function(){return i.isUnionType}}),Object.defineProperty(t,"isEnumType",{enumerable:!0,get:function(){return i.isEnumType}}),Object.defineProperty(t,"isInputObjectType",{enumerable:!0,get:function(){return i.isInputObjectType}}),Object.defineProperty(t,"isListType",{enumerable:!0,get:function(){return i.isListType}}),Object.defineProperty(t,"isNonNullType",{enumerable:!0,get:function(){return i.isNonNullType}}),Object.defineProperty(t,"isInputType",{enumerable:!0,get:function(){return i.isInputType}}),Object.defineProperty(t,"isOutputType",{enumerable:!0,get:function(){return i.isOutputType}}),Object.defineProperty(t,"isLeafType",{enumerable:!0,get:function(){return i.isLeafType}}),Object.defineProperty(t,"isCompositeType",{enumerable:!0,get:function(){return i.isCompositeType}}),Object.defineProperty(t,"isAbstractType",{enumerable:!0,get:function(){return i.isAbstractType}}),Object.defineProperty(t,"isWrappingType",{enumerable:!0,get:function(){return i.isWrappingType}}),Object.defineProperty(t,"isNullableType",{enumerable:!0,get:function(){return i.isNullableType}}),Object.defineProperty(t,"isNamedType",{enumerable:!0,get:function(){return i.isNamedType}}),Object.defineProperty(t,"assertType",{enumerable:!0,get:function(){return i.assertType}}),Object.defineProperty(t,"assertScalarType",{enumerable:!0,get:function(){return i.assertScalarType}}),Object.defineProperty(t,"assertObjectType",{enumerable:!0,get:function(){return i.assertObjectType}}),Object.defineProperty(t,"assertInterfaceType",{enumerable:!0,get:function(){return i.assertInterfaceType}}),Object.defineProperty(t,"assertUnionType",{enumerable:!0,get:function(){return i.assertUnionType}}),Object.defineProperty(t,"assertEnumType",{enumerable:!0,get:function(){return i.assertEnumType}}),Object.defineProperty(t,"assertInputObjectType",{enumerable:!0,get:function(){return i.assertInputObjectType}}),Object.defineProperty(t,"assertListType",{enumerable:!0,get:function(){return i.assertListType}}),Object.defineProperty(t,"assertNonNullType",{enumerable:!0,get:function(){return i.assertNonNullType}}),Object.defineProperty(t,"assertInputType",{enumerable:!0,get:function(){return i.assertInputType}}),Object.defineProperty(t,"assertOutputType",{enumerable:!0,get:function(){return i.assertOutputType}}),Object.defineProperty(t,"assertLeafType",{enumerable:!0,get:function(){return i.assertLeafType}}),Object.defineProperty(t,"assertCompositeType",{enumerable:!0,get:function(){return i.assertCompositeType}}),Object.defineProperty(t,"assertAbstractType",{enumerable:!0,get:function(){return i.assertAbstractType}}),Object.defineProperty(t,"assertWrappingType",{enumerable:!0,get:function(){return i.assertWrappingType}}),Object.defineProperty(t,"assertNullableType",{enumerable:!0,get:function(){return i.assertNullableType}}),Object.defineProperty(t,"assertNamedType",{enumerable:!0,get:function(){return i.assertNamedType}}),Object.defineProperty(t,"getNullableType",{enumerable:!0,get:function(){return i.getNullableType}}),Object.defineProperty(t,"getNamedType",{enumerable:!0,get:function(){return i.getNamedType}}),Object.defineProperty(t,"GraphQLScalarType",{enumerable:!0,get:function(){return i.GraphQLScalarType}}),Object.defineProperty(t,"GraphQLObjectType",{enumerable:!0,get:function(){return i.GraphQLObjectType}}),Object.defineProperty(t,"GraphQLInterfaceType",{enumerable:!0,get:function(){return i.GraphQLInterfaceType}}),Object.defineProperty(t,"GraphQLUnionType",{enumerable:!0,get:function(){return i.GraphQLUnionType}}),Object.defineProperty(t,"GraphQLEnumType",{enumerable:!0,get:function(){return i.GraphQLEnumType}}),Object.defineProperty(t,"GraphQLInputObjectType",{enumerable:!0,get:function(){return i.GraphQLInputObjectType}}),Object.defineProperty(t,"GraphQLList",{enumerable:!0,get:function(){return i.GraphQLList}}),Object.defineProperty(t,"GraphQLNonNull",{enumerable:!0,get:function(){return i.GraphQLNonNull}});var o=n(9);Object.defineProperty(t,"isDirective",{enumerable:!0,get:function(){return o.isDirective}}),Object.defineProperty(t,"GraphQLDirective",{enumerable:!0,get:function(){return o.GraphQLDirective}}),Object.defineProperty(t,"isSpecifiedDirective",{enumerable:!0,get:function(){return o.isSpecifiedDirective}}),Object.defineProperty(t,"specifiedDirectives",{enumerable:!0,get:function(){return o.specifiedDirectives}}),Object.defineProperty(t,"GraphQLIncludeDirective",{enumerable:!0,get:function(){return o.GraphQLIncludeDirective}}),Object.defineProperty(t,"GraphQLSkipDirective",{enumerable:!0,get:function(){return o.GraphQLSkipDirective}}),Object.defineProperty(t,"GraphQLDeprecatedDirective",{enumerable:!0,get:function(){return o.GraphQLDeprecatedDirective}}),Object.defineProperty(t,"DEFAULT_DEPRECATION_REASON",{enumerable:!0,get:function(){return o.DEFAULT_DEPRECATION_REASON}});var a=n(13);Object.defineProperty(t,"isSpecifiedScalarType",{enumerable:!0,get:function(){return a.isSpecifiedScalarType}}),Object.defineProperty(t,"specifiedScalarTypes",{enumerable:!0,get:function(){return a.specifiedScalarTypes}}),Object.defineProperty(t,"GraphQLInt",{enumerable:!0,get:function(){return a.GraphQLInt}}),Object.defineProperty(t,"GraphQLFloat",{enumerable:!0,get:function(){return a.GraphQLFloat}}),Object.defineProperty(t,"GraphQLString",{enumerable:!0,get:function(){return a.GraphQLString}}),Object.defineProperty(t,"GraphQLBoolean",{enumerable:!0,get:function(){return a.GraphQLBoolean}}),Object.defineProperty(t,"GraphQLID",{enumerable:!0,get:function(){return a.GraphQLID}});var u=n(10);Object.defineProperty(t,"TypeKind",{enumerable:!0,get:function(){return u.TypeKind}}),Object.defineProperty(t,"isIntrospectionType",{enumerable:!0,get:function(){return u.isIntrospectionType}}),Object.defineProperty(t,"introspectionTypes",{enumerable:!0,get:function(){return u.introspectionTypes}}),Object.defineProperty(t,"__Schema",{enumerable:!0,get:function(){return u.__Schema}}),Object.defineProperty(t,"__Directive",{enumerable:!0,get:function(){return u.__Directive}}),Object.defineProperty(t,"__DirectiveLocation",{enumerable:!0,get:function(){return u.__DirectiveLocation}}),Object.defineProperty(t,"__Type",{enumerable:!0,get:function(){return u.__Type}}),Object.defineProperty(t,"__Field",{enumerable:!0,get:function(){return u.__Field}}),Object.defineProperty(t,"__InputValue",{enumerable:!0,get:function(){return u.__InputValue}}),Object.defineProperty(t,"__EnumValue",{enumerable:!0,get:function(){return u.__EnumValue}}),Object.defineProperty(t,"__TypeKind",{enumerable:!0,get:function(){return u.__TypeKind}}),Object.defineProperty(t,"SchemaMetaFieldDef",{enumerable:!0,get:function(){return u.SchemaMetaFieldDef}}),Object.defineProperty(t,"TypeMetaFieldDef",{enumerable:!0,get:function(){return u.TypeMetaFieldDef}}),Object.defineProperty(t,"TypeNameMetaFieldDef",{enumerable:!0,get:function(){return u.TypeNameMetaFieldDef}});var s=n(25);Object.defineProperty(t,"validateSchema",{enumerable:!0,get:function(){return s.validateSchema}}),Object.defineProperty(t,"assertValidSchema",{enumerable:!0,get:function(){return s.assertValidSchema}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41);Object.defineProperty(t,"getLocation",{enumerable:!0,get:function(){return r.getLocation}});var i=n(2);Object.defineProperty(t,"Kind",{enumerable:!0,get:function(){return i.Kind}});var o=n(42);Object.defineProperty(t,"createLexer",{enumerable:!0,get:function(){return o.createLexer}}),Object.defineProperty(t,"TokenKind",{enumerable:!0,get:function(){return o.TokenKind}});var a=n(22);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(t,"parseValue",{enumerable:!0,get:function(){return a.parseValue}}),Object.defineProperty(t,"parseType",{enumerable:!0,get:function(){return a.parseType}});var u=n(7);Object.defineProperty(t,"print",{enumerable:!0,get:function(){return u.print}});var s=n(60);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return s.Source}});var c=n(17);Object.defineProperty(t,"visit",{enumerable:!0,get:function(){return c.visit}}),Object.defineProperty(t,"visitInParallel",{enumerable:!0,get:function(){return c.visitInParallel}}),Object.defineProperty(t,"visitWithTypeInfo",{enumerable:!0,get:function(){return c.visitWithTypeInfo}}),Object.defineProperty(t,"getVisitFn",{enumerable:!0,get:function(){return c.getVisitFn}}),Object.defineProperty(t,"BREAK",{enumerable:!0,get:function(){return c.BREAK}});var f=n(20);Object.defineProperty(t,"DirectiveLocation",{enumerable:!0,get:function(){return f.DirectiveLocation}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);Object.defineProperty(t,"execute",{enumerable:!0,get:function(){return r.execute}}),Object.defineProperty(t,"defaultFieldResolver",{enumerable:!0,get:function(){return r.defaultFieldResolver}}),Object.defineProperty(t,"responsePathAsArray",{enumerable:!0,get:function(){return r.responsePathAsArray}});var i=n(30);Object.defineProperty(t,"getDirectiveValues",{enumerable:!0,get:function(){return i.getDirectiveValues}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142);Object.defineProperty(t,"subscribe",{enumerable:!0,get:function(){return r.subscribe}}),Object.defineProperty(t,"createSourceEventStream",{enumerable:!0,get:function(){return r.createSourceEventStream}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=function(e,t,n,r,i,o,a,u){return 1===arguments.length?f(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver,e.subscribeFieldResolver):f(e,t,n,r,i,o,a,u)},t.createSourceEventStream=l;var r,i=n(11),o=n(15),a=n(61),u=n(29),s=(n(4),(r=n(143))&&r.__esModule?r:{default:r});function c(e){if(e instanceof o.GraphQLError)return{errors:[e]};throw e}function f(e,t,n,r,o,a,f,p){var d=function(n){return(0,u.execute)(e,t,n,r,o,a,f)};return l(e,t,n,r,o,a,p).then(function(e){return(0,i.isAsyncIterable)(e)?(0,s.default)(e,d,c):e},c)}function l(e,t,n,r,s,c,f){(0,u.assertValidExecutionArguments)(e,t,s);try{var l=(0,u.buildExecutionContext)(e,t,n,r,s,c,f);if(Array.isArray(l))return Promise.resolve({errors:l});var p=(0,u.getOperationRootType)(e,l.operation),d=(0,u.collectFields)(l,p,l.operation.selectionSet,Object.create(null),Object.create(null)),h=Object.keys(d)[0],y=d[h],v=y[0].name.value,m=(0,u.getFieldDef)(e,p,v);if(!m)throw new o.GraphQLError('The subscription field "'+v+'" is not defined.',y);var _=m.subscribe||l.fieldResolver,b=(0,u.addPath)(void 0,h),g=(0,u.buildResolveInfo)(l,m,y,p,b),T=(0,u.resolveFieldValueOrError)(l,m,y,_,n,g);return Promise.resolve(T).then(function(e){if(e instanceof Error)throw(0,a.locatedError)(e,y,(0,u.responsePathAsArray)(b));if((0,i.isAsyncIterable)(e))return e;throw new Error("Subscription field must return Async Iterable. Received: "+String(e))})}catch(e){return Promise.reject(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=(0,r.getAsyncIterator)(e),u=void 0,s=void 0;function c(e){return e.done?e:i(e.value,t).then(o,s)}"function"==typeof a.return&&(u=a.return,s=function(e){var t=function(){return Promise.reject(e)};return u.call(a).then(t,t)});var f,l,p,d=void 0;if(n){var h=n;d=function(e){return i(e,h).then(o,s)}}return p=function(){return this},(l=r.$$asyncIterator)in(f={next:function(){return a.next().then(c,d)},return:function(){return u?u.call(a).then(c,d):Promise.resolve({value:void 0,done:!0})},throw:function(e){return"function"==typeof a.throw?a.throw(e).then(c,d):Promise.reject(e).catch(s)}})?Object.defineProperty(f,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[l]=p,f};var r=n(11);function i(e,t){return new Promise(function(n){return n(t(e))})}function o(e){return{value:e,done:!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesInAllowedPositionRule=t.VariablesDefaultValueAllowedRule=t.VariablesAreInputTypesRule=t.ValuesOfCorrectTypeRule=t.UniqueVariableNamesRule=t.UniqueOperationNamesRule=t.UniqueInputFieldNamesRule=t.UniqueFragmentNamesRule=t.UniqueDirectivesPerLocationRule=t.UniqueArgumentNamesRule=t.SingleFieldSubscriptionsRule=t.ScalarLeafsRule=t.ProvidedNonNullArgumentsRule=t.PossibleFragmentSpreadsRule=t.OverlappingFieldsCanBeMergedRule=t.NoUnusedVariablesRule=t.NoUnusedFragmentsRule=t.NoUndefinedVariablesRule=t.NoFragmentCyclesRule=t.LoneAnonymousOperationRule=t.KnownTypeNamesRule=t.KnownFragmentNamesRule=t.KnownDirectivesRule=t.KnownArgumentNamesRule=t.FragmentsOnCompositeTypesRule=t.FieldsOnCorrectTypeRule=t.specifiedRules=t.ValidationContext=t.validate=void 0;var r=n(63);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return r.validate}});var i=n(64);Object.defineProperty(t,"specifiedRules",{enumerable:!0,get:function(){return i.specifiedRules}});var o=n(72);Object.defineProperty(t,"FieldsOnCorrectTypeRule",{enumerable:!0,get:function(){return o.FieldsOnCorrectType}});var a=n(69);Object.defineProperty(t,"FragmentsOnCompositeTypesRule",{enumerable:!0,get:function(){return a.FragmentsOnCompositeTypes}});var u=n(83);Object.defineProperty(t,"KnownArgumentNamesRule",{enumerable:!0,get:function(){return u.KnownArgumentNames}});var s=n(81);Object.defineProperty(t,"KnownDirectivesRule",{enumerable:!0,get:function(){return s.KnownDirectives}});var c=n(74);Object.defineProperty(t,"KnownFragmentNamesRule",{enumerable:!0,get:function(){return c.KnownFragmentNames}});var f=n(68);Object.defineProperty(t,"KnownTypeNamesRule",{enumerable:!0,get:function(){return f.KnownTypeNames}});var l=n(66);Object.defineProperty(t,"LoneAnonymousOperationRule",{enumerable:!0,get:function(){return l.LoneAnonymousOperation}});var p=n(77);Object.defineProperty(t,"NoFragmentCyclesRule",{enumerable:!0,get:function(){return p.NoFragmentCycles}});var d=n(79);Object.defineProperty(t,"NoUndefinedVariablesRule",{enumerable:!0,get:function(){return d.NoUndefinedVariables}});var h=n(75);Object.defineProperty(t,"NoUnusedFragmentsRule",{enumerable:!0,get:function(){return h.NoUnusedFragments}});var y=n(80);Object.defineProperty(t,"NoUnusedVariablesRule",{enumerable:!0,get:function(){return y.NoUnusedVariables}});var v=n(88);Object.defineProperty(t,"OverlappingFieldsCanBeMergedRule",{enumerable:!0,get:function(){return v.OverlappingFieldsCanBeMerged}});var m=n(76);Object.defineProperty(t,"PossibleFragmentSpreadsRule",{enumerable:!0,get:function(){return m.PossibleFragmentSpreads}});var _=n(85);Object.defineProperty(t,"ProvidedNonNullArgumentsRule",{enumerable:!0,get:function(){return _.ProvidedNonNullArguments}});var b=n(71);Object.defineProperty(t,"ScalarLeafsRule",{enumerable:!0,get:function(){return b.ScalarLeafs}});var g=n(67);Object.defineProperty(t,"SingleFieldSubscriptionsRule",{enumerable:!0,get:function(){return g.SingleFieldSubscriptions}});var T=n(84);Object.defineProperty(t,"UniqueArgumentNamesRule",{enumerable:!0,get:function(){return T.UniqueArgumentNames}});var E=n(82);Object.defineProperty(t,"UniqueDirectivesPerLocationRule",{enumerable:!0,get:function(){return E.UniqueDirectivesPerLocation}});var O=n(73);Object.defineProperty(t,"UniqueFragmentNamesRule",{enumerable:!0,get:function(){return O.UniqueFragmentNames}});var N=n(89);Object.defineProperty(t,"UniqueInputFieldNamesRule",{enumerable:!0,get:function(){return N.UniqueInputFieldNames}});var I=n(65);Object.defineProperty(t,"UniqueOperationNamesRule",{enumerable:!0,get:function(){return I.UniqueOperationNames}});var w=n(78);Object.defineProperty(t,"UniqueVariableNamesRule",{enumerable:!0,get:function(){return w.UniqueVariableNames}});var L=n(45);Object.defineProperty(t,"ValuesOfCorrectTypeRule",{enumerable:!0,get:function(){return L.ValuesOfCorrectType}});var S=n(70);Object.defineProperty(t,"VariablesAreInputTypesRule",{enumerable:!0,get:function(){return S.VariablesAreInputTypes}});var k=n(86);Object.defineProperty(t,"VariablesDefaultValueAllowedRule",{enumerable:!0,get:function(){return k.VariablesDefaultValueAllowed}});var A=n(87);Object.defineProperty(t,"VariablesInAllowedPositionRule",{enumerable:!0,get:function(){return A.VariablesInAllowedPosition}});var j,D=(j=n(46))&&j.__esModule?j:{default:j};t.ValidationContext=D.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(91);Object.defineProperty(t,"getIntrospectionQuery",{enumerable:!0,get:function(){return r.getIntrospectionQuery}}),Object.defineProperty(t,"introspectionQuery",{enumerable:!0,get:function(){return r.introspectionQuery}});var i=n(56);Object.defineProperty(t,"getOperationAST",{enumerable:!0,get:function(){return i.getOperationAST}});var o=n(146);Object.defineProperty(t,"introspectionFromSchema",{enumerable:!0,get:function(){return o.introspectionFromSchema}});var a=n(147);Object.defineProperty(t,"buildClientSchema",{enumerable:!0,get:function(){return a.buildClientSchema}});var u=n(92);Object.defineProperty(t,"buildASTSchema",{enumerable:!0,get:function(){return u.buildASTSchema}}),Object.defineProperty(t,"buildSchema",{enumerable:!0,get:function(){return u.buildSchema}}),Object.defineProperty(t,"getDescription",{enumerable:!0,get:function(){return u.getDescription}});var s=n(148);Object.defineProperty(t,"extendSchema",{enumerable:!0,get:function(){return s.extendSchema}});var c=n(149);Object.defineProperty(t,"lexicographicSortSchema",{enumerable:!0,get:function(){return c.lexicographicSortSchema}});var f=n(150);Object.defineProperty(t,"printSchema",{enumerable:!0,get:function(){return f.printSchema}}),Object.defineProperty(t,"printType",{enumerable:!0,get:function(){return f.printType}}),Object.defineProperty(t,"printIntrospectionSchema",{enumerable:!0,get:function(){return f.printIntrospectionSchema}});var l=n(12);Object.defineProperty(t,"typeFromAST",{enumerable:!0,get:function(){return l.typeFromAST}});var p=n(31);Object.defineProperty(t,"valueFromAST",{enumerable:!0,get:function(){return p.valueFromAST}});var d=n(57);Object.defineProperty(t,"valueFromASTUntyped",{enumerable:!0,get:function(){return d.valueFromASTUntyped}});var h=n(40);Object.defineProperty(t,"astFromValue",{enumerable:!0,get:function(){return h.astFromValue}});var y=n(23);Object.defineProperty(t,"TypeInfo",{enumerable:!0,get:function(){return y.TypeInfo}});var v=n(47);Object.defineProperty(t,"coerceValue",{enumerable:!0,get:function(){return v.coerceValue}});var m=n(151);Object.defineProperty(t,"isValidJSValue",{enumerable:!0,get:function(){return m.isValidJSValue}});var _=n(152);Object.defineProperty(t,"isValidLiteralValue",{enumerable:!0,get:function(){return _.isValidLiteralValue}});var b=n(153);Object.defineProperty(t,"concatAST",{enumerable:!0,get:function(){return b.concatAST}});var g=n(154);Object.defineProperty(t,"separateOperations",{enumerable:!0,get:function(){return g.separateOperations}});var T=n(28);Object.defineProperty(t,"isEqualType",{enumerable:!0,get:function(){return T.isEqualType}}),Object.defineProperty(t,"isTypeSubTypeOf",{enumerable:!0,get:function(){return T.isTypeSubTypeOf}}),Object.defineProperty(t,"doTypesOverlap",{enumerable:!0,get:function(){return T.doTypesOverlap}});var E=n(59);Object.defineProperty(t,"assertValidName",{enumerable:!0,get:function(){return E.assertValidName}}),Object.defineProperty(t,"isValidNameError",{enumerable:!0,get:function(){return E.isValidNameError}});var O=n(155);Object.defineProperty(t,"BreakingChangeType",{enumerable:!0,get:function(){return O.BreakingChangeType}}),Object.defineProperty(t,"DangerousChangeType",{enumerable:!0,get:function(){return O.DangerousChangeType}}),Object.defineProperty(t,"findBreakingChanges",{enumerable:!0,get:function(){return O.findBreakingChanges}}),Object.defineProperty(t,"findDangerousChanges",{enumerable:!0,get:function(){return O.findDangerousChanges}});var N=n(156);Object.defineProperty(t,"findDeprecatedUsages",{enumerable:!0,get:function(){return N.findDeprecatedUsages}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.introspectionFromSchema=function(e,t){var n=(0,u.parse)((0,o.getIntrospectionQuery)(t)),r=(0,a.execute)(e,n);return(r.then||r.errors||!r.data)&&(0,i.default)(0),r.data};var r,i=(r=n(5))&&r.__esModule?r:{default:r},o=n(91),a=(n(4),n(29)),u=n(22)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildClientSchema=function(e,t){var n=e.__schema,h=(0,i.default)(n.types,function(e){return e.name}),y=(0,i.default)(d.specifiedScalarTypes.concat(p.introspectionTypes),function(e){return e.name});function v(e){if(e.kind===p.TypeKind.LIST){var t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return(0,f.GraphQLList)(v(t))}if(e.kind===p.TypeKind.NON_NULL){var n=e.ofType;if(!n)throw new Error("Decorated type deeper than introspection query.");var r=v(n);return(0,f.GraphQLNonNull)((0,f.assertNullableType)(r))}if(!e.name)throw new Error("Unknown type reference: "+JSON.stringify(e));return m(e.name)}function m(e){if(y[e])return y[e];var t=h[e];if(!t)throw new Error("Invalid or incomplete schema, unknown type: "+e+". Ensure that a full introspection query is used in order to build a client schema.");var n=function(e){if(e&&e.name&&e.kind)switch(e.kind){case p.TypeKind.SCALAR:return new f.GraphQLScalarType({name:(n=e).name,description:n.description,serialize:function(e){return e}});case p.TypeKind.OBJECT:return function(e){if(!e.interfaces)throw new Error("Introspection result missing interfaces: "+JSON.stringify(e));return new f.GraphQLObjectType({name:e.name,description:e.description,interfaces:e.interfaces.map(b),fields:function(){return g(e)}})}(e);case p.TypeKind.INTERFACE:return new f.GraphQLInterfaceType({name:(t=e).name,description:t.description,fields:function(){return g(t)}});case p.TypeKind.UNION:return function(e){if(!e.possibleTypes)throw new Error("Introspection result missing possibleTypes: "+JSON.stringify(e));return new f.GraphQLUnionType({name:e.name,description:e.description,types:e.possibleTypes.map(_)})}(e);case p.TypeKind.ENUM:return function(e){if(!e.enumValues)throw new Error("Introspection result missing enumValues: "+JSON.stringify(e));return new f.GraphQLEnumType({name:e.name,description:e.description,values:(0,o.default)(e.enumValues,function(e){return e.name},function(e){return{description:e.description,deprecationReason:e.deprecationReason}})})}(e);case p.TypeKind.INPUT_OBJECT:return function(e){if(!e.inputFields)throw new Error("Introspection result missing inputFields: "+JSON.stringify(e));return new f.GraphQLInputObjectType({name:e.name,description:e.description,fields:function(){return T(e.inputFields)}})}(e)}var t,n;throw new Error("Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema:"+JSON.stringify(e))}(t);return y[e]=n,n}function _(e){var t=v(e);return(0,f.assertObjectType)(t)}function b(e){var t=v(e);return(0,f.assertInterfaceType)(t)}function g(e){if(!e.fields)throw new Error("Introspection result missing fields: "+JSON.stringify(e));return(0,o.default)(e.fields,function(e){return e.name},function(e){if(!e.args)throw new Error("Introspection result missing field args: "+JSON.stringify(e));return{description:e.description,deprecationReason:e.deprecationReason,type:(t=e.type,n=v(t),(0,f.isOutputType)(n)||(0,r.default)(0,"Introspection must provide output type for fields."),n),args:T(e.args)};var t,n})}function T(e){return(0,o.default)(e,function(e){return e.name},E)}function E(e){var t=function(t){var n=v(e.type);return(0,f.isInputType)(n)||(0,r.default)(0,"Introspection must provide input type for arguments."),n}(),n=e.defaultValue?(0,a.valueFromAST)((0,u.parseValue)(e.defaultValue),t):void 0;return{name:e.name,description:e.description,type:t,defaultValue:n}}var O=n.types.map(function(e){return m(e.name)}),N=n.queryType?_(n.queryType):null,I=n.mutationType?_(n.mutationType):null,w=n.subscriptionType?_(n.subscriptionType):null,L=n.directives?n.directives.map(function(e){var t=e.locations?e.locations.slice():[].concat(e.onField?[c.DirectiveLocation.FIELD]:[],e.onOperation?[c.DirectiveLocation.QUERY,c.DirectiveLocation.MUTATION,c.DirectiveLocation.SUBSCRIPTION]:[],e.onFragment?[c.DirectiveLocation.FRAGMENT_DEFINITION,c.DirectiveLocation.FRAGMENT_SPREAD,c.DirectiveLocation.INLINE_FRAGMENT]:[]);if(!e.args)throw new Error("Introspection result missing directive args: "+JSON.stringify(e));return new l.GraphQLDirective({name:e.name,description:e.description,locations:t,args:T(e.args)})}):[];return new s.GraphQLSchema({query:N,mutation:I,subscription:w,types:O,directives:L,assumeValid:t&&t.assumeValid,allowedLegacyNames:t&&t.allowedLegacyNames})};var r=h(n(5)),i=h(n(16)),o=h(n(26)),a=n(31),u=n(22),s=n(4),c=n(20),f=n(1),l=n(9),p=n(10),d=n(13);function h(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSchema=function(e,t,n){(0,s.isSchema)(e)||(0,r.default)(0,"Must provide valid GraphQLSchema"),(!t||t.kind!==l.Kind.DOCUMENT)&&(0,r.default)(0,"Must provide valid Document AST");for(var p=Object.create(null),h=Object.create(null),y=[],v=0;v<t.definitions.length;v++){var m=t.definitions[v];switch(m.kind){case l.Kind.OBJECT_TYPE_DEFINITION:case l.Kind.INTERFACE_TYPE_DEFINITION:case l.Kind.ENUM_TYPE_DEFINITION:case l.Kind.UNION_TYPE_DEFINITION:case l.Kind.SCALAR_TYPE_DEFINITION:case l.Kind.INPUT_OBJECT_TYPE_DEFINITION:var _=m.name.value;if(e.getType(_))throw new u.GraphQLError('Type "'+_+'" already exists in the schema. It cannot also be defined in this type definition.',[m]);p[_]=m;break;case l.Kind.OBJECT_TYPE_EXTENSION:case l.Kind.INTERFACE_TYPE_EXTENSION:var b=m.name.value,g=e.getType(b);if(!g)throw new u.GraphQLError('Cannot extend type "'+b+'" because it does not exist in the existing schema.',[m]);d(g,m);var T=h[b];h[b]=T?T.concat([m]):[m];break;case l.Kind.DIRECTIVE_DEFINITION:var E=m.name.value;if(e.getDirective(E))throw new u.GraphQLError('Directive "'+E+'" already exists in the schema. It cannot be redefined.',[m]);y.push(m);break;case l.Kind.SCALAR_TYPE_EXTENSION:case l.Kind.UNION_TYPE_EXTENSION:case l.Kind.ENUM_TYPE_EXTENSION:case l.Kind.INPUT_OBJECT_TYPE_EXTENSION:throw new Error("The "+m.kind+" kind is not yet supported by extendSchema().")}}if(0===Object.keys(h).length&&0===Object.keys(p).length&&0===y.length)return e;var O,N=new a.ASTDefinitionBuilder(p,n,function(t){var n=t.name.value,r=e.getType(n);if(r)return F(r);throw new u.GraphQLError('Unknown type: "'+n+'". Ensure that this type exists either in the original schema, or is added in a type definition.',[t])}),I=Object.create(null),w=e.getQueryType(),L=w?F(w):null,S=e.getMutationType(),k=S?F(S):null,A=e.getSubscriptionType(),j=A?F(A):null,D=[].concat((0,o.default)(e.getTypeMap()).map(function(e){return F(e)}),N.buildTypes((0,o.default)(p))),P=e.__allowedLegacyNames,x=n&&n.allowedLegacyNames,R=P&&x?P.concat(x):P||x;return new s.GraphQLSchema({query:L,mutation:k,subscription:j,types:D,directives:(O=e.getDirectives(),O||(0,r.default)(0,"schema must have default directives"),O.concat(y.map(function(e){return N.buildDirective(e)}))),astNode:e.astNode,allowedLegacyNames:R});function F(e){return I[e.name]||(I[e.name]=function(e){return(0,c.isIntrospectionType)(e)?e:(0,f.isObjectType)(e)?function(e){var t=e.name,n=h[t]?e.extensionASTNodes?e.extensionASTNodes.concat(h[t]):h[t]:e.extensionASTNodes;return new f.GraphQLObjectType({name:t,description:e.description,interfaces:function(){return function(e){var t=e.getInterfaces().map(F),n=h[e.name];return n&&n.forEach(function(e){e.interfaces.forEach(function(e){t.push(N.buildType(e))})}),t}(e)},fields:function(){return M(e)},astNode:e.astNode,extensionASTNodes:n,isTypeOf:e.isTypeOf})}(e):(0,f.isInterfaceType)(e)?function(e){var t=e.name,n=h[t]?e.extensionASTNodes?e.extensionASTNodes.concat(h[t]):h[t]:e.extensionASTNodes;return new f.GraphQLInterfaceType({name:e.name,description:e.description,fields:function(){return M(e)},astNode:e.astNode,extensionASTNodes:n,resolveType:e.resolveType})}(e):(0,f.isUnionType)(e)?function(e){return new f.GraphQLUnionType({name:e.name,description:e.description,types:e.getTypes().map(F),astNode:e.astNode,resolveType:e.resolveType})}(e):e}(e)),I[e.name]}function M(e){var t=Object.create(null),n=e.getFields();Object.keys(n).forEach(function(e){var r=n[e];t[e]={description:r.description,deprecationReason:r.deprecationReason,type:function e(t){return(0,f.isListType)(t)?(0,f.GraphQLList)(e(t.ofType)):(0,f.isNonNullType)(t)?(0,f.GraphQLNonNull)(e(t.ofType)):F(t)}(r.type),args:(0,i.default)(r.args,function(e){return e.name}),astNode:r.astNode,resolve:r.resolve}});var r=h[e.name];return r&&r.forEach(function(r){r.fields.forEach(function(r){var i=r.name.value;if(n[i])throw new u.GraphQLError('Field "'+e.name+"."+i+'" already exists in the schema. It cannot also be defined in this type extension.',[r]);t[i]=N.buildField(r)})}),t}};var r=p(n(5)),i=p(n(16)),o=p(n(14)),a=n(92),u=n(15),s=n(4),c=n(10),f=n(1),l=(n(9),n(2));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){switch(t.kind){case l.Kind.OBJECT_TYPE_EXTENSION:if(!(0,f.isObjectType)(e))throw new u.GraphQLError('Cannot extend non-object type "'+e.name+'".',[t]);break;case l.Kind.INTERFACE_TYPE_EXTENSION:if(!(0,f.isInterfaceType)(e))throw new u.GraphQLError('Cannot extend non-interface type "'+e.name+'".',[t])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.lexicographicSortSchema=function(e){var t=Object.create(null),n=function(e){return e&&_(e)};return new a.GraphQLSchema({types:m((0,o.default)(e.getTypeMap())),directives:d(e.getDirectives()).map(function(e){return new u.GraphQLDirective({name:e.name,description:e.description,locations:h(e.locations,function(e){return e}),args:l(e.args),astNode:e.astNode})}),query:n(e.getQueryType()),mutation:n(e.getMutationType()),subscription:n(e.getSubscriptionType()),astNode:e.astNode});function l(e){return(0,i.default)(d(e),function(e){return e.name},function(e){return r({},e,{type:v(e.type)})})}function y(e){return p(e,function(e){return{type:v(e.type),args:l(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}})}function v(e){return(0,s.isListType)(e)?new s.GraphQLList(v(e.ofType)):(0,s.isNonNullType)(e)?new s.GraphQLNonNull(v(e.ofType)):_(e)}function m(e){return d(e).map(_)}function _(e){if((0,c.isSpecifiedScalarType)(e)||(0,f.isIntrospectionType)(e))return e;var n=t[e.name];return n||(n=function(e){if((0,s.isScalarType)(e))return e;if((0,s.isObjectType)(e))return new s.GraphQLObjectType({name:e.name,interfaces:function(){return m(e.getInterfaces())},fields:function(){return y(e.getFields())},isTypeOf:e.isTypeOf,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if((0,s.isInterfaceType)(e))return new s.GraphQLInterfaceType({name:e.name,fields:function(){return y(e.getFields())},resolveType:e.resolveType,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if((0,s.isUnionType)(e))return new s.GraphQLUnionType({name:e.name,types:function(){return m(e.getTypes())},resolveType:e.resolveType,description:e.description,astNode:e.astNode});if((0,s.isEnumType)(e))return new s.GraphQLEnumType({name:e.name,values:(0,i.default)(d(e.getValues()),function(e){return e.name},function(e){return{value:e.value,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}}),description:e.description,astNode:e.astNode});if((0,s.isInputObjectType)(e))return new s.GraphQLInputObjectType({name:e.name,fields:function(){return p(e.getFields(),function(e){return{type:v(e.type),defaultValue:e.defaultValue,description:e.description,astNode:e.astNode}})},description:e.description,astNode:e.astNode});throw new Error('Unknown type: "'+e+'"')}(e),t[e.name]=n),n}};var i=l(n(26)),o=l(n(14)),a=n(4),u=n(9),s=n(1),c=n(13),f=n(10);function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.create(null),r=h(Object.keys(e),function(e){return e}),i=!0,o=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value,f=e[c];n[c]=t?t(f):f}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}function d(e){return h(e,function(e){return e.name})}function h(e,t){return e.slice().sort(function(e,n){var r=t(e),i=t(n);return r.localeCompare(i)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printSchema=function(e,t){return h(e,function(e){return!(0,f.isSpecifiedDirective)(e)},d,t)},t.printIntrospectionSchema=function(e,t){return h(e,f.isSpecifiedDirective,l.isIntrospectionType,t)},t.printType=y;var r=p(n(27)),i=p(n(8)),o=p(n(14)),a=n(40),u=n(7),s=n(1),c=n(13),f=n(9),l=n(10);function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return!(0,c.isSpecifiedScalarType)(e)&&!(0,l.isIntrospectionType)(e)}function h(e,t,n,r){var i=e.getDirectives().filter(t),a=e.getTypeMap(),u=(0,o.default)(a).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(n);return[function(e){if(!function(e){var t=e.getQueryType();if(t&&"Query"!==t.name)return!1;var n=e.getMutationType();if(n&&"Mutation"!==n.name)return!1;var r=e.getSubscriptionType();return!r||"Subscription"===r.name}(e)){var t=[],n=e.getQueryType();n&&t.push("  query: "+n.name);var r=e.getMutationType();r&&t.push("  mutation: "+r.name);var i=e.getSubscriptionType();return i&&t.push("  subscription: "+i.name),"schema {\n"+t.join("\n")+"\n}"}}(e)].concat(i.map(function(e){return function(e,t){return g(t,e)+"directive @"+e.name+m(t,e.args)+" on "+e.locations.join(" | ")}(e,r)}),u.map(function(e){return y(e,r)})).filter(Boolean).join("\n\n")+"\n"}function y(e,t){if((0,s.isScalarType)(e))return function(e,t){return g(t,e)+"scalar "+e.name}(e,t);if((0,s.isObjectType)(e))return function(e,t){var n=e.getInterfaces(),r=n.length?" implements "+n.map(function(e){return e.name}).join(" & "):"";return g(t,e)+"type "+e.name+r+" {\n"+v(t,e)+"\n}"}(e,t);if((0,s.isInterfaceType)(e))return function(e,t){return g(t,e)+"interface "+e.name+" {\n"+v(t,e)+"\n}"}(e,t);if((0,s.isUnionType)(e))return function(e,t){return g(t,e)+"union "+e.name+" = "+e.getTypes().join(" | ")}(e,t);if((0,s.isEnumType)(e))return function(e,t){return g(t,e)+"enum "+e.name+" {\n"+function(e,t){return e.map(function(e,n){return g(t,e,"  ",!n)+"  "+e.name+b(e)}).join("\n")}(e.getValues(),t)+"\n}"}(e,t);if((0,s.isInputObjectType)(e))return function(e,t){var n=(0,o.default)(e.getFields());return g(t,e)+"input "+e.name+" {\n"+n.map(function(e,n){return g(t,e,"  ",!n)+"  "+_(e)}).join("\n")+"\n}"}(e,t);throw new Error("Unknown type: "+e+".")}function v(e,t){return(0,o.default)(t.getFields()).map(function(t,n){return g(e,t,"  ",!n)+"  "+t.name+m(e,t.args,"  ")+": "+String(t.type)+b(t)}).join("\n")}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 0===t.length?"":t.every(function(e){return!e.description})?"("+t.map(_).join(", ")+")":"(\n"+t.map(function(t,r){return g(e,t,"  "+n,!r)+"  "+n+_(t)}).join("\n")+"\n"+n+")"}function _(e){var t=e.name+": "+String(e.type);return(0,i.default)(e.defaultValue)||(t+=" = "+(0,u.print)((0,a.astFromValue)(e.defaultValue,e.type))),t}function b(e){if(!e.isDeprecated)return"";var t=e.deprecationReason;return(0,r.default)(t)||""===t||t===f.DEFAULT_DEPRECATION_REASON?" @deprecated":" @deprecated(reason: "+(0,u.print)((0,a.astFromValue)(t,c.GraphQLString))+")"}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t.description)return"";var i=function(e,n){for(var r=[],i=t.description.split("\n"),o=0;o<i.length;o++)if(""===i[o])r.push(i[o]);else for(var a=E(i[o],n),u=0;u<a.length;u++)r.push(a[u]);return r}(0,120-n.length);if(e&&e.commentDescriptions)return function(e,t,n){for(var r=t&&!n?"\n":"",i=0;i<e.length;i++)r+=""===e[i]?t+"#\n":t+"# "+e[i]+"\n";return r}(i,n,r);var o=n&&!r?"\n"+n+'"""':n+'"""';if(1===i.length&&i[0].length<70&&'"'!==i[0][i[0].length-1])return o+T(i[0])+'"""\n';var a=" "===i[0][0]||"\t"===i[0][0];a||(o+="\n");for(var u=0;u<i.length;u++)0===u&&a||(o+=n),o+=T(i[u])+"\n";return o+(n+'"""\n')}function T(e){return e.replace(/"""/g,'\\"""')}function E(e,t){if(e.length<t+5)return[e];var n=e.split(new RegExp("((?: |^).{15,"+(t-40)+"}(?= |$))"));if(n.length<4)return[e];for(var r=[n[0]+n[1]+n[2]],i=3;i<n.length;i+=2)r.push(n[i].slice(1)+n[i+1]);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidJSValue=function(e,t){var n=(0,r.coerceValue)(e,t).errors;return n?n.map(function(e){return e.message}):[]};var r=n(47)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidLiteralValue=function(e,t){var n=new u.GraphQLSchema({}),r={kind:o.Kind.DOCUMENT,definitions:[]},f=new i.TypeInfo(n,void 0,e),l=new c.default(n,r,f),p=(0,s.ValuesOfCorrectType)(l);return(0,a.visit)(t,(0,a.visitWithTypeInfo)(f,p)),l.getErrors()};var r,i=n(23),o=n(2),a=n(17),u=n(4),s=n(45),c=(r=n(46))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatAST=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n].definitions,i=0;i<r.length;i++)t.push(r[i]);return{kind:"Document",definitions:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.separateOperations=function(e){var t=[],n=Object.create(null),o=new Map,a=Object.create(null),u=void 0,s=0;(0,r.visit)(e,{OperationDefinition:function(e){u=i(e),t.push(e),o.set(e,s++)},FragmentDefinition:function(e){n[u=e.name.value]=e,o.set(e,s++)},FragmentSpread:function(e){var t=e.name.value;(a[u]||(a[u]=Object.create(null)))[t]=!0}});var c=Object.create(null);return t.forEach(function(e){var t=i(e),r=Object.create(null);!function e(t,n,r){var i=n[r];i&&Object.keys(i).forEach(function(r){t[r]||(t[r]=!0,e(t,n,r))})}(r,a,t);var u=[e];Object.keys(r).forEach(function(e){u.push(n[e])}),u.sort(function(e,t){return(o.get(e)||0)-(o.get(t)||0)}),c[t]={kind:"Document",definitions:u}}),c};var r=n(17);function i(e){return e.name?e.name.value:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DangerousChangeType=t.BreakingChangeType=void 0,t.findBreakingChanges=function(e,t){return[].concat(s(e,t),c(e,t),p(e,t),d(e,t).breakingChanges,y(e,t),m(e,t),f(e,t).breakingChanges,b(e,t),T(e,t),E(e,t),O(e,t),I(e,t))},t.findDangerousChanges=function(e,t){return[].concat(f(e,t).dangerousChanges,_(e,t),g(e,t),v(e,t),d(e,t).dangerousChanges)},t.findRemovedTypes=s,t.findTypesThatChangedKind=c,t.findArgChanges=f,t.findFieldsThatChangedTypeOnObjectOrInterfaceTypes=p,t.findFieldsThatChangedTypeOnInputObjectTypes=d,t.findTypesRemovedFromUnions=y,t.findTypesAddedToUnions=v,t.findValuesRemovedFromEnums=m,t.findValuesAddedToEnums=_,t.findInterfacesRemovedFromObjectTypes=b,t.findInterfacesAddedToObjectTypes=g,t.findRemovedDirectives=T,t.findRemovedDirectiveArgs=E,t.findAddedNonNullDirectiveArgs=O,t.findRemovedLocationsForDirective=N,t.findRemovedDirectiveLocations=I;var r,i=n(1),o=(n(9),n(4),(r=n(16))&&r.__esModule?r:{default:r}),a=t.BreakingChangeType={FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",FIELD_REMOVED:"FIELD_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED:"TYPE_REMOVED",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM",ARG_REMOVED:"ARG_REMOVED",ARG_CHANGED_KIND:"ARG_CHANGED_KIND",NON_NULL_ARG_ADDED:"NON_NULL_ARG_ADDED",NON_NULL_INPUT_FIELD_ADDED:"NON_NULL_INPUT_FIELD_ADDED",INTERFACE_REMOVED_FROM_OBJECT:"INTERFACE_REMOVED_FROM_OBJECT",DIRECTIVE_REMOVED:"DIRECTIVE_REMOVED",DIRECTIVE_ARG_REMOVED:"DIRECTIVE_ARG_REMOVED",DIRECTIVE_LOCATION_REMOVED:"DIRECTIVE_LOCATION_REMOVED",NON_NULL_DIRECTIVE_ARG_ADDED:"NON_NULL_DIRECTIVE_ARG_ADDED"},u=t.DangerousChangeType={ARG_DEFAULT_VALUE_CHANGE:"ARG_DEFAULT_VALUE_CHANGE",VALUE_ADDED_TO_ENUM:"VALUE_ADDED_TO_ENUM",INTERFACE_ADDED_TO_OBJECT:"INTERFACE_ADDED_TO_OBJECT",TYPE_ADDED_TO_UNION:"TYPE_ADDED_TO_UNION",NULLABLE_INPUT_FIELD_ADDED:"NULLABLE_INPUT_FIELD_ADDED",NULLABLE_ARG_ADDED:"NULLABLE_ARG_ADDED"};function s(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){r[e]||i.push({type:a.TYPE_REMOVED,description:e+" was removed."})}),i}function c(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),i=[];return Object.keys(n).forEach(function(e){if(r[e]){var t=n[e],o=r[e];t.constructor!==o.constructor&&i.push({type:a.TYPE_CHANGED_KIND,description:e+" changed from "+l(t)+" to "+l(o)+"."})}}),i}function f(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[],s=[];return Object.keys(n).forEach(function(e){var t=n[e],c=r[e];if(((0,i.isObjectType)(t)||(0,i.isInterfaceType)(t))&&((0,i.isObjectType)(c)||(0,i.isInterfaceType)(c))&&c.constructor===t.constructor){var f=t.getFields(),l=c.getFields();Object.keys(f).forEach(function(e){l[e]&&(f[e].args.forEach(function(n){var r=l[e].args.find(function(e){return e.name===n.name});r?h(n.type,r.type)?void 0!==n.defaultValue&&n.defaultValue!==r.defaultValue&&s.push({type:u.ARG_DEFAULT_VALUE_CHANGE,description:t.name+"."+e+" arg "+n.name+" has changed defaultValue"}):o.push({type:a.ARG_CHANGED_KIND,description:t.name+"."+e+" arg "+n.name+" has changed type from "+n.type.toString()+" to "+r.type.toString()}):o.push({type:a.ARG_REMOVED,description:t.name+"."+e+" arg "+n.name+" was removed"})}),l[e].args.forEach(function(t){f[e].args.find(function(e){return e.name===t.name})||((0,i.isNonNullType)(t.type)?o.push({type:a.NON_NULL_ARG_ADDED,description:"A non-null arg "+t.name+" on "+c.name+"."+e+" was added"}):s.push({type:u.NULLABLE_ARG_ADDED,description:"A nullable arg "+t.name+" on "+c.name+"."+e+" was added"}))}))})}}),{breakingChanges:o,dangerousChanges:s}}function l(e){if((0,i.isScalarType)(e))return"a Scalar type";if((0,i.isObjectType)(e))return"an Object type";if((0,i.isInterfaceType)(e))return"an Interface type";if((0,i.isUnionType)(e))return"a Union type";if((0,i.isEnumType)(e))return"an Enum type";if((0,i.isInputObjectType)(e))return"an Input type";throw new TypeError("Unknown type "+e.constructor.name)}function p(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],u=r[e];if(((0,i.isObjectType)(t)||(0,i.isInterfaceType)(t))&&((0,i.isObjectType)(u)||(0,i.isInterfaceType)(u))&&u.constructor===t.constructor){var s=t.getFields(),c=u.getFields();Object.keys(s).forEach(function(t){if(t in c){var n=s[t].type,r=c[t].type;if(!function e(t,n){return(0,i.isNamedType)(t)?(0,i.isNamedType)(n)&&t.name===n.name||(0,i.isNonNullType)(n)&&e(t,n.ofType):(0,i.isListType)(t)?(0,i.isListType)(n)&&e(t.ofType,n.ofType)||(0,i.isNonNullType)(n)&&e(t,n.ofType):!!(0,i.isNonNullType)(t)&&(0,i.isNonNullType)(n)&&e(t.ofType,n.ofType)}(n,r)){var u=(0,i.isNamedType)(n)?n.name:n.toString(),f=(0,i.isNamedType)(r)?r.name:r.toString();o.push({type:a.FIELD_CHANGED_KIND,description:e+"."+t+" changed type from "+u+" to "+f+"."})}}else o.push({type:a.FIELD_REMOVED,description:e+"."+t+" was removed."})})}}),o}function d(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[],s=[];return Object.keys(n).forEach(function(e){var t=n[e],c=r[e];if((0,i.isInputObjectType)(t)&&(0,i.isInputObjectType)(c)){var f=t.getFields(),l=c.getFields();Object.keys(f).forEach(function(t){if(t in l){var n=f[t].type,r=l[t].type;if(!h(n,r)){var u=(0,i.isNamedType)(n)?n.name:n.toString(),s=(0,i.isNamedType)(r)?r.name:r.toString();o.push({type:a.FIELD_CHANGED_KIND,description:e+"."+t+" changed type from "+u+" to "+s+"."})}}else o.push({type:a.FIELD_REMOVED,description:e+"."+t+" was removed."})}),Object.keys(l).forEach(function(e){e in f||((0,i.isNonNullType)(l[e].type)?o.push({type:a.NON_NULL_INPUT_FIELD_ADDED,description:"A non-null field "+e+" on input type "+c.name+" was added."}):s.push({type:u.NULLABLE_INPUT_FIELD_ADDED,description:"A nullable field "+e+" on input type "+c.name+" was added."}))})}}),{breakingChanges:o,dangerousChanges:s}}function h(e,t){return(0,i.isNamedType)(e)?(0,i.isNamedType)(t)&&e.name===t.name:(0,i.isListType)(e)?(0,i.isListType)(t)&&h(e.ofType,t.ofType):!!(0,i.isNonNullType)(e)&&((0,i.isNonNullType)(t)&&h(e.ofType,t.ofType)||!(0,i.isNonNullType)(t)&&h(e.ofType,t))}function y(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],u=r[e];if((0,i.isUnionType)(t)&&(0,i.isUnionType)(u)){var s=Object.create(null);u.getTypes().forEach(function(e){s[e.name]=!0}),t.getTypes().forEach(function(t){s[t.name]||o.push({type:a.TYPE_REMOVED_FROM_UNION,description:t.name+" was removed from union type "+e+"."})})}}),o}function v(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(r).forEach(function(e){var t=n[e],a=r[e];if((0,i.isUnionType)(t)&&(0,i.isUnionType)(a)){var s=Object.create(null);t.getTypes().forEach(function(e){s[e.name]=!0}),a.getTypes().forEach(function(t){s[t.name]||o.push({type:u.TYPE_ADDED_TO_UNION,description:t.name+" was added to union type "+e+"."})})}}),o}function m(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],u=r[e];if((0,i.isEnumType)(t)&&(0,i.isEnumType)(u)){var s=Object.create(null);u.getValues().forEach(function(e){s[e.name]=!0}),t.getValues().forEach(function(t){s[t.name]||o.push({type:a.VALUE_REMOVED_FROM_ENUM,description:t.name+" was removed from enum type "+e+"."})})}}),o}function _(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],a=r[e];if((0,i.isEnumType)(t)&&(0,i.isEnumType)(a)){var s=Object.create(null);t.getValues().forEach(function(e){s[e.name]=!0}),a.getValues().forEach(function(t){s[t.name]||o.push({type:u.VALUE_ADDED_TO_ENUM,description:t.name+" was added to enum type "+e+"."})})}}),o}function b(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(n).forEach(function(e){var t=n[e],u=r[e];if((0,i.isObjectType)(t)&&(0,i.isObjectType)(u)){var s=t.getInterfaces(),c=u.getInterfaces();s.forEach(function(t){c.some(function(e){return e.name===t.name})||o.push({type:a.INTERFACE_REMOVED_FROM_OBJECT,description:e+" no longer implements interface "+t.name+"."})})}}),o}function g(e,t){var n=e.getTypeMap(),r=t.getTypeMap(),o=[];return Object.keys(r).forEach(function(e){var t=n[e],a=r[e];if((0,i.isObjectType)(t)&&(0,i.isObjectType)(a)){var s=t.getInterfaces();a.getInterfaces().forEach(function(t){s.some(function(e){return e.name===t.name})||o.push({type:u.INTERFACE_ADDED_TO_OBJECT,description:t.name+" added to interfaces implemented by "+e+"."})})}}),o}function T(e,t){var n=[],r=w(t);return e.getDirectives().forEach(function(e){r[e.name]||n.push({type:a.DIRECTIVE_REMOVED,description:e.name+" was removed"})}),n}function E(e,t){var n=[],r=w(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&function(e,t){var n=[],r=L(t);return e.args.forEach(function(e){r[e.name]||n.push(e)}),n}(t,e).forEach(function(t){n.push({type:a.DIRECTIVE_ARG_REMOVED,description:t.name+" was removed from "+e.name})})}),n}function O(e,t){var n=[],r=w(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&function(e,t){var n=[],r=L(e);return t.args.forEach(function(e){r[e.name]||n.push(e)}),n}(t,e).forEach(function(t){(0,i.isNonNullType)(t.type)&&n.push({type:a.NON_NULL_DIRECTIVE_ARG_ADDED,description:"A non-null arg "+t.name+" on directive "+e.name+" was added"})})}),n}function N(e,t){var n=[],r=new Set(t.locations);return e.locations.forEach(function(e){r.has(e)||n.push(e)}),n}function I(e,t){var n=[],r=w(e);return t.getDirectives().forEach(function(e){var t=r[e.name];t&&N(t,e).forEach(function(t){n.push({type:a.DIRECTIVE_LOCATION_REMOVED,description:t+" was removed from "+e.name})})}),n}function w(e){return(0,o.default)(e.getDirectives(),function(e){return e.name})}function L(e){return(0,o.default)(e.args,function(e){return e.name})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findDeprecatedUsages=function(e,t){var n=[],u=new a.TypeInfo(e);return(0,i.visit)(t,(0,i.visitWithTypeInfo)(u,{Field:function(e){var t=u.getFieldDef();if(t&&t.isDeprecated){var i=u.getParentType();if(i){var o=t.deprecationReason;n.push(new r.GraphQLError("The field "+i.name+"."+t.name+" is deprecated."+(o?" "+o:""),[e]))}}},EnumValue:function(e){var t=u.getEnumValue();if(t&&t.isDeprecated){var i=(0,o.getNamedType)(u.getInputType());if(i){var a=t.deprecationReason;n.push(new r.GraphQLError("The enum value "+i.name+"."+t.name+" is deprecated."+(a?" "+a:""),[e]))}}}})),n};var r=n(15),i=n(17),o=n(1),a=(n(4),n(23))},function(e,t,n){"use strict";var r=n(158);e.exports=function(e){function t(e,t,n,r){function i(t){"function"!=typeof self.postMessage?e.ports[0].postMessage(t):self.postMessage(t)}n?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",n),i(JSON.stringify([t,{message:n.message}]))):i(JSON.stringify([t,null,r]))}self.addEventListener("message",function(n){var i=function(e){try{return JSON.parse(e)}catch(e){return!1}}(n.data);if(i){var o=i[0],a=i[1];"function"!=typeof e?t(n,o,new Error("Please pass a function into register().")):function(e,n,i,o){var a=function(e,t){try{return{res:e(t)}}catch(e){return{err:e}}}(n,o);a.err?t(e,i,a.err):r(a.res)?a.res.then(function(n){t(e,i,null,n)},function(n){t(e,i,n)}):t(e,i,null,a.res)}(n,e,o,a)}})}},function(e,t){e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(160),i=(n.n(r),n(174)),o=n(176),a=Object(r.makeExecutableSchema)({typeDefs:i.a,resolvers:o.a})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(32)),r(n(162)),r(n(166)),r(n(93))},function(e,t,n){"use strict";function r(e,t,n,r,i){var o={};return function(){var a=(((new Error).stack||"").match(/(?:\s+at\s.+){2}\s+at\s(.+)/)||[void 0,""])[1];if(!((a=/\)$/.test(a)?a.match(/[^(]+(?=\)$)/)[0]:a.trim())in o)){var u;switch(o[a]=!0,e){case"class":u="Class";break;case"property":u="Property";break;case"method":u="Method";break;case"function":u="Function"}u+=" `"+t+"` has been deprecated",r&&(u+=" since version "+r),n&&(u+=", use `"+n+"` instead"),u+=".",a&&(u+="\n    at "+a),i&&(u+="\nCheck out "+i+" for more information."),console.warn(u)}}}function i(e,n,i,o,a,u){var s=(t.options.getWarner||r)(e,n,o,a,u),c={enumerable:(i=i||{writable:!0,enumerable:!1,configurable:!0}).enumerable,configurable:i.configurable};if(i.get||i.set)i.get&&(c.get=function(){return s(),i.get.call(this)}),i.set&&(c.set=function(e){return s(),i.set.call(this,e)});else{var f=i.value;c.get=function(){return s(),f},i.writable&&(c.set=function(e){s(),f=e})}return c}function o(e,n,i,o,a){for(var u=(t.options.getWarner||r)(e,n.name,i,o,a),s=function(){return u(),n.apply(this,arguments)},c=0,f=Object.getOwnPropertyNames(n);c<f.length;c++){var l=f[c],p=Object.getOwnPropertyDescriptor(n,l);p.writable?s[l]=n[l]:p.configurable&&Object.defineProperty(s,l,p)}return s}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];n="function"==typeof n?e.pop():void 0;var r,a,u,s=e[0];return"string"==typeof s?(r=s,a=e[1],u=e[2]):s&&(r=s.alternative,a=s.version,u=s.url),n?o("function",n,r,a,u):function(e,t,n){if("string"==typeof t)return i(n&&"function"==typeof n.value?"method":"property",t,n,r,a,u);if("function"==typeof e){for(var s=o("class",e,r,a,u),c=e.name,f=0,l=Object.getOwnPropertyNames(s);f<l.length;f++){var p=l[f],d=Object.getOwnPropertyDescriptor(s,p);(d=i("class",c,d,r,a,u)).writable?s[p]=e[p]:d.configurable&&Object.defineProperty(s,p,d)}return s}}}t.options={getWarner:void 0},t.deprecated=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(3),o=n(163),a=n(32);function u(e){var t=e.schema,n=e.mocks,i=void 0===n?{}:n,u=e.preserveResolvers,c=void 0!==u&&u;function f(e){return e===Object(e)&&!Array.isArray(e)}if(!t)throw new Error("Must provide schema to mock");if(!(t instanceof r.GraphQLSchema))throw new Error('Value at "schema" must be of type GraphQLSchema');if(!f(i))throw new Error("mocks must be of type Object");var l=new Map;Object.keys(i).forEach(function(e){l.set(e,i[e])}),l.forEach(function(e,t){if("function"!=typeof e)throw new Error("mockFunctionMap["+t+"] must be a function")});var p=new Map;function d(e,t){Object.getOwnPropertyNames(t).forEach(function(n){Object.getOwnPropertyDescriptor(e,n)||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}function h(e){return e[Math.floor(Math.random()*e.length)]}p.set("Int",function(){return Math.round(200*Math.random())-100}),p.set("Float",function(){return 200*Math.random()-100}),p.set("String",function(){return"Hello World"}),p.set("Boolean",function(){return Math.random()>.5}),p.set("ID",function(){return o.v4()});var y=function(e,n,i){return function(n,o,a,u){var c=r.getNullableType(e),d=r.getNamedType(c);if(n&&"undefined"!=typeof n[i]){var v=void 0;return"function"==typeof n[i]?(v=n[i](n,o,a,u))instanceof s&&(v=v.mock(n,o,a,u,c,y)):v=n[i],l.has(d.name)&&(v=function e(t,n){return Array.isArray(n)?n.map(function(n){return e(t,n)}):f(n)?(r=t(),Object.assign(r,n)):n;var r}(l.get(d.name).bind(null,n,o,a,u),v)),v}if(c instanceof r.GraphQLList)return[y(c.ofType)(n,o,a,u),y(c.ofType)(n,o,a,u)];if(l.has(c.name)&&!(c instanceof r.GraphQLUnionType||c instanceof r.GraphQLInterfaceType))return l.get(c.name)(n,o,a,u);if(c instanceof r.GraphQLObjectType)return{};if(c instanceof r.GraphQLUnionType||c instanceof r.GraphQLInterfaceType){var m=void 0;if(l.has(c.name)){var _=l.get(c.name)(n,o,a,u);if(!_||!_.__typename)return Error('Please return a __typename in "'+c.name+'"');m=t.getType(_.__typename)}else m=h(t.getPossibleTypes(c));return Object.assign({__typename:m},y(m)(n,o,a,u))}return c instanceof r.GraphQLEnumType?h(c.getValues()).value:p.has(c.name)?p.get(c.name)(n,o,a,u):Error('No mock defined for type "'+c.name+'"')}};a.forEachField(t,function(e,n,i){var o,a,u,s;a=r.getNullableType(e.type),s=function(e){return e instanceof r.GraphQLInterfaceType||e instanceof r.GraphQLUnionType?e.resolveType:void 0}(u=r.getNamedType(a)),c&&s&&s.length||(u instanceof r.GraphQLUnionType||u instanceof r.GraphQLInterfaceType)&&(u.resolveType=function(e,t,n){return n.schema.getType(e.__typename)});var p=!!t.getQueryType()&&t.getQueryType().name===n,h=!!t.getMutationType()&&t.getMutationType().name===n;if((p||h)&&l.has(n)){var v=l.get(n);v(void 0,{},{},{})[i]&&(o=function(t,r,o,a){var u=t||{};return u[i]=v(t,r,o,a)[i],y(e.type,n,i)(u,r,o,a)})}if(o||(o=y(e.type,n,i)),c&&e.resolve){var m=e.resolve;e.resolve=function(e,t,n,r){return Promise.all([o(e,t,n,r),m(e,t,n,r)]).then(function(e){var t=e[0],n=e[1];if(t instanceof Error){if(void 0===n)throw t;return n}return n instanceof Date&&t instanceof Date?void 0!==n?n:t:f(t)&&f(n)?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){for(var n=t;n;)d(e,n),n=Object.getPrototypeOf(n)}),e}(Object.create(Object.getPrototypeOf(n)),n,t):void 0!==n?n:t})}}else e.resolve=o})}t.mockServer=function(e,t,n){var o;return void 0===n&&(n=!1),u({schema:o=e instanceof r.GraphQLSchema?e:a.buildSchemaFromTypeDefinitions(e),mocks:t,preserveResolvers:n}),{query:function(e,t){return i.graphql(o,e,{},{},t)}}},t.addMockFunctionsToSchema=u;var s=function(){function e(e,t){if(this.len=e,"undefined"!=typeof t){if("function"!=typeof t)throw new Error("Second argument to MockList must be a function or undefined");this.wrappedFunction=t}}return e.prototype.mock=function(t,n,i,o,a,u){var s;s=Array.isArray(this.len)?new Array(this.randint(this.len[0],this.len[1])):new Array(this.len);for(var c=0;c<s.length;c++)if("function"==typeof this.wrappedFunction){var f=this.wrappedFunction(t,n,i,o);if(f instanceof e){var l=r.getNullableType(a.ofType);s[c]=f.mock(t,n,i,o,l,u)}else s[c]=f}else s[c]=u(a.ofType)(t,n,i,o);return s},e.prototype.randint=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e}();t.MockList=s},function(e,t,n){var r=n(164),i=n(165),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){var r,i,o=n(95),a=n(96),u=0,s=0;e.exports=function(e,t,n){var c=t&&n||0,f=t||[],l=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var d=o();null==l&&(l=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=i=16383&(d[6]<<8|d[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:s+1,v=h-u+(y-s)/1e4;if(v<0&&void 0===e.clockseq&&(p=p+1&16383),(v<0||h>u)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,s=y,i=p;var m=(1e4*(268435455&(h+=122192928e5))+y)%4294967296;f[c++]=m>>>24&255,f[c++]=m>>>16&255,f[c++]=m>>>8&255,f[c++]=255&m;var _=h/4294967296*1e4&268435455;f[c++]=_>>>8&255,f[c++]=255&_,f[c++]=_>>>24&15|16,f[c++]=_>>>16&255,f[c++]=p>>>8|128,f[c++]=255&p;for(var b=0;b<6;++b)f[c+b]=l[b];return t||a(f)}},function(e,t,n){var r=n(95),i=n(96);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[o+u]=a[u];return t||i(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(167);t.makeRemoteExecutableSchema=r.default;var i=n(169);t.introspectSchema=i.default;var o=n(170);t.mergeSchemas=o.default;var a=n(100);t.delegateToSchema=a.default,t.createDocument=a.createDocument},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(97),u=n(98),s=n(32),c=n(48),f=n(99),l=n(49),p=n(168);function d(e){var t=this;return function(n,a,u,s){return r(t,void 0,void 0,function(){var t,n,r;return i(this,function(i){switch(i.label){case 0:return t=Object.keys(s.fragments).map(function(e){return s.fragments[e]}),n={kind:o.Kind.DOCUMENT,definitions:[s.operation].concat(t)},[4,e({query:n,variables:s.variableValues,context:{graphqlContext:u}})];case 1:return r=i.sent(),[2,l.checkResultAndHandleErrors(r,s)]}})})}}function h(e){switch(e.kind){case o.Kind.STRING:case o.Kind.BOOLEAN:return e.value;case o.Kind.INT:case o.Kind.FLOAT:return parseFloat(e.value);case o.Kind.OBJECT:var t=Object.create(null);return e.fields.forEach(function(e){t[e.name.value]=h(e.value)}),t;case o.Kind.LIST:return e.values.map(h);default:return null}}t.default=function(e){var t,n=e.schema,r=e.link,i=e.fetcher;!i&&r&&(i=a.default(r)),"string"==typeof n?n=o.buildSchema(t=n):t=o.printSchema(n);var l={},y=n.getQueryType(),v=y.getFields();Object.keys(v).forEach(function(e){l[e]=d(i)});var m={},_=n.getMutationType();if(_){var b=_.getFields();Object.keys(b).forEach(function(e){m[e]=d(i)})}var g={},T=n.getSubscriptionType();if(T){var E=T.getFields();Object.keys(E).forEach(function(e){g[e]={subscribe:function(e,t){return function(e,n,r,i){var u=Object.keys(i.fragments).map(function(e){return i.fragments[e]}),s={kind:o.Kind.DOCUMENT,definitions:[i.operation].concat(u)},c=a.execute(t,{query:s,variables:i.variableValues,context:{graphqlContext:r}});return p.observableToAsyncIterable(c)}}(0,r)}})}var O=((N={})[y.name]=l,N);u.default(m)||(O[_.name]=m),u.default(g)||(O[T.name]=g);for(var N,I=n.getTypeMap(),w=function(e){if(e instanceof o.GraphQLInterfaceType||e instanceof o.GraphQLUnionType)O[e.name]={__resolveType:function(e,t,n){return c.default(e,n.schema)}};else if(e instanceof o.GraphQLScalarType)e!==o.GraphQLID&&e!==o.GraphQLString&&e!==o.GraphQLFloat&&e!==o.GraphQLBoolean&&e!==o.GraphQLInt&&(O[e.name]=new o.GraphQLScalarType({name:(n=e).name,description:n.description,serialize:function(e){return e},parseValue:function(e){return e},parseLiteral:function(e){return h(e)}}));else if(e instanceof o.GraphQLObjectType&&"__"!==e.name.slice(0,2)&&e!==y&&e!==_&&e!==T){var t={};Object.keys(e.getFields()).forEach(function(e){t[e]=f.default}),O[e.name]=t}var n},L=0,S=Object.keys(I).map(function(e){return I[e]});L<S.length;L++)w(S[L]);return s.makeExecutableSchema({typeDefs:t,resolvers:O})}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(11);t.observableToAsyncIterable=function(e){var t,n=[],u=[],s=!0,c=e.subscribe({next:function(e){var t;t=e.data,0!==n.length?n.shift()({value:t,done:!1}):u.push({value:t})},error:function(e){var t;t=e,0!==n.length?n.shift()({value:{errors:[t]},done:!1}):u.push({value:{errors:[t]}})}}),f=function(){s&&(s=!1,c.unsubscribe(),n.forEach(function(e){return e({value:void 0,done:!0})}),n.length=0,u.length=0)};return(t={next:function(){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,s?new Promise(function(e){if(0!==u.length){var t=u.shift();e(r({},t,{done:!1}))}else n.push(e)}):this.return()]})})},return:function(){return f(),Promise.resolve({value:void 0,done:!0})},throw:function(e){return f(),Promise.reject(e)}})[a.$$asyncIterator]=function(){return this},t}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(97),u=o.parse(o.introspectionQuery);t.default=function(e,t){return r(this,void 0,void 0,function(){var n;return i(this,function(r){switch(r.label){case 0:return e.request&&(e=a.default(e)),[4,e({query:u,context:t})];case 1:if((n=r.sent()).errors&&n.errors.length||!n.data.__schema)throw n.errors;return[2,o.buildClientSchema(n.data)]}})})}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(171),a=n(98),u=n(94),s=n(32),c=n(172),f=n(100),l=n(173),p={commentDescriptions:!0};function d(e,t){return e}function h(e,t,n){return function(r,i,o,a){return e.delegate(t,n,i,o,a)}}t.default=function(e){var t=e.schemas,n=e.onTypeConflict,y=e.resolvers;n||(n=d);var v={},m={},_={},b=new o.default,g=c.createResolveType(function(e){return b.getType(e)}),T=function(e){return{delegate:function(t,n,r,i,o){var a=e.getSchemaByField(t,n);if(!a)throw new Error("Cannot find subschema for root field "+t+"."+n);return f.default(a,e.fragmentReplacements,t,n,r,i,o)}}}(b),E=[],O=[],N=[],I={};t.forEach(function(e){if(e instanceof i.GraphQLSchema)E.push(e);else if("string"==typeof e){var t=i.parse(e);try{var n=i.buildASTSchema(t,p);n.getQueryType()&&E.push(n)}catch(e){O.push(t)}(t=s.extractExtensionDefinitions(t)).definitions.length>0&&N.push(t)}}),E.forEach(function(e){b.addSchema(e);var t=e.getQueryType(),o=e.getMutationType(),a=e.getSubscriptionType(),u=e.getTypeMap();Object.keys(u).forEach(function(e){var r=u[e];if(i.isNamedType(r)&&"__"!==i.getNamedType(r).name.slice(0,2)&&r!==t&&r!==o&&r!==a){var s=c.recreateType(r,g);b.addType(s.name,s,n)}}),Object.keys(t.getFields()).forEach(function(e){I.Query||(I.Query={}),I.Query[e]=h(T,"query",e)}),v=r({},v,t.getFields()),o&&(I.Mutation||(I.Mutation={}),Object.keys(o.getFields()).forEach(function(e){I.Mutation[e]=h(T,"mutation",e)}),m=r({},m,o.getFields())),a&&(I.Subscription||(I.Subscription={}),Object.keys(a.getFields()).forEach(function(e){I.Subscription[e]={subscribe:h(T,"subscription",e)}}),_=r({},_,a.getFields()))}),O.forEach(function(e){e.definitions.forEach(function(e){var t=l.default(b,e);t&&b.addType(t.name,t,n)})});var w={};y&&(w="function"==typeof y?y(T):Array.isArray(y)?y.map(function(e){return"function"==typeof e?e(T):e}).reduce(u.default,{}):r({},y)),Object.keys(w).forEach(function(e){var t=w[e];t instanceof i.GraphQLScalarType||Object.keys(t).forEach(function(n){var r=t[n];r.fragment&&b.addFragment(e,n,r.fragment)})}),I=u.default(I,w);var L,S,k=new i.GraphQLObjectType({name:"Query",fields:function(){return c.fieldMapToFieldConfigMap(v,g)}});a.default(m)||(L=new i.GraphQLObjectType({name:"Mutation",fields:function(){return c.fieldMapToFieldConfigMap(m,g)}})),a.default(_)||(S=new i.GraphQLObjectType({name:"Subscription",fields:function(){return c.fieldMapToFieldConfigMap(_,g)}})),b.addType("Query",k),b.addType("Mutation",L),b.addType("Subscription",S);var A,j,D=new i.GraphQLSchema({query:k,mutation:L,subscription:S,types:b.getAllTypes()});return N.forEach(function(e){D=i.extendSchema(D,e,p)}),s.addResolveFunctionsToSchema(D,I),A=function(e){if(e.resolve){var t=e.resolve;e.resolve=function(e,n,i,o){var a=r({},o,{mergeInfo:T});return t(e,n,i,a)}}},j=D.getTypeMap(),Object.keys(j).forEach(function(e){var t=j[e];if(!i.getNamedType(t).name.startsWith("__")&&t instanceof i.GraphQLObjectType){var n=t.getFields();Object.keys(n).forEach(function(e){A(n[e])})}}),D}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default=function(){function e(){this.types={},this.schemaByField={query:{},mutation:{},subscription:{}},this.fragmentReplacements={}}return e.prototype.getSchemaByField=function(e,t){return this.schemaByField[e][t]},e.prototype.getAllTypes=function(){var e=this;return Object.keys(this.types).map(function(t){return e.types[t]})},e.prototype.getType=function(e){if(!this.types[e])throw new Error("No such type: "+e);return this.types[e]},e.prototype.resolveType=function(e){return e instanceof r.GraphQLList?new r.GraphQLList(this.resolveType(e.ofType)):e instanceof r.GraphQLNonNull?new r.GraphQLNonNull(this.resolveType(e.ofType)):r.isNamedType(e)?this.getType(r.getNamedType(e).name):e},e.prototype.addSchema=function(e){var t=this,n=e.getQueryType();n&&Object.keys(n.getFields()).forEach(function(n){t.schemaByField.query[n]=e});var r=e.getMutationType();r&&Object.keys(r.getFields()).forEach(function(n){t.schemaByField.mutation[n]=e});var i=e.getSubscriptionType();i&&Object.keys(i.getFields()).forEach(function(n){t.schemaByField.subscription[n]=e})},e.prototype.addType=function(e,t,n){if(this.types[e]){if(!n)throw new Error("Type name conflict: "+e);t=n(this.types[e],t)}this.types[e]=t},e.prototype.addFragment=function(e,t,n){this.fragmentReplacements[e]||(this.fragmentReplacements[e]={}),this.fragmentReplacements[e][t]=function(e){for(var t=0,i=r.parse(n).definitions;t<i.length;t++){var o=i[t];if(o.kind===r.Kind.FRAGMENT_DEFINITION)return{kind:r.Kind.INLINE_FRAGMENT,typeCondition:o.typeCondition,selectionSet:o.selectionSet}}throw new Error("Could not parse fragment")}()},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(48),o=n(99);function a(e){switch(e.kind){case r.Kind.STRING:case r.Kind.BOOLEAN:return e.value;case r.Kind.INT:case r.Kind.FLOAT:return parseFloat(e.value);case r.Kind.OBJECT:var t=Object.create(null);return e.fields.forEach(function(e){t[e.name.value]=a(e.value)}),t;case r.Kind.LIST:return e.values.map(a);default:return null}}function u(e,t){var n={};return Object.keys(e).forEach(function(r){null!==t(e[r].type)&&(n[r]=function(e,t){return{type:t(e.type),args:function(t,n){var r={};return e.args.forEach(function(e){var t=function(e,t){return[e.name,{type:t(e.type),defaultValue:e.defaultValue,description:e.description}]}(e,n);r[t[0]]=t[1]}),r}(0,t),resolve:o.default,description:e.description,deprecationReason:e.deprecationReason,astNode:e.astNode}}(e[r],t))}),n}t.recreateType=function(e,t){if(e instanceof r.GraphQLObjectType){var n=e.getFields(),o=e.getInterfaces();return new r.GraphQLObjectType({name:e.name,description:e.description,astNode:e.astNode,fields:function(){return u(n,t)},interfaces:function(){return o.map(function(e){return t(e)})}})}if(e instanceof r.GraphQLInterfaceType){var s=e.getFields();return new r.GraphQLInterfaceType({name:e.name,description:e.description,astNode:e.astNode,fields:function(){return u(s,t)},resolveType:function(e,t,n){return i.default(e,n.schema)}})}if(e instanceof r.GraphQLUnionType)return new r.GraphQLUnionType({name:e.name,description:e.description,astNode:e.astNode,types:function(){return e.getTypes().map(function(e){return t(e)})},resolveType:function(e,t,n){return i.default(e,n.schema)}});if(e instanceof r.GraphQLInputObjectType)return new r.GraphQLInputObjectType({name:e.name,description:e.description,astNode:e.astNode,fields:function(){return function(e,t){var n={};return Object.keys(e).forEach(function(r){null!==t(e[r].type)&&(n[r]=function(e,t){return{type:t(e.type),defaultValue:e.defaultValue,description:e.description,astNode:e.astNode}}(e[r],t))}),n}(e.getFields(),t)}});if(e instanceof r.GraphQLEnumType){var c={};return e.getValues().forEach(function(e){c[e.name]={value:e.name}}),new r.GraphQLEnumType({name:e.name,description:e.description,astNode:e.astNode,values:c})}if(e instanceof r.GraphQLScalarType)return e===r.GraphQLID||e===r.GraphQLString||e===r.GraphQLFloat||e===r.GraphQLBoolean||e===r.GraphQLInt?e:new r.GraphQLScalarType({name:e.name,description:e.description,astNode:e.astNode,serialize:function(e){return e},parseValue:function(e){return e},parseLiteral:function(e){return a(e)}});throw new Error("Invalid type "+e)},t.fieldMapToFieldConfigMap=u,t.createResolveType=function(e){var t=function(n){var i;return n instanceof r.GraphQLList?null===(i=t(n.ofType))?null:new r.GraphQLList(i):n instanceof r.GraphQLNonNull?null===(i=t(n.ofType))?null:new r.GraphQLNonNull(i):r.isNamedType(n)?e(r.getNamedType(n).name,n):n};return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i={commentDescriptions:!0},o=n(48);function a(e,t){var n={};return t.forEach(function(t){n[t.name.value]={type:s(e,t.type),args:u(e,t.arguments),description:c(t,i)}}),n}function u(e,t){var n={};return t.forEach(function(t){var o=s(e,t.type);n[t.name.value]={type:o,defaultValue:r.valueFromAST(t.defaultValue,o),description:c(t,i)}}),n}function s(e,t){switch(t.kind){case r.Kind.LIST_TYPE:return new r.GraphQLList(s(e,t.type));case r.Kind.NON_NULL_TYPE:return new r.GraphQLNonNull(s(e,t.type));default:return e.getType(t.name.value)}}function c(e,t){if(e.description)return e.description.value;if(t&&t.commentDescriptions){var n=function(e){var t=e.loc;if(t){for(var n=[],r=t.startToken.prev;r&&"Comment"===r.kind&&r.next&&r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){var i=String(r.value);n.push(i),r=r.prev}return n.reverse().join("\n")}}(e);if(void 0!==n)return function(e){for(var t=("\n"+n).split(/\r\n|[\n\r]/g),r=null,i=1;i<t.length;i++){var o=t[i],a=f(o);if(a<o.length&&(null===r||a<r)&&0===(r=a))break}if(r)for(i=1;i<t.length;i++)t[i]=t[i].slice(r);for(;t.length>0&&l(t[0]);)t.shift();for(;t.length>0&&l(t[t.length-1]);)t.pop();return t.join("\n")}()}}function f(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function l(e){return f(e)===e.length}t.default=function(e,t){switch(t.kind){case r.Kind.OBJECT_TYPE_DEFINITION:return function(e,t){return new r.GraphQLObjectType({name:t.name.value,fields:function(){return a(e,t.fields)},interfaces:function(){return t.interfaces.map(function(t){return e.getType(t.name.value)})},description:c(t,i)})}(e,t);case r.Kind.INTERFACE_TYPE_DEFINITION:return function(e,t){return new r.GraphQLInterfaceType({name:t.name.value,fields:function(){return a(e,t.fields)},description:c(t,i),resolveType:function(e,t,n){return o.default(e,n.schema)}})}(e,t);case r.Kind.ENUM_TYPE_DEFINITION:return function(e,t){var n={};return t.values.forEach(function(e){n[e.name.value]={description:c(e,i)}}),new r.GraphQLEnumType({name:t.name.value,values:n,description:c(t,i)})}(0,t);case r.Kind.UNION_TYPE_DEFINITION:return function(e,t){return new r.GraphQLUnionType({name:t.name.value,types:function(){return t.types.map(function(t){return s(e,t)})},description:c(t,i),resolveType:function(e,t,n){return o.default(e,n.schema)}})}(e,t);case r.Kind.SCALAR_TYPE_DEFINITION:return function(e,t){return new r.GraphQLScalarType({name:t.name.value,description:c(t,i),serialize:function(){return null},parseValue:function(){return!1},parseLiteral:function(){return!1}})}(0,t);case r.Kind.INPUT_OBJECT_TYPE_DEFINITION:return function(e,t){return new r.GraphQLInputObjectType({name:t.name.value,fields:function(){return u(e,t.fields)},description:c(t,i)})}(e,t);default:return null}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="\nscalar Date\n\n"+n(175).a+"\n\ntype PageInfo {\n  totalCount: Int\n}\n\ntype PublicationQuery {\n  results: [Publication!]\n  pageInfo: PageInfo\n}\n\ntype SubdisciplineQuery {\n  results: [SubdisciplineWeight!]\n  pageInfo: PageInfo\n}\n\ntype GetDistinctQuery {\n  results: [String]\n  pageInfo: PageInfo\n}\n\ntype Query {\n  getPublications(filter: Filter): PublicationQuery\n  getSubdisciplines(filter: Filter): SubdisciplineQuery\n  getDistinct(fieldName: String, filter: Filter): GetDistinctQuery\n}\n\nschema {\n  query: Query\n}\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="\ntype SubdisciplineWeight {\n  subd_id: ID!\n  weight: Float\n}\n\ntype Publication {\n  id: ID!\n  title: String\n  author: String\n  year: Int\n  pmid: String\n  doi: String\n  pmcid: String\n\n  journalName: String\n  journalId: Int\n  subdisciplines: [SubdisciplineWeight]\n\n  grantId: String\n  grantTitle: String\n  grantClasses: [String!]\n  grantYear: Int\n  grantInstitution: String\n  grantMechanism: String\n  fulltext: String\n}\n\ninput YearRange {\n  start: Int!\n  end: Int!\n}\n\ninput Sort {\n  field: String!\n  ascending: Boolean\n}\n\ninput Filter {\n  limit: Int\n  subd_id: [Int!]\n  showMultidisciplinary: Boolean\n  showUnmapped: Boolean\n  sort: [Sort!]\n  year: YearRange\n\n  fulltext: [String!]\n  researchClassification: [String!]\n  sessionYear: YearRange\n  institution: [String!]\n  mechanism: [String!]\n  journalName: [String!]\n}\n"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(177),i={Query:{getPublications:function(e,t,n,i){return Object(r.b)(n.database,t.filter)},getSubdisciplines:function(e,t,n,i){return Object(r.c)(n.database,t.filter)},getDistinct:function(e,t,n,i){return Object(r.a)(n.database,t.fieldName,t.filter)}}}},function(e,t,n){"use strict";t.b=function(e,t){return void 0===t&&(t={}),i(this,void 0,void 0,function(){var n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,c(e,t)];case 1:return n=o.sent(),r=n.length,t.limit&&t.limit>0?(t=Object.assign({},t,{limit:0}),[4,c(e,t,["COUNT(*) AS total"])]):[3,3];case 2:i=o.sent()[0],r=i.total||i["COUNT(*) AS total"]||0,o.label=3;case 3:return[2,{results:n,pageInfo:{totalCount:r}}]}})})},t.c=function(e,t){return void 0===t&&(t={}),i(this,void 0,void 0,function(){var n,r;return o(this,function(a){switch(a.label){case 0:return[4,c(e,t,["subdisciplines"])];case 1:return[4,function(e,t,n,r){return i(this,void 0,void 0,function(){var t,n,r,i,a,u,s,c;return o(this,function(o){for(t={},n=0,r=e;n<r.length;n++)for(i=0,a=r[n].subdisciplines||[];i<a.length;i++)c=(u=a[i]).weight,t.hasOwnProperty(s=u.subd_id)?t[s]+=c:t[s]=c;return[2,t]})})}(a.sent().map(function(e){return!t.showUnmapped||e.subdisciplines&&0!==e.subdisciplines.length?t.showMultidisciplinary&&e.subdisciplines&&e.subdisciplines.length>1?{subdisciplines:[{subd_id:s,weight:1}]}:e:{subdisciplines:[{subd_id:u,weight:1}]}}))];case 2:return n=a.sent(),[2,{results:r=Object.entries(n).map(function(e){return{subd_id:e[0],weight:e[1]}}),pageInfo:{totalCount:r.length}}]}})})},t.a=function(e,t,n){return void 0===n&&(n={}),i(this,void 0,void 0,function(){var r,i,a;return o(this,function(o){switch(o.label){case 0:return[4,c(e,n,[t])];case 1:return r=o.sent(),i={},a=[],r.forEach(function(e){var n=e[t];"string"==typeof n||n instanceof String||(n=JSON.stringify(n)),i.hasOwnProperty(n)?i[n]++:(i[n]=1,a.push(n))}),[2,{results:a,pageInfo:{totalCount:a.length}}]}})})};var r=n(33),i=(n.n(r),this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})}),o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=/[|\\{}()[\]^$+*?.]/g,u=-1,s=-2;function c(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,function(){var i,c,f,l,p,d,h,y,v,m,_;return o(this,function(o){switch(o.label){case 0:return[4,e.get()];case 1:return i=o.sent(),c=i.table("publication").query("select",n),t.subd_id&&t.subd_id.length>0&&(c=i.table("publication").query("select")),f=[],l=function(e,t){return 1===t.length?[e,"=",t[0]]:[e,"IN",t]},t.journalName&&(f.length>0&&f.push("AND"),f.push(l("journalName",t.journalName))),t.mechanism&&(f.length>0&&f.push("AND"),f.push(l("grantMechanism",t.mechanism))),t.institution&&(f.length>0&&f.push("AND"),f.push(l("grantInstitution",t.institution))),t.year&&(f.length>0&&f.push("AND"),t.year.start===t.year.end?f.push(["year","=",t.year.start]):(f.push(["year",">=",t.year.start]),f.push("AND"),f.push(["year","<=",t.year.end]))),t.sessionYear&&(f.length>0&&f.push("AND"),t.sessionYear.start===t.sessionYear.end?f.push(["grantYear","=",t.sessionYear.start]):(f.push(["grantYear",">=",t.sessionYear.start]),f.push("AND"),f.push(["grantYear","<=",t.sessionYear.end]))),t.researchClassification&&(f.length>0&&f.push("AND"),f.push(["grantClasses","INTERSECT",t.researchClassification])),t.fulltext&&(f.length>0&&f.push("AND"),p=t.fulltext.map(function(e){return function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(a,"\\$&")}(e)}).join("|").toLowerCase(),f.push(["fulltext","REGEX",p])),f.length>0&&(c=c.where(1===f.length?f[0]:f)),t.sort&&t.sort.length>0&&((d={})[t.sort[0].field]=1==(!0===t.sort[0].ascending)?"asc":"desc",c=c.orderBy(d)),t.subd_id&&t.subd_id.length>0?(y=-1!==(h=t.subd_id||[]).indexOf(s),v=-1!==h.indexOf(u),m={},h.forEach(function(e){return m[e]=!0}),[4,c.exec()]):[3,3];case 2:return _=(_=o.sent()).filter(function(e){var t=e.subdisciplines||[];return!!(y&&t.length>1)||!(!v||0!=t.length)||t.some(function(e){return m[e.subd_id]})}),t.limit&&t.limit>0&&(_=_.slice(0,t.limit)),c=Object(r.nSQL)(_).query("select",n),[3,4];case 3:t.limit&&t.limit>0&&(c=c.limit(t.limit)),o.label=4;case 4:return[4,c.exec()];case 5:return[2,o.sent()]}})})}},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o={affectedRowPKS:[],affectedRows:[]},a=function(e,t){1!==e._db.plugins.length||e._db.hasAnyEvents?i.fastCHAIN(e._db.plugins,function(t,n,r){t.doExec?t.doExec(e._query,function(t){e._query=t||e._query,r()}):r()}).then(function(){if(t(e._db.hasPK[e._query.table]?e._query.result:e._query.result.map(function(e){return r({},e,{_id_:void 0})})),e._db.hasAnyEvents||e._db.pluginHasDidExec){var n=function(){switch(e._query.action){case"select":return[e._query.action];case"delete":case"upsert":case"drop":return[e._query.action,"change"];default:return[]}}(),a=e._query.result&&e._query.result.length,u={table:e._query.table,query:e._query,time:Date.now(),result:e._query.result,notes:[],types:n,actionOrView:e._AV,transactionID:e._query.transaction?e._query.queryID:void 0,affectedRowPKS:a?(e._query.result[0]||o).affectedRowPKS:[],affectedRows:a?(e._query.result[0]||o).affectedRows:[]};i.fastCHAIN(e._db.plugins,function(e,t,n){e.didExec?e.didExec(u,function(e){u=e,n()}):n()}).then(function(){e._db.triggerEvent(u)})}}):e._db.plugins[0].doExec(e._query,function(n){e._query=n,t(e._db.hasPK[e._query.table]?e._query.result:e._query.result.map(function(e){return r({},e,{_id_:void 0})}))})},u={};t._NanoSQLQuery=function(){function e(e,t,n,r,i){this._db=e,this._AV=i||"",this._query={table:t,comments:[],state:"pending",queryID:Date.now()+"."+this._db.fastRand(),action:n,actionArgs:r,result:[]}}return e.prototype.where=function(e){return this._query.where=e,this},e.prototype.range=function(e,t){return this._query.range=[e,t],this},e.prototype.on=function(e){return this._query.on=e,this},e.prototype.debounce=function(e){return this._query.debounce=e||250,this},e.prototype.orm=function(e){return this._query.orm=e,this},e.prototype.orderBy=function(e){return this._query.orderBy=e,this},e.prototype.groupBy=function(e){return this._query.groupBy=e,this},e.prototype.having=function(e){return e.length&&Array.isArray(e)||(this._error="Having condition requires an array!"),this._query.having=e,this},e.prototype.join=function(e){if(Array.isArray(this._query.table))throw Error("Can't JOIN with instance table!");return e.table&&e.type||(this._error="Join command requires table and type arguments!"),this._query.join=e,this},e.prototype.limit=function(e){return this._query.limit=e,this},e.prototype.trieSearch=function(e,t){return this._query.trie={column:e,search:t},this},e.prototype.comment=function(e){return this._query.comments.push(e),this},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._query.extend=e,this},e.prototype.offset=function(e){return this._query.offset=e,this},e.prototype.toCSV=function(e){var t=this,n=this;return new i.Promise(function(r,i){n.exec().then(function(i){var o=[];i.length||r("",n);var a=[];"string"==typeof t._query.table?a=t._db.dataModels[t._query.table].map(function(e){return e.key}):i.forEach(function(e){var t=Object.keys(e);t.length>a.length&&(a=t)}),e&&o.push(a.join(",")),i.forEach(function(e){o.push(a.map(function(t){return null===e[t]||void 0===e[t]?"":"string"==typeof e[t]?'"'+e[t].replace(/\"/g,'""')+'"':"object"==typeof e[t]?'"'+JSON.stringify(e[t]).replace(/\"/g,"'")+'"':e[t]}).join(","))}),r(o.join("\r\n"),n)})})},e.prototype.manualExec=function(e){return this._query=r({},this._query,e),this.exec()},e.prototype.denormalizationQuery=function(e){var t=this;return new i.Promise(function(n,r){switch(e){case"tocolumn":var o={};t._query.actionArgs&&t._query.actionArgs.length?Object.keys(t._db.toColRules[t._query.table]).filter(function(e){return-1!==t._query.actionArgs.indexOf(e)}).forEach(function(e){o[e]=t._db.toColRules[t._query.table][e]}):o=t._db.toColRules[t._query.table],t._query.action="select",t._query.actionArgs=void 0;var u=Object.keys(o);a(t,function(e){i.fastCHAIN(e,function(e,n,r){Object.isFrozen(e)&&(e=i._assign(e)),i.fastALL(u,function(n,r,i){var a=t._db.toColFns[t._query.table][o[n][0]];a?a.apply(null,[e[n],function(t){e[n]=t,i()}].concat(o[n].filter(function(e,t){return t>0}).map(function(t){return e[t]}))):i()}).then(function(){t._db.query("upsert",e).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n({msg:e.length+" rows modified"})})});break;case"torow":var s=(t._query.actionArgs||"").replace("()","");if(!t._db.toRowFns[t._query.table]||!t._db.toRowFns[t._query.table][s])return void r("No function "+t._query.actionArgs+" found to perform updates!");var c=t._db.toRowFns[t._query.table][s],f=t._db.tablePKs[t._query.table];if(t._query.on&&t._query.on.length)return void i.fastALL(t._query.on,function(e,n,r){c(e,{},function(n){n[f]=e,t._db.query("upsert",n).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n([{msg:(t._query.on||[]).length+" rows modified or added."}])});t._query.action="select",t._query.actionArgs=void 0,a(t,function(e){i.fastALL(e,function(e,n,r){Object.isFrozen(e)&&(e=i._assign(e)),c(e[f],e,function(n){n[f]=e[f],t._db.query("upsert",n).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n({msg:e.length+" rows modified"})})})}})},e.prototype.exec=function(){var e=this;if("*"!==this._query.table){var t=this,n=this._query.action.toLowerCase();if(["tocolumn","torow"].indexOf(n)>-1){if(this._query.debounce){var r=i.hash(JSON.stringify([this._query.table,n,this._query.actionArgs,this._query.on,this._query.where].filter(function(e){return e})));return new i.Promise(function(t,i){u[r]&&clearTimeout(u[r]),u[r]=setTimeout(function(){e.denormalizationQuery(n).then(t)},e._query.debounce)})}return this.denormalizationQuery(n)}if(!(["select","upsert","delete","drop","show tables","describe"].indexOf(n)>-1))throw Error("nSQL: No valid database action!");var o=this._query.actionArgs||("select"===n?[]:{}),s=[];return"upsert"===n?(s=Array.isArray(o)?o:[o]).forEach(function(t,n){e._db.rowFilters[e._query.table]&&(s[n]=e._db.rowFilters[e._query.table](s[n]));for(var r={},o=e._db.dataModels[e._query.table],a=0;a<o.length;)void 0!==s[n][o[a].key]&&(r[o[a].key]=i.cast(o[a].type,s[n][o[a].key])),a++;if(e._db.skipPurge[e._query.table]){var u=o.map(function(e){return e.key});Object.keys(s[n]).filter(function(e){return-1===u.indexOf(e)}).forEach(function(e){r[e]=s[n][e]})}s[n]=r}):s=this._query.actionArgs,this._query.action=n,this._query.actionArgs=this._query.actionArgs?s:void 0,new i.Promise(function(n,r){Array.isArray(e._query.table)?e._db.iB.doExec&&e._db.iB.doExec(e._query,function(e){n(e.result)}):(!0!==t._db.isConnected&&0!==(t._query.table||"").indexOf("_")&&(t._error="nSQL: Database not connected, can't do a query!"),t._db.plugins.length||(t._error="nSQL: No plugins, nothing to do!"),t._error?r(t._error):e._db.queryMod?e._db.queryMod(e._query,function(t){e._query=t,a(e,n)}):a(e,n))})}},e}()},function(e,t,n){"use strict";e.exports=function(e){var t,n,f,l,p,d="",h=0;function y(e){d+=e}function v(t){return e.charAt(h+t).toUpperCase()}function m(e){return function(){return v(e)}}if(!(e=String(e||"")))return"";for(n=m(1),f=m(0),l=m(-1);!s(f());){if(!f())return"";h++}switch(f()){case"A":"E"===n()?(y("E"),h+=2):(y("A"),h++);break;case"G":case"K":case"P":"N"===n()&&(y("N"),h+=2);break;case"W":"R"===n()?(y(n()),h+=2):"H"===n()?(y(f()),h+=2):a(n())&&(y("W"),h+=2);break;case"X":y("S"),h++;break;case"E":case"I":case"O":case"U":y(f()),h++}for(;f();)if(t=1,!s(f())||f()===l()&&"C"!==f())h+=t;else{switch(f()){case"B":"M"!==l()&&y("B");break;case"C":o(n())?"I"===n()&&"A"===v(2)?y(r):"S"!==l()&&y("S"):"H"===n()?(y(r),t++):y("K");break;case"D":"G"===n()&&o(v(2))?(y("J"),t++):y("T");break;case"G":"H"===n()?"B"===(p=c(p=v(-3)))||"D"===p||"H"===p||"H"===v(-4)||(y("F"),t++):"N"===n()?!s(v(2))||"E"===v(2)&&"D"===v(3)||y("K"):o(n())&&"G"!==l()?y("J"):y("K");break;case"H":a(n())&&!u(l())&&y("H");break;case"K":"C"!==l()&&y("K");break;case"P":"H"===n()?y("F"):y("P");break;case"Q":y("K");break;case"S":"I"!==n()||"O"!==v(2)&&"A"!==v(2)?"H"===n()?(y(r),t++):y("S"):y(r);break;case"T":"I"!==n()||"O"!==v(2)&&"A"!==v(2)?"H"===n()?(y(i),t++):"C"===n()&&"H"===v(2)||y("T"):y(r);break;case"V":y("F");break;case"W":a(n())&&y("W");break;case"X":y("KS");break;case"Y":a(n())&&y("Y");break;case"Z":y("S");break;case"F":case"J":case"L":case"M":case"N":case"R":y(f())}h+=t}return d};var r="X",i="0";function o(e){return"E"===(e=c(e))||"I"===e||"Y"===e}function a(e){return"A"===(e=c(e))||"E"===e||"I"===e||"O"===e||"U"===e}function u(e){return"C"===(e=c(e))||"G"===e||"P"===e||"S"===e||"T"===e}function s(e){var t=function(e){return c(e).charCodeAt(0)}(e);return t>=65&&t<=90}function c(e){return String(e).charAt(0).toUpperCase()}},function(e,t,n){"use strict";e.exports=function(e){var t,n;return(e=String(e).toLowerCase()).length<3?e:(e.charCodeAt(0)===r&&(t=!0,e="Y"+e.substr(1)),b.test(e)?e=e.substr(0,e.length-2):_.test(e)&&(e=e.substr(0,e.length-1)),(n=m.exec(e))?a.test(n[1])&&(e=e.substr(0,e.length-1)):(n=y.exec(e))&&c.test(n[1])&&(v.test(e=n[1])?e+="e":g.test(e)?e=e.substr(0,e.length-1):f.test(e)&&(e+="e")),(n=d.exec(e))&&c.test(n[1])&&(e=n[1]+"i"),(n=T.exec(e))&&a.test(n[1])&&(e=n[1]+i[n[2]]),(n=E.exec(e))&&a.test(n[1])&&(e=n[1]+o[n[2]]),(n=O.exec(e))?s.test(n[1])&&(e=n[1]):(n=h.exec(e))&&s.test(n[1])&&(e=n[1]),(n=p.exec(e))&&(s.test(n[1])||u.test(n[1])&&!f.test(n[1]))&&(e=n[1]),l.test(e)&&s.test(e)&&(e=e.substr(0,e.length-1)),t&&(e="y"+e.substr(1)),e)};var r="y".charCodeAt(0),i={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},o={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},a=new RegExp("^([^aeiou][^aeiouy]*)?([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)"),u=new RegExp("^([^aeiou][^aeiouy]*)?([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)([aeiouy][aeiou]*)?$"),s=new RegExp("^([^aeiou][^aeiouy]*)?(([aeiouy][aeiou]*)([^aeiou][^aeiouy]*)){2,}"),c=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),f=new RegExp("^([^aeiou][^aeiouy]*)[aeiouy][^aeiouwxy]$"),l=/ll$/,p=/^(.+?)e$/,d=/^(.+?)y$/,h=/^(.+?(s|t))(ion)$/,y=/^(.+?)(ed|ing)$/,v=/(at|bl|iz)$/,m=/^(.+?)eed$/,_=/^.+?[^s]s$/,b=/^.+?(ss|i)es$/,g=/([^aeiouylsz])\1$/,T=new RegExp("^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$"),E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,O=new RegExp("^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$")},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t._NanoSQLTransactionQuery=function(){function e(e,t,n,r,i){this.thisQ={state:"pending",table:n,action:e,actionArgs:t,queryID:i,transaction:!0,result:[],comments:[]},this._queries=r}return e.prototype.where=function(e){return this.thisQ.where=e,this},e.prototype.exec=function(){this._queries.push(this.thisQ)},e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.eventListeners={}}return e.prototype.on=function(e,t){this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},e.prototype.off=function(e,t){var n=this;this.eventListeners[e]&&this.eventListeners[e].length&&this.eventListeners[e].forEach(function(r,i){r===t&&n.eventListeners[e].splice(i,1)})},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.eventListeners[e]&&this.eventListeners[e].forEach(function(e){return e.apply(void 0,t)})},e}();t.ReallySmallEvents=n,t.RSE=new n},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=n(184),a=n(6),u=n(186),s=n(19);t.NanoSQLDefaultBackend=function(){function e(){this._queryPool=[],this._queryPtr=0}return e.prototype.willConnect=function(e,t){this.parent=e.parent,this._store=new u._NanoSQLStorage(e.parent,r({},e.config)),this._store.init(e.models,function(n){e.models=r({},e.models,n),t(e)})},e.prototype.doExec=function(e,t){e.state="complete",new o._NanoSQLStorageQuery(this._store).doQuery(e,t)},e.prototype.dumpTables=function(e){var t=this;return new a.Promise(function(n,r){var i={},o=e&&e.length?e:Object.keys(t._store.tableInfo);a.fastALL(o,function(e,n,r){i[e]=[],t._store.adapters[0].adapter.rangeRead(e,function(t,n,r){i[e].push(t),r()},r)}).then(function(){n(i)})})},e.prototype.importTables=function(e,t){var n=this;return new a.Promise(function(r,i){var o=0,u=0;Object.keys(e).forEach(function(t){o+=(e[t]||[]).length||0}),a.fastALL(Object.keys(e),function(r,i,a){var c=n._store.tableInfo[r]._pk,f=(e[r]||[]).length||0,l=0,p=function(){if(l<f){var i=e[r][l];l++,u++,i[c]?n._store.adapterWrite(r,i[c],i,function(){t(Math.round((u+1)/o*1e4)/100),l%500==0?s.setFast(p):p()}):(t(Math.round((u+1)/o*1e4)/100),l%500==0?s.setFast(p):p())}else a()};p()}).then(function(){r()})})},e.prototype.willDisconnect=function(e){a.fastALL(this._store.adapters||[],function(e,t,n){e.disconnect?e.disconnect(n):n()}).then(e)},e.prototype.extend=function(e,t,n){var r=this;switch(t[0]){case"clone":var o=new i.NanoSQLInstance;Object.keys(this.parent.dataModels).forEach(function(e){o.table(e).model(r.parent.dataModels[e],[],!0)}),o.config({id:this._store._id,mode:t[1]}).connect().then(function(){a.fastCHAIN(Object.keys(r.parent.dataModels),function(e,t,n){console.log("Importing "+e+"..."),r.parent.rawDump([e]).then(function(e){return o.rawImport(e)}).then(n)}).then(function(){e(t,[])})});break;case"flush":var u=[];a.fastCHAIN(u=t[1]?[t[1]]:this.parent.tableNames,function(e,t,n){r._store._drop(e,n)}).then(function(){e(t,u)});break;case"get_adapter":e(t,t[1]?[this._store.adapters[t[1]].adapter]:[this._store.adapters[0].adapter]);break;case"idx.length":case"idx":var s=t[1];Object.keys(this._store.tableInfo).indexOf(s)>-1?this._store.adapters[0].adapter.getIndex(s,"idx"!==t[0],function(n){e(t,n)}):e(t,[]);break;case"rebuild_search":var c=t[1]?[t[1]]:Object.keys(r._store.tableInfo),f=t[2];a.fastALL(c,function(e,t,n){var i=0,o=0;a.fastALL(c,function(e,t,n){r._store.adapters[0].adapter.getIndex(e,!0,function(e){i+=e,n()})}).then(function(){var t=Object.keys(r._store.tableInfo[e]._searchColumns).map(function(t){return"_"+e+"_search_tokens_"+t});t=(t=t.concat(Object.keys(r._store.tableInfo[e]._searchColumns).map(function(t){return"_"+e+"_search_"+t}))).concat(Object.keys(r._store.tableInfo[e]._searchColumns).map(function(t){return"_"+e+"_search_fuzzy_"+t})),a.fastALL(t,function(e,t,n){r._store.adapterDrop(e,n)}).then(function(){r._store.adapters[0].adapter.rangeRead(e,function(t,n,a){r.parent.query("upsert",t).comment("_rebuild_search_index_").manualExec({table:e}).then(function(){f&&f(Math.round((o+1)/i*1e4)/100),o++,a()})},n)})})}).then(function(){e(t,[])});break;case"rebuild_idx":t[1]?this._store.rebuildIndexes(t[1],function(n){e(t,[n])}):a.fastALL(Object.keys(this._store.tableInfo),function(e,t,n){r._store.rebuildIndexes(e,n)}).then(function(n){e(t,n)});break;default:e(t,n)}},e}()},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=n(6),a=n(185),u=n(101),s={select:function(e,t){e._select(t)},upsert:function(e,t){e._upsert(t)},delete:function(e,t){e._delete(t)},drop:function(e,t){e._drop(t)},"show tables":function(e,t){e._query.result=Object.keys(e._store.tableInfo),t(e._query)},describe:function(e,t){"string"==typeof e._query.table?(e._query.result=o._assign(e._store.models[e._query.table]),t(e._query)):t(e._query)}};t._NanoSQLStorageQuery=function(){function e(e){this._store=e}return e.prototype.doQuery=function(e,t){this._query=e,this._isInstanceTable=Array.isArray(e.table),s[e.action](this,t)},e.prototype._getRows=function(e){this._isInstanceTable?new l(this._query,this._store._nsql).getRows(e):new f(this,this._query,this._store,function(t){e(t.filter(function(e){return e}))})},e.prototype._select=function(e){var t=this;this._hash=o.hash(JSON.stringify(r({},this._query,{queryID:null})));var n=!this._query.join&&!this._query.orm&&this._store._doCache&&!Array.isArray(this._query.table);this._getRows(function(r){["having","orderBy","offset","limit","actionArgs","groupBy","orm","join"].filter(function(e){return t._query[e]}).length?new c(t._query,t._store)._executeQueryArguments(r,function(i){n&&(t._store._cache[t._query.table][t._hash]=r),t._query.result=i,e(t._query)}):(n&&(t._store._cache[t._query.table][t._hash]=r),t._query.result=r,e(t._query))})},e.prototype._updateORMRows=function(e,t,n,r,i){var a=this;this._store._read(e._fromTable,t,function(t){o.fastALL(t,function(t,i,u){var s=Object.isFrozen(t)?o._assign(t):t;if("array"===e._fromType){s[e._fromColumn]=s[e._fromColumn]||[];var c=s[e._fromColumn].indexOf(r);n?-1===c?s[e._fromColumn].push(r):u():-1!==c?s[e._fromColumn].splice(c,1):u(),s[e._fromColumn].sort()}else s[e._fromColumn]=n?r:null;a._store._nsql.query("upsert",s).comment("_orm_skip").manualExec({table:e._fromTable}).then(u)}).then(i)})},e.prototype._syncORM=function(e,t,n,r){var i=this;if(this._store._hasORM){var a=this._store._relToTable[this._query.table];if(-1===this._query.comments.indexOf("_orm_skip"))if(a&&a.length){for(var u=Math.max(t.length,n.length),s=[];u--;)s.push(" ");o.fastCHAIN(s,function(r,u,s){o.fastALL(a,function(r,a,s){var c,f;switch(e){case"del":var l=t[u][i._store.tableInfo[i._query.table]._pk],p="array"===r._thisType?t[u][r._thisColumn]||[]:[t[u][r._thisColumn]].filter(function(e){return e});i._updateORMRows(r,p,!1,l,s);break;case"add":var d=n[u][i._store.tableInfo[i._query.table]._pk];if(t[u])if(c=t[u][r._thisColumn],f=n[u][r._thisColumn],Array.isArray(c)&&Array.isArray(f)?c.length===f.length&&c.filter(function(e,t){return e!==f[t]}).length>0:c===f)s();else if("array"===r._thisType){var h=(n[u][r._thisColumn]||[]).filter(function(e){return-1===(t[u][r._thisColumn]||[]).indexOf(e)}),y=(t[u][r._thisColumn]||[]).filter(function(e){return-1===(n[u][r._thisColumn]||[]).indexOf(e)});o.fastALL([h,y],function(e,t,n){i._updateORMRows(r,e,0===t,d,n)}).then(s)}else{var v=function(){null!==n[u][r._thisColumn]&&void 0!==n[u][r._thisColumn]?i._updateORMRows(r,[n[u][r._thisColumn]],!0,d,s):s()};null!==t[u][r._thisColumn]&&void 0!==t[u][r._thisColumn]?i._updateORMRows(r,[t[u][r._thisColumn]],!1,d,v):v()}else{var m="array"===r._thisType?n[u][r._thisColumn]||[]:[n[u][r._thisColumn]].filter(function(e){return e});m&&m.length?i._updateORMRows(r,m,!0,d,s):s()}}}).then(s)}).then(r)}else r();else r()}else r()},e.prototype._tokenizer=function(e,t){var n=this._store.tableInfo[this._query.table]._searchColumns[e];if(!n)return[];var r=this._store._nsql.getConfig().tokenizer;if(r){var i=r(this._query.table,e,n,t);if(!1!==i)return i}return o.tokenizer(this._query.table,e,n,t)},e.prototype._clearFromSearchIndex=function(e,t,n){var r=this,i=this._query.table,a=Object.keys(this._store.tableInfo[i]._searchColumns);if(0!==a.length){var u="_"+i+"_search_tokens_";o.fastALL(a,function(n,a,s){var c={};r._tokenizer(n,t[n]).forEach(function(e){c[e.w]=e.o}),r._store.adapters[0].adapter.read(u+n,e,function(t){t?o.fastALL(["_search_","_search_fuzzy_"],function(a,u,s){var f={};t.tokens.forEach(function(e){f[e.w]||(0===u&&(f[e.w]=!0),1===u&&(f[c[e.w]]=!0))}),o.fastALL(Object.keys(f),function(t,u,s){t?r._store.adapters[0].adapter.read("_"+i+a+n,t,function(u){u?(Object.isFrozen(u)&&(u=o._assign(u)),u.rows=u.rows.filter(function(t){return t.id!==e}),r._store.adapterWrite("_"+i+a+n,t,u,s)):s()}):s()}).then(s)}).then(function(){r._store.adapters[0].adapter.delete(u+n,e,s)}):s()})}).then(n)}else n()},e.prototype._updateSearchIndex=function(e,t,n){var r=this,i=this._query.table,a=Object.keys(this._store.tableInfo[i]._searchColumns);if(0!==a.length&&o.intersect(Object.keys(t),a)){var u="_"+i+"_search_tokens_";o.fastALL(a,function(n,a,s){-1===[void 0,null].indexOf(t[n])?r._store.adapters[0].adapter.read(u+n,e,function(a){var c=a||{id:e,hash:"1505",tokens:[]},f=o.hash(t[n]);if(f!==c.hash){var l={},p=r._tokenizer(n,t[n]),d=c.tokens.map(function(e){return e.i+"-"+e.w}),h=p.map(function(e){return e.i+"-"+e.w}),y=h.filter(function(e){return-1===d.indexOf(e)}),v=d.filter(function(e){return-1===h.indexOf(e)});p.forEach(function(e){l[e.w]=e.o}),o.fastCHAIN([v,y],function(t,a,u){var s={};t.forEach(function(e){var t=e.split(/-(.+)/),n={w:t[1],i:parseInt(t[0])};s[n.w]||(s[n.w]=[]),s[n.w].push(n)}),o.fastALL(Object.keys(s),function(t,u,c){o.fastALL(["_search_","_search_fuzzy_"],function(u,c,f){var d=0===c?t:l[t];d?r._store.adapters[0].adapter.read("_"+i+u+n,d,function(d){var h=d||{wrd:t,rows:[]};switch(Object.isFrozen(h)&&(h=o._assign(h)),a){case 0:for(var y=h.rows.length;y--;)h.rows[y].id===e&&h.rows.splice(y,1);break;case 1:h.rows.push({id:e,i:s[t].map(function(e){return e.i}),l:p.length})}r._store.adapterWrite("_"+i+u+n,0===c?t:l[t],h,f)}):f()}).then(c)}).then(u)}).then(function(){r._store.adapterWrite(u+n,e,{id:e,hash:f,tokens:p.map(function(e){return{w:e.w,i:e.i}})},s)})}else s()}):s()}).then(n)}else n()},e.prototype._updateRowViews=function(e,t,n){var r=this;this._store._hasViews?null!==e&&void 0!==e?o.fastALL(Object.keys(this._store.tableInfo[this._query.table]._views),function(n,i,o){var a=r._store.tableInfo[r._query.table]._views[n].pkColumn;if(void 0!==e[a]){if(e[a]!==t[a])return null===e[a]?(r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(t){e[t.thisColumn]=null}),void o()):void r._store._read(n,[e[a]],function(t){if(!t.length&&"LIVE"===r._store.tableInfo[r._query.table]._views[n].mode)return r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(t){e[t.thisColumn]=null}),void o();r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(n){e[n.thisColumn]=t[0][n.otherColumn]}),o()});o()}else o()}).then(function(){n(e)}):n(e||{}):n(e)},e.prototype._updateRemoteViews=function(e,t,n){var r=this,i=this._store.tableInfo[this._query.table]._pk;o.fastALL(e,function(e,n,a){o.fastALL(r._store.tableInfo[r._query.table]._viewTables,function(n,a,u){t&&"GHOST"===r._store.tableInfo[n.table]._views[r._query.table].mode?u():r._store._secondaryIndexRead(n.table,n.column,e[i],function(i){if(i.length){var a=r._store.tableInfo[n.table]._views[r._query.table].columns,s=r._store.tableInfo[n.table]._views[r._query.table].pkColumn;o.fastALL(i,function(i,o,u){var c=a.length,f=!1;if(t){if("LIVE"===r._store.tableInfo[n.table]._views[r._query.table].mode)for(f=!0,i[s]=null;c--;)i[a[c].otherColumn]=null}else for(;c--;)i[a[c].otherColumn]!==e[a[c].thisColumn]&&(i[a[c].otherColumn]=e[a[c].thisColumn],f=!0);f?r._store.adapterWrite(n.table,i[r._store.tableInfo[n.table]._pk],i,u):u()}).then(u)}else u()})}).then(a)}).then(n)},e.prototype._doAfterQuery=function(e,t,n){var r=this;this._store._hasViews&&this._store.tableInfo[this._query.table]._viewTables.length?this._updateRemoteViews(e,t,function(){n(r._query)}):n(this._query)},e.prototype._upsert=function(e){var t=this,n=this._store.tableInfo[this._query.table]._pk;if(this._isInstanceTable)this._getRows(function(n){t._query.result=t._query.table.map(function(e){return-1===n.indexOf(e)?e:r({},t._query.actionArgs,e)}),e(t._query)});else if(this._query.where)this._getRows(function(r){if(r.length){t._store._cache[t._query.table]={};var i=[];o.fastCHAIN(t._query.actionArgs,function(e,a,u){o.fastCHAIN(r,function(r,i,o){t._updateSearchIndex(r[n],r,function(){t._updateRowViews(e||{},r,function(e){t._store.tableInfo[t._query.table]._hasDefaults&&Object.keys(t._store.tableInfo[t._query.table]._defaults).forEach(function(n){void 0===r[n]&&void 0===e[n]&&(e[n]=t._store.tableInfo[t._query.table]._defaults[n])}),t._store._write(t._query.table,r[n],r,e,o)})})}).then(function(e){i=e,u()})}).then(function(){var o=i.map(function(e){return e[n]});t._query.result=[{msg:i.length+" row(s) modfied.",affectedRowPKS:o,affectedRows:i}],t._syncORM("add",r,i,function(){t._doAfterQuery(i,!1,e)})})}else t._query.result=[{msg:"0 row(s) modfied.",affectedRowPKS:[],affectedRows:[]}],e(t._query)});else{var i=this._query.actionArgs||[];this._store._cache[this._query.table]={};var a=[],u=[];o.fastCHAIN(i,function(e,r,i){var o=function(r){t._updateRowViews(e,r,function(o){t._store.tableInfo[t._query.table]._hasDefaults&&Object.keys(t._store.tableInfo[t._query.table]._defaults).forEach(function(e){void 0===(r||{})[e]&&void 0===o[e]&&(o[e]=t._store.tableInfo[t._query.table]._defaults[e])}),t._store._write(t._query.table,e[n],r,o,function(e){t._updateSearchIndex(e[n],e,function(){a.push(r||{}),u.push(e),i()})})})};void 0!==e[n]&&-1===t._query.comments.indexOf("_rebuild_search_index_")?t._store._read(t._query.table,[e[n]],function(e){o(e.length?e[0]:null)}):o(null)}).then(function(){t._query.result=[{msg:u.length+" row(s) inserted.",affectedRowPKS:u.map(function(e){return e[n]}),affectedRows:u}],t._store._hasORM?t._syncORM("add",a,u,function(){t._doAfterQuery(u,!1,e)}):t._doAfterQuery(u,!1,e)})}},e.prototype._delete=function(e){var t=this;this._isInstanceTable?this._query.where?this._getRows(function(n){t._query.result=t._query.table.filter(function(e){return-1===n.indexOf(e)}),e(t._query)}):(this._query.result=[],e(this._query)):this._query.where?this._getRows(function(n){(n=n.filter(function(e){return e})).length?o.fastALL(n,function(e,n,r){t._clearFromSearchIndex(e[t._store.tableInfo[t._query.table]._pk],e,function(){t._store._delete(t._query.table,e[t._store.tableInfo[t._query.table]._pk],r)})}).then(function(r){t._store._cache[t._query.table]={};var i=n.map(function(e){return e[t._store.tableInfo[t._query.table]._pk]});t._query.result=[{msg:n.length+" row(s) deleted.",affectedRowPKS:i,affectedRows:n}],t._syncORM("del",n,[],function(){t._doAfterQuery(n,!0,e)})}):(t._query.result=[{msg:"0 row(s) deleted.",affectedRowPKS:[],affectedRows:[]}],e(t._query))}):this._drop(e)},e.prototype._drop=function(e){var t=this;if(this._isInstanceTable)return this._query.result=[],void e(this._query);this._store._rangeRead(this._query.table,void 0,void 0,!1,function(n){t._store._cache[t._query.table]={},t._store._drop(t._query.table,function(){t._query.result=[{msg:"'"+t._query.table+"' table dropped.",affectedRowPKS:n.map(function(e){return e[t._store.tableInfo[t._query.table]._pk]}),affectedRows:n}],t._syncORM("del",n,[],function(){t._doAfterQuery(n,!0,e)})})})},e}();var c=function(){function e(e,t){this.q=e,this.s=t,this._groupByColumns=[]}return e.prototype._join=function(e,t){var n=this;if(this.q.join){var r={};"cross"!==this.q.join.type&&this.q.join.where&&(r={_left:this.q.join.where[0],_check:this.q.join.where[1],_right:this.q.join.where[2]}),this._doJoin(this.q.join.type,this.q.table,this.q.join.table,r,function(e){t(n.q.where?e.filter(function(e,t){return Array.isArray(n.q.where)?p(e,n.q.where||[],t,!0):n.q.where(e,t)}):n.q.range?e.filter(function(e,t){return n.q.range&&n.q.range[0]>=t&&n.q.range[0]+n.q.range[1]-1<=t}):e)})}else t(e)},e.prototype._groupByKey=function(e,t){return e.reduce(function(e,n){return-1!==n.indexOf(".length")?e+"."+String((t[n.replace(".length","")]||[]).length):e+"."+String(t[n])},"").slice(1)},e.prototype._groupBy=function(e){var t=this,n=this.q.groupBy||{},r=e.sort(function(e,r){return t._sortObj(e,r,n,!0)});return r.forEach(function(e,r){var i=Object.keys(n).map(function(t){return String(e[t])||""}).join(".");t._sortGroups||(t._sortGroups={}),t._sortGroups[i]||(t._sortGroups[i]=[]),t._sortGroups[i].push(r)}),r},e.prototype._having=function(e){var t=this;return e.filter(function(e,n){return Array.isArray(t.q.having)?p(e,t.q.having||[],n,!0):t.q.having(e,n)})},e.prototype._orderBy=function(e){var t=this;return e.sort(function(e,n){return t._sortObj(e,n,t.q.orderBy||{},!1)})},e.prototype._offset=function(e){var t=this;return e.filter(function(e,n){return!t.q.offset||n>=t.q.offset})},e.prototype._limit=function(e){var t=this;return e.filter(function(e,n){return!t.q.limit||n<t.q.limit})},e.prototype._orm=function(e,t){var n=this,r=this.q.orm?this.q.orm.map(function(e){return"string"==typeof e?{key:e,limit:5}:e}):[];o.fastALL(e,function(e,t,a){e=Object.isFrozen(e)?o._assign(e):e,o.fastALL(r,function(t,r,o){if("undefined"!=typeof e[t.key]){var a=n.s._columnsAreTables[n.q.table][t.key];a?n.s._nsql.query("select").where([n.s.tableInfo[a._toTable]._pk,"array"===a._thisType?"IN":"=",e[t.key]]).manualExec({table:a._toTable}).then(function(n){var r=i.nSQL().query("select",t.select);t.where&&r.where(t.where),void 0!==t.limit&&r.limit(t.limit),void 0!==t.offset&&r.offset(t.offset),t.orderBy&&r.orderBy(t.orderBy),t.groupBy&&r.groupBy(t.groupBy),r.manualExec({table:n}).then(function(r){e[t.key]=n.filter(function(e){return e}).length?"array"===a._thisType?r:r[0]:"array"===a._thisType?[]:void 0,o()})}):o()}else o()}).then(function(){a(e)})}).then(t)},e.prototype._doJoin=function(e,t,n,r,i){var o="left",a="right",u="outer",s=this,c=s.s.tableInfo[e===a?n:t],f=s.s.tableInfo[e===a?t:n],l=function(e,t){return[c,f].reduce(function(n,r,i){return r._keys.forEach(function(o){n[r._name+"."+o]=((0===i?e:t)||{})[o]}),n},{})},d=[],h=r&&r._right&&r._right.split(".").pop()||"",y={},v=[];s.s._read(c._name,function(t,n,i){var m=!1;s.s._read(f._name,function(n,i,o){var s;r&&"cross"!==e?p(((s={})[c._name]=t,s[f._name]=n,s),[r._left,r._check,e===a?t[h]:n[h]],0,!1)?(e===u&&(y[i]=!0),d.push(l(t,n)),m=!0):e===u&&(v[i]=n):(d.push(l(t,n)),m=!0),o(!1)},function(){!m&&[o,a,u].indexOf(e)>-1&&d.push(l(t,null)),i(!1)})},function(){if(e===u){for(var t=v.filter(function(e,t){return!y[t]}),n=0;n<t.length;)d.push(l(null,t[n])),n++;i(d)}else i(d)})},e.prototype._sortObj=function(e,t,n,r){return Object.keys(n).reduce(function(i,a){var u=r?o.objQuery(a,e):e[a],s=r?o.objQuery(a,t):t[a];return i||(u===s?0:(u>s?1:-1)*("desc"===n[a]?-1:1))},0)},e.prototype._mutateRows=function(e,t){var n=this,r=this.q.actionArgs,a={},u={};if(r&&r.length){var s=!1,c={};r.forEach(function(e){if(-1!==e.indexOf("(")){var t=(e.match(/^.*\(/g)||[""])[0].replace(/\(|\)/g,"").toUpperCase(),n=i.NanoSQLInstance.functions[t],r=1===e.split(" AS ").length?t:(e.split(" AS ").pop()||"").trim();if(!n)throw new Error("nSQL: '"+t+"' is not a valid function!");"A"===n.type&&(s=!0),c[e]={fn:n,key:r}}}),o.fastALL(r,function(t,r,i){if(t.indexOf("(")>-1){var f=(t.match(/\(.*\)/g)||[""])[0].replace(/\(|\)/g,"").split(",").map(function(e){return e.trim()});n._sortGroups&&s?o.fastALL(Object.keys(n._sortGroups),function(r,i,o){var a;u[r]||(u[r]={}),(a=c[t].fn).call.apply(a,[e.filter(function(e,t){return n._sortGroups[r].indexOf(t)>-1}),function(e){u[r][c[t].key]=e,o()},void 0!==n.q.join].concat(f))}).then(i):(l=c[t].fn).call.apply(l,[e,function(e){a[c[t].key]=e,i()},void 0!==n.q.join].concat(f))}else i();var l}).then(function(){var i=function(e,t,i){var a={};return r.forEach(function(r){var u=r.indexOf("(")>-1,s=u?c[r].fn.type:"";if(r.indexOf(" AS ")>-1){var f=r.split(" AS "),l=u?c[r].key:f[0].trim();a[f[1]]=u?"A"===s?i[l]:i[l][t]:o.objQuery(l,e,void 0!==n.q.join)}else l=u?c[r].key:r,a[r]=u?"A"===s?i[l]:i[l][t]:o.objQuery(l,e,void 0!==n.q.join)}),a};if(!e.length&&s){var f=[{}];return Object.keys(c).forEach(function(e){"undefined"!=typeof a[c[e].key]&&(f[0][e]=a[c[e].key])}),void t(f)}if(n._sortGroups&&s){var l=[];Object.keys(n._sortGroups).forEach(function(t){var r=e.filter(function(e,r){return n._sortGroups[t].indexOf(r)>-1}).filter(function(e,t){return t<1});r&&r.length&&l.push(i(r[0],0,u[t]))}),t(l)}else t(s?e.filter(function(e,t){return t<1}).map(function(e,t){return i(e,t,a)}):e.map(function(e,t){return i(e,t,a)}))})}else t(e)},e.prototype._executeQueryArguments=function(e,t){var n=this,r=function(){n.q.having&&(e=n._having(e)),n.q.orderBy&&(e=n._orderBy(e)),n.q.offset&&(e=n._offset(e)),n.q.limit&&(e=n._limit(e)),t(e)},i=function(){n.q.actionArgs&&n.q.actionArgs.length?n._mutateRows(e,function(t){e=t,r()}):r()},o=function(){n.q.groupBy&&(e=n._groupBy(e)),n.q.orm?n._orm(e,function(t){e=t,i()}):i()};this.q.join?this._join(e,function(t){e=t,o()}):o()},e}();t._MutateSelection=c;var f=function(){function e(e,t,n,r){var i=this;if(this.qu=e,this.q=t,this.s=n,this.q.join&&this.q.orm)throw new Error("nSQL: Cannot do a JOIN and ORM command at the same time!");if([this.q.where,this.q.range,this.q.trie].filter(function(e){return e}).length>1)throw new Error("nSQL: Can only have ONE of Trie, Range or Where!");if(this.q.join)r([]);else if(this.q.trie&&this.q.trie.column&&this.q.trie.search)this._selectByTrie(r);else if(this.q.range&&this.q.range.length)this._selectByRange(r);else if(this.q.where&&this.q.where.length&&Array.isArray(this.q.where))if("string"==typeof this.q.where[0]?0===this._isOptimizedWhere(this.q.where):0===(this.q.where||[]).reduce(function(e,t,n){return n%2==1?e:e+i._isOptimizedWhere(t)},0))this._selectByKeysOrSeach(this.q.where,r);else{var o=this._isSubOptimizedWhere(this.q.where);if(o>0){var a=this.q.where.slice(0,o),u=this.q.where.slice(o+1);this._selectByKeysOrSeach(a,function(e){r(e.filter(function(e,t){return p(e,u,t,!1)}))})}else this._fullTableScan(r)}else this._fullTableScan(r)}return e.prototype._selectByKeysOrSeach=function(e,t){var n=this;if(e&&"string"==typeof e[0])this._selectRowsByIndexOrSearch(e,t);else if(e){var r=[],i="",a=this.s.tableInfo[this.q.table]._pk;o.fastCHAIN(e,function(e,t,o){if(t%2==1)return i=e,void o();n._selectRowsByIndexOrSearch(e,function(e){if("AND"===i){for(var t={},n=e.length;n--;)t[e[n][a]]=!0;r=r.filter(function(e){return t[e[a]]})}else r=r.concat(e);o()})}).then(function(){var e={};t(r.filter(function(t){return!e[t[a]]&&(e[t[a]]=!0,!0)}))})}},e.prototype._selectRowsByIndexOrSearch=function(e,t){var n=this;if(0!==e[0].indexOf("search("))if(0!==e[0].indexOf("crow("))if("BETWEEN"!==e[1]){var s=[];switch(e[1]){case"IN":s=e[2];break;case"=":s=[e[2]]}e[0]===this.s.tableInfo[this.q.table]._pk?this.s._read(this.q.table,s,t):o.fastALL(s,function(t,r,i){n.s._secondaryIndexRead(n.q.table,e[0],t,i)}).then(function(e){t([].concat.apply([],e))})}else{var c=e[0]===this.s.tableInfo[this.q.table]._pk?"":e[0];c?this.s._rangeRead("_"+this.q.table+"_idx_"+c,e[2][0],e[2][1],!0,function(e){for(var r=[],i=e.length;i--;)r=r.concat(e[i].rows);n.s._read(n.q.table,r,t)}):this.s._rangeRead(this.q.table,e[2][0],e[2][1],!0,function(e){t(e)})}else{var f=e[0].replace(/crow\((.*)\)/gim,"$1").split(",").map(function(e,t){return t<2?parseFloat(e.trim()):e.trim()}),l="_"+this.q.table+"_idx_"+(f.length>2?f[2]:"lat"),p="_"+this.q.table+"_idx_"+(f.length>2?f[3]:"lon"),d=parseFloat(e[2]||"0"),h=[-1,1].map(function(e){return f[0]+d*e/i.NanoSQLInstance.earthRadius*(180*Math.PI)}),y=[-1,1].map(function(e){return f[1]+d*e/i.NanoSQLInstance.earthRadius*(180*Math.PI)/Math.cos(f[0]*Math.PI/180)});o.fastALL([l,p],function(e,t,r){var i=0===t?h:y;n.s._rangeRead(e,i[0],i[1],!0,r)}).then(function(e){if(e[0].length&&e[1].length){var a={},u=[];[0,1].forEach(function(t){e[t].forEach(function(e){e.rows.forEach(function(n){switch(t){case 0:a[n]=e.id;break;case 1:a[n]&&o.crowDistance(f[0],f[1],a[n],e.id,i.NanoSQLInstance.earthRadius)<d&&u.push(n)}})})});var s=n.qu._store.tableInfo[n.q.table]._pk;n.s._read(n.q.table,u,function(e){t(e.map(function(e){return r({},e,{_distance:a[e[s]]})}))})}else t([])})}else{var v=0;-1!==e[1].indexOf(">")?v=parseFloat(e[1].replace(">",""))+1e-4:-1!==e[1].indexOf("<")&&(v=-1*parseFloat(e[1].replace("<",""))+1e-4);var m=e[0].replace(/search\((.*)\)/gim,"$1").split(",").map(function(e){return e.trim()}),_={},b={};o.fastALL(m,function(t,r,i){var s=n.qu._tokenizer(t,e[2]),c=n.s.tableInfo[n.q.table]._searchColumns[t],f={},l=[],p={},d={};s.forEach(function(e){p[e.w]=e.o,d[e.o]=e.w}),o.fastALL(["_search_","_search_fuzzy_"],function(e,r,i){var u="_"+n.q.table+e+t;switch(r){case 0:o.fastALL(s,function(e,t,r){n.s.adapters[0].adapter.read(u,e.w,function(t){t?(t.rows.forEach(function(t){f[t.id]||(f[t.id]={}),l.push(t.i[0]),f[t.id][e.w]=t}),r()):r()})}).then(i);break;case 1:if(0===v)return void i();n.s.adapters[0].adapter.getIndex(u,!1,function(e){var t=[];e.forEach(function(e){s.forEach(function(n){a(n.o,e)&&(b[n.o]=e,p[e]=n.o,t.push(e))})}),t=t.filter(function(e,t,n){return n.indexOf(e)===t}),o.fastALL(t,function(e,t,r){n.s.adapters[0].adapter.read(u,e,function(t){t?(t.rows.forEach(function(t){var n=!1;f[t.id]?-1!==l.indexOf(t.i[0])&&(n=!0):f[t.id]={},n||(f[t.id][d[e]||e]=t)}),r()):r()})}).then(i)})}}).then(function(){Object.keys(f).forEach(function(e){if(0!==v||Object.keys(f[e]).length===s.length){_[e]||(_[e]={weight:0,locations:{}});var n=0,r=Object.keys(f[e]).map(function(t){return n=f[e][t].l,p[t]&&(_[e].weight+=5),{word:p[t]||t,loc:f[e][t].i}}),i=r.reduce(function(e,t){return e+t.loc.length},0);if(_[e].weight+=i/n+parseInt(c[0]),_[e].locations[t]=r,0!==v)s.forEach(function(t){var n=f[e][t.w];n&&n.i.forEach(function(n){Object.keys(f[e]).forEach(function(r){r!==t.w&&f[e][r].i.forEach(function(t){var r=Math.abs(t-n);r&&(_[e].weight+=10/(10*r))})})}),b[t.o]&&r.forEach(function(n){if(b[t.o]===n.word){var r=u(t.o,n.word);_[e].weight+=r<=1?10:10/(5*r)}})});else if(s.length>1){var o=[];Object.keys(f[e]).forEach(function(t){t===s[0].w&&(o=f[e][t].i)});var a=!0;o.forEach(function(t,n){var r=s[n+1];r&&Object.keys(f[e]).forEach(function(n){n===r.w&&-1===f[e][n].i.indexOf(r.i+t)&&(a=!1)})}),a||delete _[e]}}else delete f[e]}),i()})}).then(function(e){for(var i=0,a=Object.keys(_),s=a.length;s--;)i=Math.max(i,_[a[s]].weight);for(s=a.length;s--;)_[a[s]].weight=_[a[s]].weight/i;o.fastALL(a.filter(function(e){return 0===v||(v>0?v<_[e].weight:!(v<0)||-1*v>_[e].weight)}),function(e,t,r){n.s.adapters[0].adapter.read(n.q.table,e,r)}).then(function(e){var i=n.s.tableInfo[n.q.table]._pk;(e=e.filter(function(e){return e})).forEach(function(e){var t=e[i];Object.keys(_[t].locations).forEach(function(r){var i=n.qu._tokenizer(r,e[r]).map(function(e){return e.o});_[t].locations[r].forEach(function(e){e.loc.forEach(function(n){var r=u(i[n],e.word);_[t].weight+=r<=1?10:10/(10*r)})})})});for(var o=0,a=Object.keys(_),s=a.length;s--;)o=Math.max(o,_[a[s]].weight);for(s=a.length;s--;)_[a[s]].weight=_[a[s]].weight/o;t(e.filter(function(e){return 0===v||(v>0?v<_[e[i]].weight:!(v<0)||-1*v>_[e[i]].weight)}).map(function(e){return r({},e,{_weight:_[e[i]].weight,_locations:_[e[i]].locations})}))})})}},e.prototype._selectByRange=function(e){var t=this;if(this.q.range){var n=this.q.range;n[0]>0?this.s._rangeRead(this.q.table,n[1],n[1]+n[0]-1,!1,e):this.s.adapters[0].adapter.getIndex(this.q.table,!0,function(r){for(var i=r+n[0]-n[1],o=i,a=Math.abs(n[0])-1;a--;)o++;t.s._rangeRead(t.q.table,i,o,!1,e)})}else e([])},e.prototype._selectByTrie=function(e){this.q.trie?this.s._trieRead(this.q.table,this.q.trie.column,this.q.trie.search,e):e([])},e.prototype._fullTableScan=function(e){var t=this,n=void 0!==this.q.where,r=n&&Array.isArray(this.q.where),i=this.s.tableInfo[this.q.table]._pk,a=[],u=function(){t.s._read(t.q.table,function(e,o,u){u(!n||(r?p(e,t.q.where,o,!1,a,i):t.q.where(e,o)))},e)},s=this.q.where||[];r&&"string"!=typeof s[0]?o.fastCHAIN(s,function(e,n,r){-1!==e[0].indexOf("search(")?t.qu._store._nsql.query("select").where(e).manualExec({table:t.q.table}).then(function(e){a[n]=e.map(function(e){return e[i]}),r()}):r()}).then(function(){u()}):u()},e.prototype._isSubOptimizedWhere=function(e){var t=this;if("string"==typeof e[0])return 0;if(0===this._isOptimizedWhere(e[0])){var n=0;return e.forEach(function(r,i){i%2==0&&0===t._isOptimizedWhere(r)&&e[i+1]&&(n=i+1)}),"AND"!==e[n]?0:n}return 0},e.prototype._isOptimizedWhere=function(e){var t=this.s.tableInfo[this.q.table],n=e[0]||"",r=e[1]||"";if(["=","IN","BETWEEN"].indexOf(e[1])>-1||-1!==n.indexOf("search(")&&("="===r||-1!==r.indexOf(">")||-1!==r.indexOf("<"))||1!==n.indexOf("crow(")&&"<"===r){if(-1!==n.indexOf("search("))return n.replace(/search\((.*)\)/gim,"$1").split(",").map(function(e){return e.trim()}).filter(function(e){return-1!==Object.keys(t._searchColumns).indexOf(e)}).length?0:1;if(-1!==n.indexOf("crow(")){var i=n.replace(/crow\((.*)\)/gim,"$1").split(",").map(function(e){return e.trim()}),o=i[3]||"lon";return-1===t._secondaryIndexes.indexOf(i[2]||"lat")||-1===t._secondaryIndexes.indexOf(o)?1:0}if(n===t._pk||-1!==t._secondaryIndexes.indexOf(n))return 0}return 1},e}();t._RowSelection=f;var l=function(){function e(e,t){this.q=e,this.p=t}return e.prototype.getRows=function(e){var t=this;if(this.q.join||this.q.orm||this.q.trie)throw new Error("nSQL: Cannot do a JOIN, ORM or TRIE command with instance table!");if(this.q.range&&this.q.range.length){var n,r,i=this.q.range;n=i[0]<0?this.q.table.length+i[0]-i[1]:i[1];var o=Math.abs(i[0])-1;for(r=n;o--;)r++;e(this.q.table.filter(function(e,t){return t>=n&&t<=r}))}else e(this.q.table.filter(function(e,n){return!t.q.where||(Array.isArray(t.q.where)?p(e,t.q.where||[],n,!1):t.q.where(e,n))}))},e}();t.InstanceSelection=l;var p=function(e,t,n,r,i,o){if("string"!=typeof t[0]){var a,u,s=-1!==t.indexOf("OR");return t.reduce(function(t,n,c){return void 0!==a?a:c%2==1?(u=n,t):(f=0===n[0].indexOf("search(")&&i?-1!==i[c].indexOf(e[o]):y(n,e,r||!1),s||!1!==f?0===c?f:"AND"===u?t&&f:t||f:a=!1);var f},!1)}return y(t,e,r||!1)},d={},h={},y=function(e,t,n){h[e[0]]||(h[e[0]]=-1!==e[0].indexOf("(")?e[0].replace(/(.*)\((.*)\)/gim,"$1,$2").split(",").map(function(e){return isNaN(e)?e.trim():parseFloat(e.trim())}):[]);var r=function(e,t){return d[t]||(d[t]=new RegExp("^"+t.replace(/\%/gm,".*").replace(/\_/gm,".")+"$","gmi")),null!==e.match(d[t])},a=e[2],u=function(){if(h[e[0]].length){var r=i.NanoSQLInstance.whereFunctions[h[e[0]][0]];return r?r.apply(null,[t,n].concat(h[e[0]].slice(1))):void 0}var a=o.objQuery(e[0],t,n);return["LIKE","NOT LIKE"].indexOf(s)>-1?String(a||""):a}(),s=e[1];if("NULL"===a||"NOT NULL"===a){var c=-1!==[void 0,null,""].indexOf(u),f="="===s||"LIKE"===s;switch(a){case"NULL":return f?c:!c;case"NOT NULL":return f?!c:c}}switch(s){case"=":return u===a;case"!=":return u!==a;case">":return u>a;case"<":return u<a;case"<=":return u<=a;case">=":return u>=a;case"IN":return-1!==(a||[]).indexOf(u);case"NOT IN":return-1===(a||[]).indexOf(u);case"REGEXP":case"REGEX":return null!==u.match(a);case"LIKE":return r(u,a);case"NOT LIKE":return!r(u,a);case"BETWEEN":return a[0]<=u&&a[1]>=u;case"HAVE":return-1!==(u||[]).indexOf(a);case"NOT HAVE":return-1===(u||[]).indexOf(a);case"INTERSECT":return(u||[]).filter(function(e){return(a||[]).indexOf(e)>-1}).length>0;case"NOT INTERSECT":return 0===(u||[]).filter(function(e){return(a||[]).indexOf(e)>-1}).length;default:return!1}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=t.length,r=e.length;if(r>n)return!1;if(r===n)return e===t;e:for(var i=0,o=0;i<r;i++){for(var a=e.charCodeAt(i);o<n;)if(t.charCodeAt(o++)===a)continue e;return!1}return!0}},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(187),o=n(6),a=n(188),u=n(189),s=n(190),c=n(191);t._NanoSQLStorage=function(){function e(e,t){if(this._tableNames=[],this._nsql=e,this._mode=t.persistent?"PERM":t.mode||"TEMP",this._id=t.id,this._size=t.size||5,this.adapters=[],this.models={},this.tableInfo={},this._trieIndexes={},this._tableNames=[],this._doCache="undefined"==typeof t.cache||t.cache,this._cache={},this.adapters[0]={adapter:null,waitForWrites:!0},"string"==typeof this._mode)switch("PERM"===this._mode&&(this._mode=this._detectStorageMethod()||this._mode),this._mode){case"IDB":case"IDB_WW":this.adapters[0].adapter=new u._IndexedDBStore;break;case"WSQL":this.adapters[0].adapter=new s._WebSQLStore(this._size);break;case"LS":this.adapters[0].adapter=new a._SyncStore(!0);break;case"LVL":this.adapters[0].adapter=new c._LevelStore(t.dbPath,t.writeCache,t.readCache);break;case"TEMP":this.adapters[0].adapter=new a._SyncStore(!1)}else this.adapters[0].adapter=this._mode}return e.prototype.init=function(e,t){var n=this;this._id||(this._id=o.hash(JSON.stringify(e)).toString()),this.models=this._createIndexTables(e),this._tableNames=Object.keys(this.models),this.adapters.forEach(function(e){e.adapter.setID(n._id)}),this._tableNames.forEach(function(t){n._newTable(t,e[t])}),this._relFromTable={},this._relToTable={},this._relationColumns={},this._columnsAreTables={},this._tableNames.forEach(function(e){n.tableInfo[e]._viewTables=Object.keys(n.tableInfo).reduce(function(t,r){return r===e?t:(-1!==Object.keys(n.tableInfo[r]._views).indexOf(e)&&t.push({table:r,column:n.tableInfo[r]._views[e].pkColumn}),t)},[]);var t=n.models[e].length;n._relFromTable[e]={},n._relationColumns[e]=[],n._relToTable[e]=[],n._columnsAreTables[e]={};for(var r=function(){var r=n.models[e][t];if(-1!==n._tableNames.indexOf(r.type.replace("[]",""))){var i="";n._columnsAreTables[e][r.key]={_toTable:r.type.replace("[]",""),_thisType:-1===r.type.indexOf("[]")?"single":"array"},r.props&&(r.props.forEach(function(e){-1!==e.indexOf("ref=>")&&(i=e.replace("ref=>","")),0===e.indexOf("orm(")&&(i=e.replace(/orm\((.*)\)/gim,"$1"))}),i&&(n._hasORM=!0,n._relationColumns[e].push(r.key),n._relFromTable[e][r.key]={_toTable:r.type.replace("[]",""),_toColumn:i.replace("[]",""),_toType:-1===i.indexOf("[]")?"single":"array",_thisType:-1===r.type.indexOf("[]")?"single":"array"}))}};t--;)r()}),Object.keys(this._relFromTable).forEach(function(e){Object.keys(n._relFromTable[e]).forEach(function(t){var r=n._relFromTable[e][t];n._relToTable[r._toTable].push({_thisColumn:r._toColumn,_thisType:r._toType,_fromTable:e,_fromColumn:t,_fromType:r._thisType})})}),o.fastALL(this.adapters,function(e,t,r){e.adapter.connect(function(){e.adapter.setNSQL&&e.adapter.setNSQL(n._nsql),r()})}).then(function(){o.fastALL(Object.keys(n._trieIndexes),function(e,t,r){var i=n._trieIndexes[e];Object.keys(i).length?o.fastALL(Object.keys(i),function(t,r,i){n.adapters[0].adapter.getIndex("_"+e+"_idx_"+t,!1,function(r){r.forEach(function(r){n._trieIndexes[e][t].addWord(String(r))}),i()})}).then(r):r()}).then(function(){t(n.models)})})},e.prototype.rebuildIndexes=function(e,t){var n=this,r=(new Date).getTime();o.fastALL(Object.keys(this.tableInfo),function(t,r,i){if("_ALL_"!==e&&e!==t||0===t.indexOf("_"))i();else{var a=n.tableInfo[t]._secondaryIndexes;o.fastALL(a,function(e,r,i){n._drop("_"+t+"_idx_"+e,i)}).then(function(){var e=n.tableInfo[t]._pk,r={};a.forEach(function(e){r[e]={}}),n._read(t,function(t,n,i){t[e]?(a.forEach(function(n){t[n]&&(r[n][t[n]]||(r[n][t[n]]=[]),r[n][t[n]].push(t[e]))}),i(!1)):i(!1)},function(){o.fastALL(a,function(e,i,a){var u="_"+t+"_idx_"+e;o.fastALL(Object.keys(r[e]),function(t,i,o){n.adapterWrite(u,t,{id:t,rows:r[e][t].sort()},o)}).then(a)}).then(function(){i()})})})}}).then(function(){t((new Date).getTime()-r)})},e.prototype._secondaryIndexKey=function(e){return o.isObject(e)||Array.isArray(e)?JSON.stringify(e).substr(0,12):"number"==typeof e?e:String(e).substr(0,32)},e.prototype._detectStorageMethod=function(){return"undefined"==typeof window?"LVL":o.isSafari?"WSQL":"undefined"!=typeof indexedDB?"IDB":"undefined"!=typeof window&&"undefined"!=typeof window.openDatabase?"WSQL":"LS"},e.prototype._secondaryIndexRead=function(e,t,n,r){var i=this;this.adapters[0].adapter.read("_"+e+"_idx_"+t,this._secondaryIndexKey(n),function(t){void 0!==t&&null!==t?i._read(e,t.rows||[],r):r([])})},e.prototype._rangeRead=function(e,t,n,r,i){var o=[];this.adapters[0].adapter.rangeRead(e,function(e,t,n){o.push(e),n()},function(){i(o)},t,n,r)},e.prototype._read=function(e,t,n){var r=this;if(Array.isArray(t)){var i=this.adapters[0].adapter.batchRead;i?i.apply(this.adapters[0].adapter,[e,t,n]):o.fastALL(t,function(t,n,i){r.adapters[0].adapter.read(e,t,i)}).then(function(e){n(e.filter(function(e){return e}))})}else{var a=[];"function"!=typeof t||this.adapters[0].adapter.rangeRead(e,function(e,n,r){t(e,n,function(t){t&&a.push(e),r()})},function(){n(a)})}},e.prototype._trieRead=function(e,t,n,r){var i=this,a=this._trieIndexes[e][t].getPrefix(n);o.fastALL(a,function(n,r,o){i._secondaryIndexRead(e,t,n,o)}).then(function(e){r([].concat.apply([],e))})},e.prototype._clearSecondaryIndexes=function(e,t,n,r,i){var a=this;o.fastALL(this.tableInfo[e]._secondaryIndexes.filter(function(e){return-1===r.indexOf(e)}),function(r,i,u){var s=a._secondaryIndexKey(n[r]),c="_"+e+"_idx_"+r;a.adapters[0].adapter.read(c,s,function(e){if(e){var n=e.rows.indexOf(t);if(-1!==n){var r=e?Object.isFrozen(e)?o._assign(e):e:{id:null,rows:[]};r.rows.splice(n,1),r.rows.sort(),r.rows=o.removeDuplicates(r.rows),a.adapterWrite(c,r.id,r,u)}else u()}else u()})}).then(i)},e.prototype._setSecondaryIndexes=function(e,t,n,r,i){var a=this;o.fastALL(this.tableInfo[e]._secondaryIndexes.filter(function(e){return-1===r.indexOf(e)}),function(r,i,u){var s=a._secondaryIndexKey(n[r]);if(s){a._trieIndexes[e][r]&&a._trieIndexes[e][r].addWord(String(n[r]));var c="_"+e+"_idx_"+r;a.adapters[0].adapter.read(c,s,function(e){var n=e?Object.isFrozen(e)?o._assign(e):e:{id:s,rows:[]};n.rows.push(t),n.rows.sort(),n.rows=o.removeDuplicates(n.rows),a.adapterWrite(c,s,n,u)})}else u()}).then(i)},e.prototype._write=function(e,t,n,i,o){var a,u=this;if(n){var s=r({},n,i,((a={})[this.tableInfo[e]._pk]=t,a)),c=Object.keys(s).filter(function(e){return s[e]===n[e]});this.tableInfo[e]._secondaryIndexes.length?this._clearSecondaryIndexes(e,t,n,c,function(){u._setSecondaryIndexes(e,t,s,c,function(){u.adapterWrite(e,t,s,o)})}):this.adapterWrite(e,t,s,o)}else this.adapterWrite(e,t,i,function(t){u.tableInfo[e]._secondaryIndexes.length?u._setSecondaryIndexes(e,t[u.tableInfo[e]._pk],i,[],function(){o(t)}):o(t)})},e.prototype._delete=function(e,t,n){var r=this;if(!t)throw new Error("nSQL: Can't delete without a primary key!");this.adapters[0].adapter.read(e,t,function(i){r._clearSecondaryIndexes(e,t,i,[],function(){r.adapterDelete(e,t,function(){n(i)})})})},e.prototype._drop=function(e,t){var n=this,r=Object.keys(this.tableInfo[e]._searchColumns).map(function(t){return"_"+e+"_search_tokens_"+t});r=(r=(r=r.concat(Object.keys(this.tableInfo[e]._searchColumns).map(function(t){return"_"+e+"_search_"+t}))).concat(Object.keys(this.tableInfo[e]._searchColumns).map(function(t){return"_"+e+"_search_fuzzy_"+t}))).concat(this.tableInfo[e]._secondaryIndexes.map(function(t){return"_"+e+"_idx_"+t})),o.fastALL(r,function(e,t,r){n.adapterDrop(e,r)}).then(function(){n._trieIndexes[e]={},n.tableInfo[e]._trieColumns.forEach(function(t){n._trieIndexes[e][t]=new i.Trie([])}),n.adapterDrop(e,t)})},e.prototype._createIndexTables=function(e){return Object.keys(e).forEach(function(t){var n=!1,r=!1,i="";if(e[t].forEach(function(a){if(a.props&&a.props.length){if(o.intersect(["pk","pk()"],a.props)&&(i=a.key),o.intersect(["trie","idx","idx()","trie()"],a.props)){n=!0;var u=-1!==["number","float","int"].indexOf(a.type);e["_"+t+"_idx_"+a.key]=[{key:"id",type:u?a.type:"string",props:["pk"]},{key:"rows",type:"any[]"}]}a.props.forEach(function(n){-1!==n.indexOf("search(")&&(r=!0,e["_"+t+"_search_"+a.key]=[{key:"wrd",type:"string",props:["pk","ns()"]},{key:"rows",type:"any[]"}],e["_"+t+"_search_fuzzy_"+a.key]=[{key:"wrd",type:"string",props:["pk","ns()"]},{key:"rows",type:"any[]"}],e["_"+t+"_search_tokens_"+a.key]=[{key:"id",type:i,props:["pk","ns()"]},{key:"hash",type:"string"},{key:"tokens",type:"any[]"}])})}}),(n||r)&&!i)throw new Error("nSQL: Tables with secondary indexes or search() must have a primary key!")}),e},e.prototype._newTable=function(e,t){var n=this;this.tableInfo[e]={_pk:"",_pkType:"",_keys:[],_defaults:[],_secondaryIndexes:[],_hasDefaults:!1,_trieColumns:[],_name:e,_views:{},_viewTables:[],_searchColumns:{}},this._cache[e]={},this._trieIndexes[e]={},this.adapters.forEach(function(n){n.adapter.makeTable(e,t)});for(var r=this.models[e].length,a=function(){var t=u.models[e][r];if(u.tableInfo[e]._keys.unshift(t.key),void 0!==t.default&&(u.tableInfo[e]._defaults[t.key]=t.default,u.tableInfo[e]._hasDefaults=!0),t.props&&t.props.length){var a=!1;t.props.forEach(function(r){if(-1!==r.indexOf("from=>")){n._hasViews=!0;var i=t.type;"from=>GHOST"!==r&&"from=>LIVE"!==r&&(i=r.replace("from=>","").split(".").shift()),n.tableInfo[e]._views[i]||(n.tableInfo[e]._views[i]={pkColumn:"",mode:"",columns:[]}),"from=>GHOST"===r||"from=>LIVE"===r?(a=!0,n.tableInfo[e]._views[i].pkColumn=t.key,n.tableInfo[e]._views[i].mode=r.replace("from=>","")):n.tableInfo[e]._views[i].columns.push({thisColumn:t.key,otherColumn:r.replace("from=>","").split(".").pop()})}0===r.indexOf("search(")&&(n.tableInfo[e]._searchColumns[t.key]=r.replace(/search\((.*)\)/gim,"$1").split(",").map(function(e){return e.trim()}))}),o.intersect(["pk","pk()"],t.props)&&(u.tableInfo[e]._pk=t.key,u.tableInfo[e]._pkType=t.type),(o.intersect(["trie","idx","idx()","trie()"],t.props)||a)&&u.tableInfo[e]._secondaryIndexes.push(t.key),o.intersect(["trie","trie()"],t.props)&&(u.tableInfo[e]._trieColumns.push(t.key),u._trieIndexes[e][t.key]=new i.Trie([]))}},u=this;r--;)a();return e},e.prototype.adapterWrite=function(e,t,n,r,i){var a;o.fastALL(this.adapters,function(r,i,o){r.waitForWrites?r.adapter.write(e,t,n,function(e){a=e,o()}):(o(),r.adapter.write(e,t,n,function(e){}))}).then(function(){r(a)}).catch(function(e){i&&i(e)})},e.prototype.adapterDelete=function(e,t,n,r){o.fastALL(this.adapters,function(n,r,i){n.waitForWrites?n.adapter.delete(e,t,function(){i()}):(i(),n.adapter.delete(e,t,function(){}))}).then(function(){n()}).catch(function(e){r&&r(e)})},e.prototype.adapterDrop=function(e,t,n){o.fastALL(this.adapters,function(t,n,r){t.waitForWrites?t.adapter.drop(e,function(){r()}):(r(),t.adapter.drop(e,function(){}))}).then(function(){t()}).catch(function(e){n&&n(e)})},e}()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=function(){function e(t){this._trie=e._create(t)}return e.prototype.getIndex=function(){return this._trie},e.prototype.setIndex=function(e){this._trie=e},e.prototype.addWord=function(t){return t.toLowerCase().split("").reduce(function(t,n,r,i){return e._append(t,n,r,i)},this._trie),this},e.prototype.removeWord=function(t){var n=e._checkPrefix(this._trie,t);return n.prefixFound&&delete n.prefixNode.$,this},e.prototype.getWords=function(){return e._recursePrefix(this._trie,"")},e.prototype.getPrefix=function(t){if(t=t.toLowerCase(),!this._isPrefix(t))return[];var n=e._checkPrefix(this._trie,t).prefixNode;return e._recursePrefix(n,t)},e.prototype._isPrefix=function(t){return e._checkPrefix(this._trie,t).prefixFound},e._append=function(e,t,n,r){return e[t]=e[t]||{},e=e[t],n===r.length-1&&(e.$=1),e},e._checkPrefix=function(e,t){return{prefixFound:t.toLowerCase().split("").every(function(t,n){return!!e[t]&&(e=e[t])}),prefixNode:e}},e._create=function(t){return(t||[]).reduce(function(t,n){return n.toLowerCase().split("").reduce(e._append,t),t},{})},e._recursePrefix=function(t,n,r){void 0===r&&(r=[]);var i=n;for(var o in t)"$"===o&&(r.push(i),i=""),e._recursePrefix(t[o],n+o,r);return r.sort()},e}()},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(6),a=n(34);t._SyncStore=function(){function e(e){this._pkKey={},this._pkType={},this._rows={},this._dbIndex={},this._ls=e||!1}return e.prototype.connect=function(e){e()},e.prototype.setID=function(e){this._id=e},e.prototype.makeTable=function(e,t){var n=this;this._rows[e]={},this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){if(t.props&&o.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key,t.props&&o.intersect(["ai","ai()"],t.props)&&("int"===t.type||"number"===t.type)&&(n._dbIndex[e].doAI=!0),(t.props&&o.intersect(["ns","ns()"],t.props)||-1!==["uuid","timeId","timeIdms"].indexOf(n._pkType[e]))&&(n._dbIndex[e].sortIndex=!1),n._ls)){var r=localStorage.getItem(n._id+"*"+e+"_idx");r&&n._dbIndex[e].set(JSON.parse(r))}})},e.prototype.write=function(e,t,n,i){if(!(t=t||o.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("nSQL: Can't add a row without a primary key!");if(-1===this._dbIndex[e].indexOf(t)&&(this._dbIndex[e].add(t),this._ls&&localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify(this._dbIndex[e].keys()))),this._ls){var a=r({},n,((u={})[this._pkKey[e]]=t,u));localStorage.setItem(this._id+"*"+e+"__"+t,JSON.stringify(a)),i(a)}else a=r({},n,((s={})[this._pkKey[e]]=t,s)),this._rows[e][t]=o.deepFreeze(a),i(a);var u,s},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&(this._dbIndex[e].remove(t),this._ls&&localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify(this._dbIndex[e].keys()))),this._ls?localStorage.removeItem(this._id+"*"+e+"__"+t):delete this._rows[e][t],n()},e.prototype.read=function(e,t,n){if(this._ls){var r=localStorage.getItem(this._id+"*"+e+"__"+t);n(r?JSON.parse(r):void 0)}else n(this._rows[e][t])},e.prototype.rangeRead=function(e,t,n,r,o,a){var u=this,s=this._dbIndex[e].keys(),c=-1===[typeof r,typeof o].indexOf("undefined"),f=c?[r,o]:[0,s.length-1];if(s.length){!1===this._dbIndex[e].sortIndex&&(s=s.sort()),a&&c&&(f=f.map(function(t){var n=u._dbIndex[e].indexOf(t);return-1!==n?n:u._dbIndex[e].getLocation(t)}));var l=f[0],p=0,d=function(){l++,++p%500==0?i.setFast(h):h()},h=function(){if(l<=f[1])if(u._ls){var r=localStorage.getItem(u._id+"*"+e+"__"+s[l]);t(r?JSON.parse(r):void 0,l,d)}else t(u._rows[e][s[l]],l,d);else n()};h()}else n()},e.prototype.drop=function(e,t){var n=this;this._ls?(localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify([])),this._dbIndex[e].keys().forEach(function(t){localStorage.removeItem(n._id+"*"+e+"__"+t)})):this._rows[e]={};var r=new a.DatabaseIndex;r.doAI=this._dbIndex[e].doAI,r.sortIndex=this._dbIndex[e].sortIndex,this._dbIndex[e]=r,t()},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;o.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}()},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(6),a=n(34);t._IndexedDBStore=function(){function e(){this._pkKey={},this._pkType={},this._dbIndex={}}return e.prototype.onError=function(e){throw console.error(e),new Error("nSQL: IndexedDB Error!")},e.prototype.connect=function(e){var t=this,n=indexedDB.open(this._id,1),r=!1,i={};n.onerror=this.onError,n.onupgradeneeded=function(e){r=!0,t._db=e.target.result,Object.keys(t._dbIndex).forEach(function(e){t._db.createObjectStore(e,{keyPath:t._pkKey[e]}),i[e]=[]})},n.onsuccess=function(n){t._db=n.target.result,r?e():o.fastALL(Object.keys(t._dbIndex),function(e,n,r){var i,o;i=function(n){t._dbIndex[e].set(n),r()},o=[],t.store(e,"readonly",function(e,n){var r=n.openCursor();r.onsuccess=function(e){var t=e.target.result;t&&(o.push(t.key),t.continue())},r.onerror=t.onError,e.oncomplete=function(){i(o)}})}).then(function(){e()})}},e.prototype.store=function(e,t,n){var r=this._db.transaction(e,t);r.onabort=this.onError,r.onerror=this.onError,n(r,r.objectStore(e))},e.prototype.setID=function(e){this._id=e},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){t.props&&o.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key,t.props&&o.intersect(["ai","ai()"],t.props)&&("int"===t.type||"number"===t.type)&&(n._dbIndex[e].doAI=!0),(t.props&&o.intersect(["ns","ns()"],t.props)||-1!==["uuid","timeId","timeIdms"].indexOf(n._pkType[e]))&&(n._dbIndex[e].sortIndex=!1))})},e.prototype.write=function(e,t,n,i){var a=this;if(!(t=t||o.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("nSQL: Can't add a row without a primary key!");-1===this._dbIndex[e].indexOf(t)&&this._dbIndex[e].add(t);var u,s=r({},n,((u={})[this._pkKey[e]]=t,u));this.store(e,"readwrite",function(e,t){var n=t.put(s);n.onerror=a.onError,n.onsuccess=function(e){i(s)}})},e.prototype.delete=function(e,t,n){var r=this;-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t),this.store(e,"readwrite",function(e,i){var o="_clear_"===t?i.clear():i.delete(t);o.onerror=r.onError,o.onsuccess=function(e){n()}})},e.prototype.read=function(e,t,n){var r=this;-1!==this._dbIndex[e].indexOf(t)?this.store(e,"readonly",function(e,i){var o=i.get(t);o.onerror=r.onError,o.onsuccess=function(){n(o.result)}}):n(null)},e.prototype.rangeRead=function(e,t,n,r,o,a){var u=this,s=this._dbIndex[e].keys(),c=-1===[typeof r,typeof o].indexOf("undefined"),f=c?[r,o]:[0,s.length-1];if(s.length){!1===this._dbIndex[e].sortIndex&&(s=s.sort());var l=a&&c?r:s[f[0]],p=a&&c?o:s[f[1]];this.store(e,"readonly",function(e,r){var o=[],a=c?r.openCursor(IDBKeyRange.bound(l,p)):r.openCursor();e.oncomplete=function(e){var r=0,a=function(){o[r]?t(o[r],r,function(){++r%500==0?i.setFast(a):a()}):n()};a()},a.onsuccess=function(e){var t=e.target.result;t&&(o.push(t.value),t.continue())},a.onerror=u.onError})}else n()},e.prototype.drop=function(e,t){var n=new a.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,n.sortIndex=this._dbIndex[e].sortIndex,this._dbIndex[e]=n,this.delete(e,"_clear_",function(){t()})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;o.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}()},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(6),a=n(34);t._WebSQLStore=function(){function e(e){this._pkKey={},this._pkType={},this._dbIndex={},this._size=1e3*(e||0)*1e3}return e.prototype.setID=function(e){this._id=e},e.prototype.connect=function(e){var t=this;this._db=window.openDatabase(this._id,"1.0",this._id,this._size||o.isAndroid?5e6:1),o.fastALL(Object.keys(this._pkKey),function(e,n,r){t._sql(!0,"CREATE TABLE IF NOT EXISTS "+e+" (id BLOB PRIMARY KEY UNIQUE, data TEXT)",[],function(){t._sql(!1,"SELECT id FROM "+e,[],function(n){for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o).id);t._dbIndex[e].sortIndex&&(i=i.sort(function(e,t){return e>t?1:-1})),t._dbIndex[e].set(i),r()})})}).then(e)},e.prototype._chkTable=function(e){if(-1===Object.keys(this._pkType).indexOf(e))throw Error("No table "+e+" found!");return e},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){t.props&&o.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key,t.props&&o.intersect(["ai","ai()"],t.props)&&("int"===t.type||"number"===t.type)&&(n._dbIndex[e].doAI=!0),(t.props&&o.intersect(["ns","ns()"],t.props)||-1!==["uuid","timeId","timeIdms"].indexOf(n._pkType[e]))&&(n._dbIndex[e].sortIndex=!1))})},e.prototype._sql=function(e,t,n,r){var i=function(e){e.executeSql(t,n,function(e,t){r(t)},function(e,r){return console.error(t,n,r),!1})};e?this._db.transaction(i):this._db.readTransaction(i)},e.prototype.write=function(e,t,n,i){if(!(t=t||o.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("nSQL: Can't add a row without a primary key!");var a,u,s=!1;if(-1===this._dbIndex[e].indexOf(t)&&(s=!0,this._dbIndex[e].add(t)),s){var c=r({},n,((a={})[this._pkKey[e]]=t,a));this._sql(!0,"INSERT into "+this._chkTable(e)+" (id, data) VALUES (?, ?)",[t,JSON.stringify(c)],function(e){i(c)})}else{var f=r({},n,((u={})[this._pkKey[e]]=t,u));this._sql(!0,"UPDATE "+this._chkTable(e)+" SET data = ? WHERE id = ?",[JSON.stringify(f),t],function(){i(f)})}},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t),this._sql(!0,"DELETE FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(){n()})},e.prototype.read=function(e,t,n){this._sql(!1,"SELECT data FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(e){n(e.rows.length?JSON.parse(e.rows.item(0).data):void 0)})},e.prototype.batchRead=function(e,t,n){this._sql(!1,"SELECT data from "+this._chkTable(e)+" WHERE id IN ("+t.map(function(e){return"?"}).join(", ")+") ORDER BY id",t,function(e){for(var t=e.rows.length,r=[];t--;)r.unshift(JSON.parse(e.rows.item(t).data));n(r)})},e.prototype.rangeRead=function(e,t,n,r,o,a){var u=this,s=this._dbIndex[e].keys(),c=-1===[typeof r,typeof o].indexOf("undefined"),f=c?[r,o]:[];if(s.length){a&&c&&(f=f.map(function(t){return u._dbIndex[e].getLocation(t)})),!1===this._dbIndex[e].sortIndex&&(s=s.sort());var l=f[0]||0,p=[],d=f[0],h="SELECT data from "+this._chkTable(e);if(f.length){for(;d<=f[1];)p.push(s[d]),d++;h+=" WHERE id IN ("+p.map(function(e){return"?"}).join(", ")+")"}this._sql(!1,h+=" ORDER BY id",p,function(e){var r=0,o=function(){e.rows.length>r?t(JSON.parse(e.rows.item(r).data),l,function(){l++,++r%500==0?i.setFast(o):o()}):n()};o()})}else n()},e.prototype.drop=function(e,t){var n=new a.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,n.sortIndex=this._dbIndex[e].sortIndex,this._dbIndex[e]=n,this._sql(!0,"DELETE FROM "+this._chkTable(e),[],function(e){t()})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;o.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}()},function(e,t,n){(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(6),a=n(34),u=function(t){e._fs.existsSync(t)&&(e._fs.readdirSync(t).forEach(function(n){var r=t+"/"+n;e._fs.statSync(r).isDirectory()?u(r):e._fs.unlinkSync(r)}),e._fs.rmdirSync(t))};t._LevelStore=function(){function t(e,t,n){this.path=e,this.writeCache=t,this.readCache=n,this._pkKey={},this._pkType={},this._dbIndex={},this._levelDBs={},this._isPKnum={}}return t.prototype.connect=function(t){var n=this;o.fastALL(Object.keys(this._dbIndex),function(t,r,i){var o=[];n._levelDBs[t].createKeyStream().on("data",function(r){o.push(n._isPKnum[t]?new e._Int64BE(r.toString()).toNumber():r.toString())}).on("end",function(){o.length&&n._dbIndex[t].set(o),i()})}).then(t)},t.prototype.disconnect=function(e){var t=this;o.fastALL(Object.keys(this._dbIndex),function(e,n,r){t._levelDBs[e].close(r)}).then(function(){e()})},t.prototype.setID=function(t){this._id=t,this._path=(this.path||".")+"/db_"+this._id,e._fs.existsSync(this._path)||e._fs.mkdirSync(this._path)},t.prototype.makeTable=function(t,n){var r=this;this._dbIndex[t]=new a.DatabaseIndex,this._levelDBs[t]=e._levelup(e._leveldown(e._path.join(this._path,t)),{cacheSize:1024*(this.readCache||32)*1024,writeBufferSize:1024*(this.writeCache||32)*1024}),n.forEach(function(e){e.props&&o.intersect(["pk","pk()"],e.props)&&(r._pkType[t]=e.type,r._pkKey[t]=e.key,e.props&&o.intersect(["ai","ai()"],e.props)&&("int"===e.type||"number"===e.type)&&(r._dbIndex[t].doAI=!0),(e.props&&o.intersect(["ns","ns()"],e.props)||-1!==["uuid","timeId","timeIdms"].indexOf(r._pkType[t]))&&(r._dbIndex[t].sortIndex=!1))})},t.prototype.write=function(t,n,i,a){if(!(n=n||o.generateID(this._pkType[t],this._dbIndex[t].ai)))throw Error("Can't add a row without a primary key!");-1===this._dbIndex[t].indexOf(n)&&this._dbIndex[t].add(n);var u,s=r({},i,((u={})[this._pkKey[t]]=n,u));this._levelDBs[t].put(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,JSON.stringify(s),function(e){if(e)throw Error(e);a(s)})},t.prototype.delete=function(t,n,r){-1!==this._dbIndex[t].indexOf(n)&&this._dbIndex[t].remove(n),this._levelDBs[t].del(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,function(e){if(e)throw Error(e);r()})},t.prototype.read=function(t,n,r){-1!==this._dbIndex[t].indexOf(n)?this._levelDBs[t].get(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,function(e,t){if(e)throw Error(e);r(JSON.parse(t))}):r(null)},t.prototype.rangeRead=function(t,n,r,o,a,u){var s=this._dbIndex[t].keys(),c=-1===[typeof o,typeof a].indexOf("undefined"),f=c?[o,a]:[0,s.length-1],l=[];!1===this._dbIndex[t].sortIndex&&(s=s.sort());var p=u&&c?o:s[f[0]],d=u&&c?a:s[f[1]];this._levelDBs[t].createValueStream({gte:this._isPKnum[t]?new e._Int64BE(p).toBuffer():p,lte:this._isPKnum[t]?new e._Int64BE(d).toBuffer():d}).on("data",function(e){l.push(JSON.parse(e))}).on("end",function(){var e=f[0]||0,t=0,o=function(){t<l.length?n(l[t],e,function(){e++,++t%500==0?i.setFast(o):o()}):r()};o()})},t.prototype.drop=function(e,t){var n=this;o.fastALL(this._dbIndex[e].keys(),function(t,r,i){n._levelDBs[e].del(t,i)}).then(function(){var r=new a.DatabaseIndex;r.doAI=n._dbIndex[e].doAI,r.sortIndex=n._dbIndex[e].sortIndex,n._dbIndex[e]=r,t()})},t.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},t.prototype.destroy=function(e){var t=this;o.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,function(){t._levelDBs[e].close(r)})}).then(function(){u(t._path),e()})},t}()}).call(t,n(18))},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=["_hist","_hist_ptr","_id"];t._NanoSQLHistoryPlugin=function(){function e(e){this.historyModeArgs=e,this._tablePkKeys={},this._tablePkTypes={},this._tableKeys={}}return e.prototype.willConnect=function(e,t){var n=this;this.parent=e.parent;var a={};Object.keys(e.models).forEach(function(t){if(0!==t.indexOf("_")){var r=i._assign(e.models[t]).map(function(e){return e.props&&i.intersect(["pk","pk()"],e.props)&&(n._tablePkKeys[t]=e.key,n._tablePkTypes[t]=e.type,n._tableKeys[t]={}),delete e.props,delete e.default,e});r.unshift({key:"_id",type:"timeIdms",props:["pk"]}),a["_"+t+"__hist_rows"]=r,a["_"+t+"__hist_idx"]=[{key:"id",type:n._tablePkTypes[t],props:["pk"]},{key:"histRows",type:"timeIdms[]"},{key:"histPtr",type:"number"}]}});var u="string"!=typeof this.historyModeArgs,s=[{key:"id",type:"timeIdms",props:["pk"]},{key:"table",type:"string"},{key:"keys",type:"any[]"}],c=[{key:"id",type:"timeIdms",props:["pk"]},{key:"ptr",type:"int"}];"database"!==this.historyModeArgs&&this.historyModeArgs?("database"!==this.historyModeArgs||u)&&(this.historyModes={},u?this.historyModes=i._assign(this.historyModeArgs):Object.keys(this._tablePkKeys).forEach(function(e){n.historyModes[e]=n.historyModeArgs}),Object.keys(this.historyModes).forEach(function(e){"table"===n.historyModes[e]&&(a["_"+e+"__hist"]=s,a["_"+e+"__hist_ptr"]=c)})):(a[o[0]]=s,a[o[1]]=c),e.models=r({},e.models,a),t(e)},e.prototype._histTable=function(e){return e?this.historyModes?"table"===this.historyModes[e]?"_"+e+"__hist":null:"_hist":"__null"},e.prototype._generateHistoryPointers=function(e,t){var n=this,r=this._histTable(e);r?this.parent.query("select").manualExec({table:r+"_ptr"}).then(function(o){o.length?t():n.parent.query("upsert",{id:i.timeid(!0),table:e,ptr:0}).manualExec({table:r+"_ptr"}).then(t)}):t()},e.prototype.didConnect=function(e,t){var n=this,r=function(){i.fastALL(Object.keys(n._tableKeys),function(e,t,r){n.parent.extend("idx","_"+e+"__hist_idx").then(function(t){t.forEach(function(t){n._tableKeys[e][t]=!0}),n.historyModes?n._generateHistoryPointers(e,r):r()})}).then(t)};this.historyModes?r():this.parent.query("select").manualExec({table:"_hist_ptr"}).then(function(e){e.length?r():n.parent.query("upsert",{id:i.timeid(!0),table:"",ptr:0}).manualExec({table:"_hist_ptr"}).then(r)})},e.prototype._purgeRowHistory=function(e,t,n,r){var o=this,a="_"+e+"__hist_rows",u="_"+e+"__hist_idx";i.fastALL(t,function(t,n,s){o.parent.query("select").where(["id","=",t]).manualExec({table:u}).then(function(n){if(n.length){var c=Object.isFrozen(n[0])?i._assign(n[0]):n[0],f=[];if(r)f=f.concat(c.histRows.filter(function(e){return-1!==e})),c.histPtr=0,c.histRows=[];else{for(;c.histPtr--;)f.push(c.histRows.shift());c.histPtr=0}f.length?o.parent.query("upsert",c).comment("History Purge").where(["id","=",t]).manualExec({table:u}).then(function(){o.parent.query("delete").comment("History Purge").where(["_id","IN",f]).manualExec({table:a}).then(function(){r?o.parent.query("select").where([o._tablePkKeys[e],"=",t]).manualExec({table:e}).then(function(n){o._unshiftSingleRow(e,["change"],t,n[0],!1,s)}):s()})}):s()}else s()})}).then(n)},e.prototype._purgeTableHistory=function(e,t,n){var r=this;this.parent.query("select").manualExec({table:e+"_ptr"}).then(function(o){var a=Object.isFrozen(o[0])?i._assign(o[0]):o[0];if(n||a.ptr>0){var u=r.parent.query("select");n||u.range(-1*a.ptr,0),u.manualExec({table:e}).then(function(o){if(o.length){var u={};o.forEach(function(e){u[e.table]||(u[e.table]=[]),u[e.table]=u[e.table].concat(e.keys)}),i.fastALL(Object.keys(u),function(e,t,i){r._purgeRowHistory(e,u[e],i,n)}).then(function(){r.parent.query("delete").comment("History Purge").where(["id","IN",o.map(function(e){return e.id})]).manualExec({table:e}).then(function(){a.ptr=0,r.parent.query("upsert",a).comment("History Purge").where(["id","=",a.id]).manualExec({table:e+"_ptr"}).then(t)})})}else t()})}else t()})},e.prototype._purgeParentHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);r?this._purgeTableHistory(r,n):this._purgeRowHistory(e,t,n)}else this._purgeTableHistory("_hist",n)},e.prototype._purgeAllHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);r?this._purgeTableHistory(r,n,!0):this._purgeRowHistory(e,[t],n,!0)}else this._purgeTableHistory("_hist",n,!0)},e.prototype.didExec=function(e,t){var n=this;e.table&&0!==e.table.indexOf("_")&&e.types.indexOf("change")>-1&&-1===e.query.comments.indexOf("History Write")?this._purgeParentHistory(e.table,e.affectedRowPKS,function(){i.fastALL(e.affectedRows,function(t,r,i){var o=t[n._tablePkKeys[e.table]];n._tableKeys[e.table][o]?n._unshiftSingleRow(e.table,e.types,o,t,!1,function(e){i(o)}):(n._tableKeys[e.table][o]=!0,n._unshiftSingleRow(e.table,e.types,o,t,!0,function(t){n.parent.query("upsert",{id:o,histRows:[t,-1],histPtr:0}).manualExec({table:"_"+e.table+"__hist_idx"}).then(function(){i(o)})}))}).then(function(r){n._unshiftParent(e,r,t)})}):t(e)},e.prototype._unshiftParent=function(e,t,n){var r=this._histTable(e.table);r?this.parent.query("upsert",{id:i.timeid(!0),table:e.table,keys:t}).manualExec({table:r}).then(function(){n(e)}):n(e)},e.prototype._unshiftSingleRow=function(e,t,n,o,a,u){var s=this,c="_"+e+"__hist_idx",f=i.timeid(!0),l=function(e){s.parent.query("select").where(["id","=",n]).manualExec({table:c}).then(function(t){var r=Object.isFrozen(t[0])?i._assign(t[0]):t[0];r.histRows.unshift(e),s.parent.query("upsert",r).where(["id","=",n]).manualExec({table:c}).then(function(){u(e)})})};t.indexOf("delete")>-1||t.indexOf("drop")>-1?l(-1):this.parent.query("upsert",r({_id:f},o)).manualExec({table:"_"+e+"__hist_rows"}).then(function(){a?u(f):l(f)})},e.prototype.extend=function(e,t,n){if("hist"===t[0]){var r=t[1],i=t[2],o=t[3];switch(r){case"<":case">":this._shiftHistory(r,i,o,function(n){e(t,[n])});break;case"?":this._queryHistory(i,o,function(n){e(t,n)});break;case"rev":this._getRevisionHistory(i,o,function(n){e(t,n)});break;case"clear":this._purgeAllHistory(i,o,function(){e(t,n)})}}else e(t,n)},e.prototype._getRevisionHistory=function(e,t,n){var r=this,a="_"+e+"__hist_idx";this.parent.query("select").where(["id","=",t]).manualExec({table:a}).then(function(t){var a=t[0].histRows.filter(function(e){return-1!==e});r.parent.query("select").where(["_id","IN",a]).manualExec({table:"_"+e+"__hist_rows"}).then(function(e){var r={};e.forEach(function(e){r[e[o[2]]]=Object.isFrozen(e)?i._assign(e):e,delete r[e[o[2]]][o[2]]}),n([{pointer:t[0].histRows.length-t[0].histPtr-1,revisions:t[0].histRows.reverse().map(function(e){return-1===e?null:r[e]})}])})})},e.prototype._getTableHistory=function(e,t){var n=this;this.parent.extend("idx.length",e).then(function(r){n.parent.query("select").manualExec({table:e+"_ptr"}).then(function(e){t(e.length?[r,r-e[0].ptr]:[0,0])})})},e.prototype._queryHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);if(r){if(!e)throw Error("Need a table to query this history!");this._getTableHistory(r,n)}else{if(!t)throw Error("Need a row primary key to query this history!");var i="_"+e+"__hist_idx";this.parent.query("select").where(["id","=",t]).manualExec({table:i}).then(function(e){var t=e[0];n([t.histRows.length,t.histRows.length-t.histPtr-1])})}}else this._getTableHistory("_hist",function(e){n(e)})},e.prototype._shiftTableHistory=function(e,t,n){var r=this;this.parent.query("select").manualExec({table:t+"_ptr"}).then(function(o){var a=i._assign(o[0]);a.ptr+="<"===e?1:-1,a.ptr<0&&(a.ptr=0),r.parent.extend("idx.length",t).then(function(u){a.ptr>u&&(a.ptr=u),o[0].ptr!==a.ptr?r.parent.query("select").range(-1,"<"===e?o[0].ptr:a.ptr).manualExec({table:t}).then(function(o){r.parent.query("upsert",a).manualExec({table:t+"_ptr"}).then(function(){i.fastALL(o[0].keys,function(t,n,i){r._shiftRowHistory(e,o[0].table,t,i)}).then(function(e){n(e.indexOf(!0)>-1)})})}):n(!1)})})},e.prototype._shiftRowHistory=function(e,t,n,r){var o=this,a=function(e){o.parent.query("upsert",e).where([o._tablePkKeys[t],"=",n]).manualExec({table:"_"+t+"__hist_idx"}).then(function(){r(!0)})};this.parent.query("select").where([this._tablePkKeys[t],"=",n]).manualExec({table:"_"+t+"__hist_idx"}).then(function(u){var s=i._assign(u[0]);if(s.histPtr+="<"===e?1:-1,s.histPtr<0&&(s.histPtr=0),s.histPtr>s.histRows.length-1&&(s.histPtr=s.histRows.length-1),s.histPtr!==u[0].histPtr){var c=s.histRows[s.histPtr];-1===c?o.parent.query("delete").comment("History Write").where([o._tablePkKeys[t],"=",n]).manualExec({table:t}).then(function(){a(s)}):o.parent.query("select").where(["_id","=",c]).manualExec({table:"_"+t+"__hist_rows"}).then(function(e){o.parent.query("upsert",e[0]).comment("History Write").manualExec({table:t}).then(function(){a(s)})})}else r(!1)})},e.prototype._shiftHistory=function(e,t,n,r){if(this.historyModes){var i=this._histTable(t);if(i){if(!t)throw Error("Need a table to change this history!");this._shiftTableHistory(e,i,r)}else{if(!n)throw Error("Need a row primary key to change this history!");this._shiftRowHistory(e,t,n,r)}}else this._shiftTableHistory(e,"_hist",r)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(194),i=(n.n(r),new r.PubSub)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(195);t.PubSub=r.PubSub;var i=n(198);t.withFilter=i.withFilter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(196),i=n(197);t.PubSub=function(){function e(e){void 0===e&&(e={}),this.ee=e.eventEmitter||new r.EventEmitter,this.subscriptions={},this.subIdCounter=0}return e.prototype.publish=function(e,t){return this.ee.emit(e,t),!0},e.prototype.subscribe=function(e,t){return this.ee.addListener(e,t),this.subIdCounter=this.subIdCounter+1,this.subscriptions[this.subIdCounter]=[e,t],Promise.resolve(this.subIdCounter)},e.prototype.unsubscribe=function(e){var t=this.subscriptions[e],n=t[0],r=t[1];delete this.subscriptions[e],this.ee.removeListener(n,r)},e.prototype.asyncIterator=function(e){return i.eventEmitterAsyncIterator(this.ee,e)},e}()},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,u,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,s=0;s<a;s++)c[s].apply(this,u);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.eventEmitterAsyncIterator=function(e,t){var n,i=[],o=[],a="string"==typeof t?[t]:t,u=!0,s=function(e){0!==i.length?i.shift()({value:e,done:!1}):o.push(e)},c=function(){u&&(u=!1,f(),i.forEach(function(e){return e({value:void 0,done:!0})}),i.length=0,o.length=0)},f=function(){for(var t=0,n=a;t<n.length;t++)e.removeListener(n[t],s)};return function(){for(var t=0,n=a;t<n.length;t++)e.addListener(n[t],s)}(),(n={next:function(){return u?new Promise(function(e){0!==o.length?e({value:o.shift(),done:!1}):i.push(e)}):this.return()},return:function(){return c(),Promise.resolve({value:void 0,done:!0})},throw:function(e){return c(),Promise.reject(e)}})[r.$$asyncIterator]=function(){return this},n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.withFilter=function(e,t){return function(n,i,o,a){var u,s=e(n,i,o,a),c=function(){return s.next().then(function(e){return Promise.all([e,Promise.resolve(t(e.value,i,o,a)).catch(function(){return!1})])}).then(function(e){var t=e[0];return!0===e[1]||!0===t.done?t:c()})};return(u={next:function(){return c()},return:function(){return s.return()},throw:function(e){return s.throw(e)}})[r.$$asyncIterator]=function(){return this},u}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i=n(200),o=n(202),a=n(203),u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},c=(function(e){return u(this,void 0,void 0,function(){var t=this;return s(this,function(n){switch(n.label){case 0:return[4,e.get(function(n){return u(t,void 0,void 0,function(){var t;return s(this,function(r){switch(r.label){case 0:return[4,e.collectionCount("publication")];case 1:return r.sent()?[3,4]:(console.log("Loading dump from "+a.a),[4,function(e){return u(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,fetch(e,{method:"get"})];case 1:return[2,t.sent().json()]}})})}(a.a)]);case 2:return t=r.sent(),[4,n.rawImport(t)];case 3:r.sent(),r.label=4;case 4:return[2]}})})})];case 1:return[2,n.sent()]}})})}(r=new i.a(!1,"idb")).then(function(){console.log("DB Loaded")}),new o.a(r))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(33),i=(n.n(r),n(201)),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=function(){function e(e,t,n){void 0===t&&(t="PERM"),void 0===n&&(n={}),this.production=e,this.adapter=t,this.nSQLOptions=n,this.collections=[{name:"publication",schema:i.a}]}return e.prototype.get=function(t){return e.dbPromise||(e.dbPromise=this._create(t)),e.dbPromise},e.prototype.initializeCollection=function(e,t){return o(this,void 0,void 0,function(){var n,r,i;return a(this,function(o){switch(o.label){case 0:return[4,this.get()];case 1:return n=o.sent(),r=n.table(e),[4,this.collectionCount(e)];case 2:return 0!==o.sent()?[3,4]:[4,r.loadJS(e,t)];case 3:o.sent(),o.label=4;case 4:return[4,this.collectionCount(e)];case 5:return i=o.sent(),this.log(e+": "+i),[2]}})})},e.prototype.collectionCount=function(e,t){return o(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return t?[3,2]:[4,this.get()];case 1:t=r.sent(),r.label=2;case 2:return[4,t.table(e).query("select",["COUNT(*) AS total"]).exec()];case 3:return[2,(n=r.sent()[0]).total||n["COUNT(*) AS total"]||0]}})})},e.prototype.initialize=function(e){return o(this,void 0,void 0,function(){return a(this,function(e){return[2]})})},e.prototype._create=function(e){return o(this,void 0,void 0,function(){var t,n,i,o,u;return a(this,function(a){switch(a.label){case 0:t=Object.assign({mode:this.adapter},this.nSQLOptions),this.log("DatabaseService: creating database"),this.log("DatabaseService: creating collections"),n=null,i=0,o=this.collections,a.label=1;case 1:return i<o.length?(u=o[i],[4,(n=Object(r.nSQL)(u.name).model(u.schema).config(t)).connect()]):[3,4];case 2:a.sent(),this[u.name]=n,a.label=3;case 3:return i++,[3,1];case 4:return[4,this.initialize(n)];case 5:return a.sent(),e?[4,e(n)]:[3,7];case 6:a.sent(),a.label=7;case 7:return[2,n]}})})},e.prototype.log=function(e){this.production||console.log(e)},e.dbPromise=null,e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=[{key:"id",type:"string",props:["pk"]},{key:"title",type:"string"},{key:"author",type:"string"},{key:"year",type:"int"},{key:"pmid",type:"string"},{key:"doi",type:"string"},{key:"pmcid",type:"string"},{key:"journalName",type:"string"},{key:"journalId",type:"int"},{key:"subdisciplines",type:"array"},{key:"grantId",type:"string"},{key:"grantTitle",type:"string"},{key:"grantClasses",type:"array"},{key:"grantYear",type:"int"},{key:"grantInstitution",type:"string"},{key:"grantMechanism",type:"string"},{key:"fulltext",type:"string"}]},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=this;this.database=e,this.db=t,t||e.get().then(function(e){n.db=e})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="/assets/db-dump.json"}])}});